<!DOCTYPE html>
<!-- saved from url=(0060)http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/analytics.js"></script>
<meta charset="utf-8">
<title>深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/bundle-Minyx2_Lite.css">
<link type="text/css" rel="stylesheet" href="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/101461.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/TomXu/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/TomXu/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/TomXu/wlwmanifest.xml">
<script type="text/javascript" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/encoder.js"></script><script async="" type="text/javascript" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/gpt.js"></script><script src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'TomXu', cb_enable_mathjax=false;</script>
<script src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/blog-common.js" type="text/javascript"></script>
<script src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/bundle-Minyx2_Lite.js" language="javascript" type="text/javascript"></script>
<script async="" type="text/javascript" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/pubads_impl_56.js"></script><script src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/expansion_embed.js"></script><script type="text/javascript" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/osd.js"></script></head>
<body>
<a name="top"></a>


<div id="container">
    <a class="minyx" href="http://www.cnblogs.com/">代码改变世界</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
            
                
Posts - 143, 
Articles - 1, 
Comments - 18868
<!---->
            
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com/">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard">
            <a id="lnkDashboard" href="http://www.cnblogs.com/TomXu/admin/EditPosts.aspx">Dashboard</a></li>
        <li>
            <a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html">Login</a></li>
    </ul>

    <script type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
            <!-- 首页，当前section加上current类 -->
            <li id="menu-home" class="current">
                <a id="lnkHome" href="http://www.cnblogs.com/TomXu/">Home</a></li>
            <!-- 联系 -->
            <li id="menu-contact">
                <a id="lnkContact" href="http://space.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94">Contact</a></li>
            <!-- 相册 -->
            <li id="menu-gallary">
                <a id="lnkGallery" href="http://www.cnblogs.com/TomXu/gallery.html">Gallery</a></li>
            <!-- Rss订阅 -->
            <li id="rss">
                <a id="lnkRss" href="http://www.cnblogs.com/TomXu/rss">RSS</a></li>
        </ul>
        <div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/TomXu/">汤姆大叔的博客</a>
            <!-- 子标题 -->
            <small>
                </small>
        </h1>
    </div>

    <script type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>

    <div id="wrapper">
        <div id="content">
            <script type="text/javascript">
                var m = window.__blog.preRenderPosts;
                if (m) { m(); }
            </script>
            

<div class="post" id="post">
    <a name="top"></a>
    <h2><a id="cb_post_title_url" href="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园.html">深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐）</a></h2>
    <small>2012-02-06 09:27 by 汤姆大叔, <span id="post_view_count">10195</span> 阅读, <span id="post_comment_count">19</span> 评论, <a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#" onclick="AddToWz(2330609);return false;">收藏</a>,  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=2330609" rel="nofollow">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><h1>介绍</h1>
<p>本章是关于ECMAScript面向对象实现的第2篇，第1篇我们讨论的是概论和CEMAScript的比较，如果你还没有读第1篇，在进行本章之前，我强烈建议你先读一下第1篇，因为本篇实在太长了（35页）。</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">英文原文：http://dmitrysoshnikov.com/ecmascript/chapter-7-2-oop-ecmascript-implementation/</span></pre>
</div>
<p><span style="color: #99cc00;"><em>注：由于篇幅太长了，难免出现错误，时刻保持修正中。</em></span></p>
<p>在概论里，我们延伸到了ECMAScript，现在，当我们知道它OOP实现时，我们再来准确定义一下：</p>
<div class="cnblogs_code">
<pre><span style="color: #ff6600;">ECMAScript is an object-oriented programming language supporting delegating inheritance based on prototypes.</span><br><span style="color: #ff6600;">ECMAScript是一种<span style="color: #ff6600;">面向对象语言</span>，支持基于原型的委托式继承。</span></pre>
</div>
<p>我们将从最基本的数据类型来分析，首先要了解的是ECMAScript用原始值（primitive values）和对象（objects）来区分实体，因此有些文章里说的“在JavaScript里，一切都是对象”是错误的（不完全对），原始值就是我们这里要讨论的一些数据类型。</p>
<h1>数据类型</h1>
<p>虽然ECMAScript是可以动态转化类型的动态弱类型语言，它还是有数据类型的。也就是说，一个对象要属于一个实实在在的类型。<br>标准规范里定义了9种数据类型，但只有6种是在ECMAScript程序里可以直接访问的,它们是：Undefined、Null、Boolean、String、Number、Object。</p>
<p>另外3种类型只能在实现级别访问（ECMAScript对象是不能使用这些类型的）并用于规范来解释一些操作行为、保存中间值。这3种类型是：Reference、List和Completion。</p>
<p>因此，Reference是用来解释delete、typeof、this这样的操作符，并且包含一个基对象和一个属性名称；List描述的是参数列表的行为（在new表达式和函数调用的时候）；Completion是用来解释行为break、continue、return和throw语句的。</p>
<h2><strong>原始值类型</strong></h2>
<p>回头来看6中用于ECMAScript程序的数据类型，前5种是原始值类型，包括Undefined、Null、Boolean、String、Number、Object。<br>原始值类型例子：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">var</span> a = undefined;<br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">null</span>;<br><span style="color: #0000ff;">var</span> c = <span style="color: #0000ff;">true</span>;<br><span style="color: #0000ff;">var</span> d = 'test';<br><span style="color: #0000ff;">var</span> e = 10;</pre>
</div>
<p>这些值是在底层上直接实现的，他们不是object，所以没有原型，没有构造函数。</p>
<p><span style="color: #ff6600;">大叔注：这些原生值和我们平时用的(Boolean、String、Number、Object)虽然名字上相似，但不是同一个东西。所以typeof(true)和typeof(Boolean)结果是不一样的，因为typeof(Boolean)的结果是function，所以函数Boolean、String、Number是有原型的（下面的读写属性章节也会提到）。</span></p>
<p>想知道数据是哪种类型用typeof是最好不过了，有个例子需要注意一下，如果用typeof来判断null的类型，结果是object，为什么呢？因为null的类型是定义为Null的。</p>
<div class="cnblogs_code">
<pre>alert(<span style="color: #0000ff;">typeof</span> <span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> "object"</span></pre>
</div>
<p>显示"object"原因是因为规范就是这么规定的：对于Null值的typeof字符串值返回"object“。</p>
<p>规范没有想象解释这个，但是Brendan Eich (JavaScript发明人)注意到null相对于undefined大多数都是用于对象出现的地方，例如设置一个对象为空引用。但是有些文档里有些气人将之归结为bug，而且将该bug放在Brendan Eich也参与讨论的bug列表里，结果就是任其自然，还是把typeof null的结果设置为object（尽管262-3的标准是定义null的类型是Null，262-5已经将标准修改为null的类型是object了）。</p>
<h2><strong>Object类型</strong></h2>
<p>接着，Object类型（不要和Object构造函数混淆了，现在只讨论抽象类型）是描述 ECMAScript对象的唯一一个数据类型。</p>
<div class="cnblogs_code">
<pre><span style="color: #ff6600;">Object is an unordered collection of key-value pairs.</span><br><span style="color: #ff6600;">对象是一个包含key-value对的无序集合</span></pre>
</div>
<p>对象的key值被称为属性，属性是原始值和其他对象的容器。如果属性的值是函数我们称它为方法 。</p>
<p>例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> x = { <span style="color: #008000;">//</span><span style="color: #008000;"> 对象"x"有3个属性: a, b, c</span><span style="color: #008000;"><br></span>  a: 10, <span style="color: #008000;">//</span><span style="color: #008000;"> 原始值</span><span style="color: #008000;"><br></span>  b: {z: 100}, <span style="color: #008000;">//</span><span style="color: #008000;"> 对象"b"有一个属性z</span><span style="color: #008000;"><br></span>  c: <span style="color: #0000ff;">function</span> () { <span style="color: #008000;">//</span><span style="color: #008000;"> 函数(方法)</span><span style="color: #008000;"><br></span>    alert('method x.c');<br>  }<br>};<br> <br>alert(x.a); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(x.b); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Object]</span><span style="color: #008000;"><br></span>alert(x.b.z); <span style="color: #008000;">//</span><span style="color: #008000;"> 100</span><span style="color: #008000;"><br></span>x.c(); <span style="color: #008000;">//</span><span style="color: #008000;"> 'method x.c'</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3><strong>动态性</strong></h3>
<p>正如我们在第17章中指出的，ES中的对象是完全动态的。这意味着，在程序执行的时候我们可以任意地添加，修改或删除对象的属性。</p>
<p>例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> foo = {x: 10};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 添加新属性</span><span style="color: #008000;"><br></span>foo.y = 20;<br>console.log(foo); <span style="color: #008000;">//</span><span style="color: #008000;"> {x: 10, y: 20}</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 将属性值修改为函数</span><span style="color: #008000;"><br></span>foo.x = <span style="color: #0000ff;">function</span> () {<br>  console.log('foo.x');<br>};<br> <br>foo.x(); <span style="color: #008000;">//</span><span style="color: #008000;"> 'foo.x'</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 删除属性</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">delete</span> foo.x;<br>console.log(foo); <span style="color: #008000;">//</span><span style="color: #008000;"> {y: 20}</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>有些属性不能被修改——（只读属性、已删除属性或不可配置的属性）。 我们将稍后在属性特性里讲解。</p>
<p>另外，ES5规范规定，静态对象不能扩展新的属性，并且它的属性页不能删除或者修改。他们是所谓的冻结对象，可以通过应用Object.freeze(o)方法得到。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> foo = {x: 10};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 冻结对象</span><span style="color: #008000;"><br></span>Object.freeze(foo);<br>console.log(Object.isFrozen(foo)); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能修改</span><span style="color: #008000;"><br></span>foo.x = 100;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能扩展</span><span style="color: #008000;"><br></span>foo.y = 200;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能删除</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">delete</span> foo.x;<br> <br>console.log(foo); <span style="color: #008000;">//</span><span style="color: #008000;"> {x: 10}</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>在ES5规范里，也使用Object.preventExtensions(o)方法防止扩展，或者使用Object.defineProperty(o)方法来定义属性：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> foo = {x : 10};<br> <br>Object.defineProperty(foo, "y", {<br>  value: 20,<br>  writable: <span style="color: #0000ff;">false</span>, <span style="color: #008000;">//</span><span style="color: #008000;"> 只读</span><span style="color: #008000;"><br></span>  configurable: <span style="color: #0000ff;">false</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 不可配置</span><span style="color: #008000;"><br></span>});<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能修改</span><span style="color: #008000;"><br></span>foo.y = 200;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能删除</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">delete</span> foo.y; <span style="color: #008000;">//</span><span style="color: #008000;"> false</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 防治扩展</span><span style="color: #008000;"><br></span>Object.preventExtensions(foo);<br>console.log(Object.isExtensible(foo)); <span style="color: #008000;">//</span><span style="color: #008000;"> false</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不能添加新属性</span><span style="color: #008000;"><br></span>foo.z = 30;<br> <br>console.log(foo); {x: 10, y: 20}</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3><strong>内置对象、原生对象及宿主对象</strong></h3>
<p>有必要需要注意的是规范还区分了这内置对象、元素对象和宿主对象。</p>
<p>内置对象和元素对象是被ECMAScript规范定义和实现的，两者之间的差异微不足道。所有ECMAScript实现的对象都是原生对象（其中一些是内置对象、一些在程序执行的时候创建，例如用户自定义对象）。内置对象是原生对象的一个子集、是在程序开始之前内置到ECMAScript里的（例如，parseInt, Match等）。所有的宿主对象是由宿主环境提供的，通常是浏览器，并可能包括如window、alert等。</p>
<p>注意，宿主对象可能是ES自身实现的，完全符合规范的语义。从这点来说，他们能称为“原生宿主”对象（尽快很理论），不过规范没有定义“原生宿主”对象的概念。</p>
<h3><strong>Boolean，String和Number对象</strong></h3>
<p>另外，规范也定义了一些原生的特殊包装类，这些对象是：</p>
<ol>
<li>布尔对象</li>
<li>字符串对象</li>
<li>数字对象</li>
</ol>
<p>这些对象的创建，是通过相应的内置构造器创建，并且包含原生值作为其内部属性，这些对象可以转换省原始值，反之亦然。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> c = <span style="color: #0000ff;">new</span> Boolean(<span style="color: #0000ff;">true</span>);<br><span style="color: #0000ff;">var</span> d = <span style="color: #0000ff;">new</span> String('test');<br><span style="color: #0000ff;">var</span> e = <span style="color: #0000ff;">new</span> Number(10);<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 转换成原始值</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 使用不带new关键字的函数</span><span style="color: #008000;"><br></span>с = Boolean(c);<br>d = String(d);<br>e = Number(e);<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 重新转换成对象</span><span style="color: #008000;"><br></span>с = Object(c);<br>d = Object(d);<br>e = Object(e);</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>此外，也有对象是由特殊的内置构造函数创建： Function（函数对象构造器）、Array（数组构造器） RegExp（正则表达式构造器）、Math（数学模块）、 Date（日期的构造器）等等，这些对象也是Object对象类型的值，他们彼此的区别是由内部属性管理的，我们在下面讨论这些内容。</p>
<h3><strong>字面量Literal</strong></h3>
<p>对于三个对象的值：对象（object）,数组（array）和正则表达式（regular expression），他们分别有简写的标示符称为：对象初始化器、数组初始化器、和正则表达式初始化器：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 等价于new Array(1, 2, 3);</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 或者array = new Array();</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> array[0] = 1;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> array[1] = 2;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> array[2] = 3;</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> array = [1, 2, 3];<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 等价于</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> var object = new Object();</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> object.a = 1;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> object.b = 2;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> object.c = 3;</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> object = {a: 1, b: 2, c: 3};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 等价于new RegExp("^\\d+$", "g")</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> re = /^\d+$/g;</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>注意，如果上述三个对象进行重新赋值名称到新的类型上的话，那随后的实现语义就是按照新赋值的类型来使用，例如在当前的Rhino和老版本SpiderMonkey 1.7的实现上，会成功以new关键字的构造器来创建对象，但有些实现（当前Spider/TraceMonkey）字面量的语义在类型改变以后却不一定改变。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> getClass = Object.prototype.toString;<br> <br>Object = Number;<br> <br><span style="color: #0000ff;">var</span> foo = <span style="color: #0000ff;">new</span> Object;<br>alert([foo, getClass.call(foo)]); <span style="color: #008000;">//</span><span style="color: #008000;"> 0, "[object Number]"</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> bar = {};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> Rhino, SpiderMonkey 1.7中 - 0, "[object Number]"</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 其它: still "[object Object]", "[object Object]"</span><span style="color: #008000;"><br></span>alert([bar, getClass.call(bar)]);<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> Array也是一样的效果</span><span style="color: #008000;"><br></span>Array = Number;<br> <br>foo = <span style="color: #0000ff;">new</span> Array;<br>alert([foo, getClass.call(foo)]); <span style="color: #008000;">//</span><span style="color: #008000;"> 0, "[object Number]"</span><span style="color: #008000;"><br></span> <br>bar = [];<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> Rhino, SpiderMonkey 1.7中 - 0, "[object Number]"</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 其它: still "", "[object Object]"</span><span style="color: #008000;"><br></span>alert([bar, getClass.call(bar)]);<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但对RegExp,字面量的语义是不被改变的。 semantics of the literal</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> isn't being changed in all tested implementations</span><span style="color: #008000;"><br></span> <br>RegExp = Number;<br> <br>foo = <span style="color: #0000ff;">new</span> RegExp;<br>alert([foo, getClass.call(foo)]); <span style="color: #008000;">//</span><span style="color: #008000;"> 0, "[object Number]"</span><span style="color: #008000;"><br></span> <br>bar = /(?!)/g;<br>alert([bar, getClass.call(bar)]); <span style="color: #008000;">//</span><span style="color: #008000;"> /(?!)/g, "[object RegExp]"</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>正则表达式字面量和RegExp对象</p>
<p>注意，下面2个例子在第三版的规范里，正则表达式的语义都是等价的，regexp字面量只在一句里存在，并且再解析阶段创建，但RegExp构造器创建的却是新对象，所以这可能会导致出一些问题，如lastIndex的值在测试的时候结果是错误的：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> k = 0; k &lt; 4; k++) {<br>  <span style="color: #0000ff;">var</span> re = /ecma/g;<br>  alert(re.lastIndex); <span style="color: #008000;">//</span><span style="color: #008000;"> 0, 4, 0, 4</span><span style="color: #008000;"><br></span>  alert(re.test("ecmascript")); <span style="color: #008000;">//</span><span style="color: #008000;"> true, false, true, false</span><span style="color: #008000;"><br></span>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 对比</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> k = 0; k &lt; 4; k++) {<br>  <span style="color: #0000ff;">var</span> re = <span style="color: #0000ff;">new</span> RegExp("ecma", "g");<br>  alert(re.lastIndex); <span style="color: #008000;">//</span><span style="color: #008000;"> 0, 0, 0, 0</span><span style="color: #008000;"><br></span>  alert(re.test("ecmascript")); <span style="color: #008000;">//</span><span style="color: #008000;"> true, true, true, true</span><span style="color: #008000;"><br></span>}</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="color: #339966;">注：不过这些问题在第5版的ES规范都已经修正了，不管是基于字面量的还是构造器的，正则都是创建新对象</span>。</p>
<h3><strong>关联数组</strong></h3>
<p>各种文字静态讨论，JavaScript对象（经常是用对象初始化器{}来创建）被称为哈希表哈希表或其它简单的称谓：哈希（Ruby或Perl里的概念）， 管理数组（PHP里的概念），词典 （Python里的概念）等。</p>
<p>只有这样的术语，主要是因为他们的结构都是相似的，就是使用“键-值”对来存储对象，完全符合“关联数组 ”或“哈希表 ”理论定义的数据结构。 此外，哈希表抽象数据类型通常是在实现层面使用。</p>
<p>但是，尽管术语上来描述这个概念，但实际上这个是错误，从ECMAScript来看：ECMAScript只有一个对象以及类型以及它的子类型，这和“键-值”对存储没有什么区别，因此在这上面没有特别的概念。 因为任何对象的内部属性都可以存储为键-值”对：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = {x: 10};<br>a['y'] = 20;<br>a.z = 30;<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> Number(1);<br>b.x = 10;<br>b.y = 20;<br>b['z'] = 30;<br> <br><span style="color: #0000ff;">var</span> c = <span style="color: #0000ff;">new</span> Function('');<br>c.x = 10;<br>c.y = 20;<br>c['z'] = 30;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 等等，任意对象的子类型"subtype"</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>此外，由于在ECMAScript中对象可以是空的，所以"hash"的概念在这里也是不正确的：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>Object.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = {}; <span style="color: #008000;">//</span><span style="color: #008000;"> 创建空"hash"</span><span style="color: #008000;"><br></span> <br>alert(a["x"]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 但不为空</span><span style="color: #008000;"><br></span>alert(a.toString); <span style="color: #008000;">//</span><span style="color: #008000;"> function</span><span style="color: #008000;"><br></span> <br>a["y"] = 20; <span style="color: #008000;">//</span><span style="color: #008000;"> 添加新的键值对到 "hash"</span><span style="color: #008000;"><br></span>alert(a["y"]); <span style="color: #008000;">//</span><span style="color: #008000;"> 20</span><span style="color: #008000;"><br></span> <br>Object.prototype.y = 20; <span style="color: #008000;">//</span><span style="color: #008000;"> 添加原型属性</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">delete</span> a["y"]; <span style="color: #008000;">//</span><span style="color: #008000;"> 删除</span><span style="color: #008000;"><br></span>alert(a["y"]); <span style="color: #008000;">//</span><span style="color: #008000;"> 但这里key和value依然有值 – 20</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>请注意， ES5标准可以让我们创建没原型的对象（使用Object.create(null)方法实现）对，从这个角度来说，这样的对象可以<em><strong><span style="text-decoration: underline;"><span style="color: #888888; text-decoration: underline;">称之为</span></span></strong></em>哈希表：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">var</span> aHashTable = Object.create(<span style="color: #0000ff;">null</span>);<br>console.log(aHashTable.toString); <span style="color: #008000;">//</span><span style="color: #008000;"> 未定义</span></pre>
</div>
<p>此外，一些属性有特定的getter / setter方法​​，所以也可能导致混淆这个概念：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> String("foo");<br>a['length'] = 10;<br>alert(a['length']); <span style="color: #008000;">//</span><span style="color: #008000;"> 3</span></pre>
</div>
<p>然而，即使认为“哈希”可能有一个“原型”（例如，在Ruby或Python里委托哈希对象的类），在ECMAScript里，这个术语也是不对的，因为2个表示法之间没有语义上的区别（即用点表示法a.b和a["b"]表示法）。</p>
<p>在ECMAScript中的“property属性”的概念语义上和"key"、数组索引、方法没有分开的，这里所有对象的属性读写都要遵循统一的规则：检查原型链。</p>
<p>在下面Ruby的例子中，我们可以看到语义上的区别：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>a = {}<br>a.<span style="color: #0000ff;">class</span> <span style="color: #008000;">#</span><span style="color: #008000;"> Hash</span><span style="color: #008000;"><br></span> <br>a.length <span style="color: #008000;">#</span><span style="color: #008000;"> 0</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">#</span><span style="color: #008000;"> new "key-value" pair</span><span style="color: #008000;"><br></span>a[<span style="color: #800000;">'</span><span style="color: #800000;">length</span><span style="color: #800000;">'</span>] = 10;<br> <br><span style="color: #008000;">#</span><span style="color: #008000;"> 语义上，用点访问的是属性或方法，而不是key</span><span style="color: #008000;"><br></span> <br>a.length <span style="color: #008000;">#</span><span style="color: #008000;"> 1</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">#</span><span style="color: #008000;"> 而索引器访问访问的是hash里的key</span><span style="color: #008000;"><br></span> <br>a[<span style="color: #800000;">'</span><span style="color: #800000;">length</span><span style="color: #800000;">'</span>] <span style="color: #008000;">#</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">#</span><span style="color: #008000;"> 就类似于在现有对象上动态声明Hash类</span><span style="color: #008000;"><br>#</span><span style="color: #008000;"> 然后声明新属性或方法</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">class</span> Hash<br>  <span style="color: #0000ff;">def</span> z<br>    100<br>  end<br>end<br> <br><span style="color: #008000;">#</span><span style="color: #008000;"> 新属性可以访问</span><span style="color: #008000;"><br></span> <br>a.z <span style="color: #008000;">#</span><span style="color: #008000;"> 100</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">#</span><span style="color: #008000;"> 但不是"key"</span><span style="color: #008000;"><br></span> <br>a[<span style="color: #800000;">'</span><span style="color: #800000;">z</span><span style="color: #800000;">'</span>] <span style="color: #008000;">#</span><span style="color: #008000;"> nil</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>ECMA-262-3标准并没有定义“哈希”（以及类似）的概念。但是，有这样的结构理论的话，那可能以此命名的对象。</p>
<h3><strong>对象转换</strong></h3>
<p>将对象转化成原始值可以用valueOf方法，正如我们所说的，当函数的构造函数调用做为function（对于某些类型的），但如果不用new关键字就是将对象转化成原始值，就相当于隐式的valueOf方法调用：<br><br></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> Number(1);<br><span style="color: #0000ff;">var</span> primitiveA = Number(a); <span style="color: #008000;">//</span><span style="color: #008000;"> 隐式"valueOf"调用</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> alsoPrimitiveA = a.valueOf(); <span style="color: #008000;">//</span><span style="color: #008000;"> 显式调用</span><span style="color: #008000;"><br></span> <br>alert([<br>  <span style="color: #0000ff;">typeof</span> a, <span style="color: #008000;">//</span><span style="color: #008000;"> "object"</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">typeof</span> primitiveA, <span style="color: #008000;">//</span><span style="color: #008000;"> "number"</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">typeof</span> alsoPrimitiveA <span style="color: #008000;">//</span><span style="color: #008000;"> "number"</span><span style="color: #008000;"><br></span>]);</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>这种方式允许对象参与各种操作，例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> Number(1);<br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> Number(2);<br> <br>alert(a + b); <span style="color: #008000;">//</span><span style="color: #008000;"> 3</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 甚至</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> c = {<br>  x: 10,<br>  y: 20,<br>  valueOf: <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span>.x + <span style="color: #0000ff;">this</span>.y;<br>  }<br>};<br> <br><span style="color: #0000ff;">var</span> d = {<br>  x: 30,<br>  y: 40,<br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 和c的valueOf功能一样</span><span style="color: #008000;"><br></span>  valueOf: c.valueOf<br>};<br> <br>alert(c + d); <span style="color: #008000;">//</span><span style="color: #008000;"> 100</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>valueOf的默认值会根据根据对象的类型改变（如果不被覆盖的话），对某些对象，他返回的是this——例如：Object.prototype.valueOf()，还有计算型的值：Date.prototype.valueOf()返回的是日期时间：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = {};<br>alert(a.valueOf() === a); <span style="color: #008000;">//</span><span style="color: #008000;"> true, "valueOf"返回this</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> d = <span style="color: #0000ff;">new</span> Date();<br>alert(d.valueOf()); <span style="color: #008000;">//</span><span style="color: #008000;"> time</span><span style="color: #008000;"><br></span>alert(d.valueOf() === d.getTime()); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>此外,对象还有一个更原始的代表性——字符串展示。 这个toString方法是可靠的，它在某些操作上是自动使用的：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = {<br>  valueOf: <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">return</span> 100;<br>  },<br>  toString: <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">return</span> '__test';<br>  }<br>};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 这个操作里，toString方法自动调用</span><span style="color: #008000;"><br></span>alert(a); <span style="color: #008000;">//</span><span style="color: #008000;"> "__test"</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但是这里，调用的却是valueOf()方法</span><span style="color: #008000;"><br></span>alert(a + 10); <span style="color: #008000;">//</span><span style="color: #008000;"> 110</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但，一旦valueOf删除以后</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> toString又可以自动调用了</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">delete</span> a.valueOf;<br>alert(a + 10); <span style="color: #008000;">//</span><span style="color: #008000;"> "_test10"</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>Object.prototype上定义的toString方法具有特殊意义，它返回的我们下面将要讨论的内部[[Class]]属性值。</p>
<p>和转化成原始值（ToPrimitive）相比，将值转化成对象类型也有一个转化规范（ToObject）。</p>
<p>一个显式方法是使用内置的Object构造函数作为function来调用ToObject（有些类似通过new关键字也可以）：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> n = Object(1); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Number]</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> s = Object('test'); <span style="color: #008000;">//</span><span style="color: #008000;"> [object String]</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 一些类似，使用new操作符也可以</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> Object(<span style="color: #0000ff;">true</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Boolean]</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 应用参数new Object的话创建的是简单对象</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> o = <span style="color: #0000ff;">new</span> Object(); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Object]</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果参数是一个现有的对象</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 那创建的结果就是简单返回该对象</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> a = [];<br>alert(a === <span style="color: #0000ff;">new</span> Object(a)); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span>alert(a === Object(a)); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>关于调用内置构造函数，使用还是不适用new操作符没有通用规则，取决于构造函数。 例如Array或Function当使用new操作符的构造函数或者不使用new操作符的简单函数使用产生相同的结果的：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = Array(1, 2, 3); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Array]</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> Array(1, 2, 3); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Array]</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> c = [1, 2, 3]; <span style="color: #008000;">//</span><span style="color: #008000;"> [object Array]</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> d = Function(''); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Function]</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> e = <span style="color: #0000ff;">new</span> Function(''); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Function]</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>有些操作符使用的时候，也有一些显示和隐式转化：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = 1;<br><span style="color: #0000ff;">var</span> b = 2;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 隐式</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> c = a + b; <span style="color: #008000;">//</span><span style="color: #008000;"> 3, number</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> d = a + b + '5' <span style="color: #008000;">//</span><span style="color: #008000;"> "35", string</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 显式</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> e = '10'; <span style="color: #008000;">//</span><span style="color: #008000;"> "10", string</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> f = +e; <span style="color: #008000;">//</span><span style="color: #008000;"> 10, number</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> g = parseInt(e, 10); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, number</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 等等</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3><strong>属性的特性</strong></h3>
<p>所有的属性（property） 都可以有很多特性（attributes）。</p>
<ol>
<li>{ReadOnly}——忽略向属性赋值的写操作尝，但只读属性可以由宿主环境行为改变——也就是说不是“恒定值” ;</li>
<li>{DontEnum}——属性不能被for..in循环枚举</li>
<li>{DontDelete}——糊了delete操作符的行为被忽略（即删不掉）;</li>
<li>{Internal}——内部属性，没有名字（仅在实现层面使用），ECMAScript里无法访问这样的属性。</li>
</ol>
<p><span style="color: #ff6600;"><em>注意，在ES5里{ReadOnly}，{DontEnum}和{DontDelete}被重新命名为[[Writable]]，[[Enumerable]]和[[Configurable]]，可以手工通过Object.defineProperty或类似的方法来管理这些属性。</em></span></p>
<p>&nbsp;</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> foo = {};<br> <br>Object.defineProperty(foo, "x", {<br>  value: 10,<br>  writable: <span style="color: #0000ff;">true</span>, <span style="color: #008000;">//</span><span style="color: #008000;"> 即{ReadOnly} = false</span><span style="color: #008000;"><br></span>  enumerable: <span style="color: #0000ff;">false</span>, <span style="color: #008000;">//</span><span style="color: #008000;"> 即{DontEnum} = true</span><span style="color: #008000;"><br></span>  configurable: <span style="color: #0000ff;">true</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 即{DontDelete} = false</span><span style="color: #008000;"><br></span>});<br> <br>console.log(foo.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 通过descriptor获取特性集attributes</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> desc = Object.getOwnPropertyDescriptor(foo, "x");<br> <br>console.log(desc.enumerable); <span style="color: #008000;">//</span><span style="color: #008000;"> false</span><span style="color: #008000;"><br></span>console.log(desc.writable); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 等等</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3><strong>内部属性和方法</strong></h3>
<p>对象也可以有内部属性（实现层面的一部分），并且ECMAScript程序无法直接访问（但是下面我们将看到，一些实现允许访问一些这样的属性）。 这些属性通过嵌套的中括号[[ ]]进行访问。我们来看其中的一些，这些属性的描述可以到规范里查阅到。</p>
<p>每个对象都应该实现如下内部属性和方法：</p>
<ol>
<li>[[Prototype]]——对象的原型（将在下面详细介绍）</li>
<li>[[Class]]——字符串对象的一种表示（例如，Object Array ，Function Object，Function等）;用来区分对象</li>
<li>[[Get]]——获得属性值的方法</li>
<li>[[Put]]——设置属性值的方法</li>
<li>[[CanPut]]——检查属性是否可写</li>
<li>[[HasProperty]]——检查对象是否已经拥有该属性</li>
<li>[[Delete]]——从对象删除该属性</li>
<li>[[DefaultValue]]返回对象对于的原始值（调用valueOf方法，某些对象可能会抛出TypeError异常）。</li>
</ol>
<p>通过Object.prototype.toString()方法可以间接得到内部属性[[Class]]的值，该方法应该返回下列字符串： "[object " + [[Class]] + "]" 。例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> getClass = Object.prototype.toString;<br> <br>getClass.call({}); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Object]</span><span style="color: #008000;"><br></span>getClass.call([]); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Array]</span><span style="color: #008000;"><br></span>getClass.call(<span style="color: #0000ff;">new</span> Number(1)); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Number]</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 等等</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>这个功能通常是用来检查对象用的，但规范上说宿主对象的[[Class]]可以为任意值，包括内置对象的[[Class]]属性的值，所以理论上来看是不能100%来保证准确的。例如，document.childNodes.item(...)方法的[[Class]]属性，在IE里返回"String"，但其它实现里返回的确实"Function"。</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> in IE - "String", in other - "Function"</span><span style="color: #008000;"><br></span>alert(getClass.call(document.childNodes.item));</pre>
</div>
<h1>构造函数</h1>
<p>因此，正如我们上面提到的，在ECMAScript中的对象是通过所谓的构造函数来创建的。</p>
<div class="cnblogs_code">
<pre><span style="color: #ff6600;">Constructor is a function that creates and initializes the newly created object.</span><br><span style="color: #ff6600;">构造函数是一个函数，用来创建并初始化新创建的对象。</span></pre>
</div>
<p>对象创建（内存分配）是由构造函数的内部方法[[Construct]]负责的。该内部方法的行为是定义好的，所有的构造函数都是使用该方法来为新对象分配内存的。</p>
<p>而初始化是通过新建对象上下上调用该函数来管理的，这是由构造函数的内部方法[[Call]]来负责任的。</p>
<p>注意，用户代码只能在初始化阶段访问，虽然在初始化阶段我们可以返回不同的对象（忽略第一阶段创建的tihs对象）：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {<br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 更新新创建的对象</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">this</span>.x = 10;<br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 但返回的是不同的对象</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">return</span> [1, 2, 3];<br>}<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>console.log(a.x, a); undefined, [1, 2, 3]</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>引用15章函数——创建函数的算法小节，我们可以看到该函数是一个原生对象，包含[[Construct]] ]和[[Call]] ]属性以及显示的prototype原型属性——未来对象的原型（注：NativeObject是对于native object原生对象的约定，在下面的伪代码中使用）。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>F = <span style="color: #0000ff;">new</span> NativeObject();<br> <br>F.[[Class]] = "Function"<br> <br>.... <span style="color: #008000;">//</span><span style="color: #008000;"> 其它属性</span><span style="color: #008000;"><br></span> <br>F.[[Call]] = &lt;reference to <span style="color: #0000ff;">function</span>&gt; <span style="color: #008000;">//</span><span style="color: #008000;"> function自身</span><span style="color: #008000;"><br></span> <br>F.[[Construct]] = internalConstructor <span style="color: #008000;">//</span><span style="color: #008000;"> 普通的内部构造函数</span><span style="color: #008000;"><br></span> <br>.... <span style="color: #008000;">//</span><span style="color: #008000;"> 其它属性</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> F构造函数创建的对象原型</span><span style="color: #008000;"><br></span>__objectPrototype = {};<br>__objectPrototype.constructor = F <span style="color: #008000;">//</span><span style="color: #008000;"> {DontEnum}</span><span style="color: #008000;"><br></span>F.prototype = __objectPrototype</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>[[Call]] ]是除[[Class]]属性（这里等同于"Function" ）之外区分对象的主要方式，因此，对象的内部[[Call]]属性作为函数调用。 这样的对象用typeof运算操作符的话返回的是"function"。然而它主要是和原生对象有关，有些情况的实现在用typeof获取值的是不一样的，例如：window.alert (...)在IE中的效果：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> IE浏览器中 - "Object", "object", 其它浏览器 - "Function", "function"</span><span style="color: #008000;"><br></span>alert(Object.prototype.toString.call(window.alert));<br>alert(<span style="color: #0000ff;">typeof</span> window.alert); <span style="color: #008000;">//</span><span style="color: #008000;"> "Object"</span></pre>
</div>
<p>内部方法[[Construct]]是通过使用带new运算符的构造函数来激活的，正如我们所说的这个方法是负责内存分配和对象创建的。如果没有参数，调用构造函数的括号也可以省略：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A(x) { <span style="color: #008000;">//</span><span style="color: #008000;"> constructor А</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">this</span>.x = x || 10;<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不传参数的话，括号也可以省略</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A; <span style="color: #008000;">//</span><span style="color: #008000;"> or new A();</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 显式传入参数x</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> A(20);<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 20</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>我们也知道，构造函数（初始化阶段）里的shis被设置为新创建的对象 。</p>
<p>让我们研究一下对象创建的算法。</p>
<h2><strong>对象创建的算法</strong></h2>
<p>内部方法[[Construct]] 的行为可以描述成如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>F.[[Construct]](initialParameters):<br> <br>O = <span style="color: #0000ff;">new</span> NativeObject();<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 属性[[Class]]被设置为"Object"</span><span style="color: #008000;"><br></span>O.[[Class]] = "Object"<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 引用F.prototype的时候获取该对象g</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> __objectPrototype = F.prototype;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果__objectPrototype是对象，就:</span><span style="color: #008000;"><br></span>O.[[Prototype]] = __objectPrototype<br><span style="color: #008000;">//</span><span style="color: #008000;"> 否则:</span><span style="color: #008000;"><br></span>O.[[Prototype]] = Object.prototype;<br><span style="color: #008000;">//</span><span style="color: #008000;"> 这里O.[[Prototype]]是Object对象的原型</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 新创建对象初始化的时候应用了F.[[Call]]</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 将this设置为新创建的对象O</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 参数和F里的initialParameters是一样的</span><span style="color: #008000;"><br></span>R = F.[[Call]](initialParameters); <span style="color: #0000ff;">this</span> === O;<br><span style="color: #008000;">//</span><span style="color: #008000;"> 这里R是[[Call]]的返回值</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 在JS里看，像这样:</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> R = F.apply(O, initialParameters);</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果R是对象</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">return</span> R<br><span style="color: #008000;">//</span><span style="color: #008000;"> 否则</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">return</span> O</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>请注意两个主要特点：</p>
<ol>
<li>首先，新创建对象的原型是从当前时刻函数的prototype属性获取的（这意味着同一个构造函数创建的两个创建对象的原型可以不同是因为函数的prototype属性也可以不同）。</li>
<li>其次，正如我们上面提到的，如果在对象初始化的时候，[[Call]]返回的是对象，这恰恰是用于整个new操作符的结果：</li>
</ol>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10 – 从原型上得到</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 设置.prototype属性为新对象</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 为什么显式声明.constructor属性将在下面说明</span><span style="color: #008000;"><br></span>A.prototype = {<br>  constructor: A,<br>  y: 100<br>};<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> A();<br><span style="color: #008000;">//</span><span style="color: #008000;"> 对象"b"有了新属性</span><span style="color: #008000;"><br></span>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span><span style="color: #008000;"><br></span>alert(b.y); <span style="color: #008000;">//</span><span style="color: #008000;"> 100 – 从原型上得到</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但a对象的原型依然可以得到原来的结果</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10 - 从原型上得到</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> B() {<br>  <span style="color: #0000ff;">this</span>.x = 10;<br>  <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span> Array();<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果"B"构造函数没有返回（或返回this）</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 那么this对象就可以使用，但是下面的情况返回的是array</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span><span style="color: #008000;"><br></span>alert(Object.prototype.toString.call(b)); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Array]</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>让我们来详细了解一下原型</p>
<h1>原型</h1>
<p>每个对象都有一个原型（一些系统对象除外）。原型通信是通过内部的、隐式的、不可直接访问[[Prototype]]原型属性来进行的，原型可以是一个对象，也可以是null值。</p>
<h2>属性构造函数(Property constructor)</h2>
<p>上面的例子有有2个重要的知识点，第一个是关于函数的constructor属性的prototype属性，在函数创建的算法里，我们知道constructor属性在函数创建阶段被设置为函数的prototype属性，constructor属性的值是函数自身的重要引用：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">function</span> A() {}<br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.constructor); <span style="color: #008000;">//</span><span style="color: #008000;"> function A() {}, by delegation</span><span style="color: #008000;"><br></span>alert(a.constructor === A); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
</div>
<p>通常在这种情况下，存在着一个误区：constructor构造属性作为新创建对象自身的属性是错误的，但是，正如我们所看到的的，这个属性属于原型并且通过继承来访问对象。</p>
<p>通过继承constructor属性的实例，可以间接得到的原型对象的引用：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = <span style="color: #0000ff;">new</span> Number(10);<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.constructor.prototype); <span style="color: #008000;">//</span><span style="color: #008000;"> [object Object]</span><span style="color: #008000;"><br></span> <br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 通过原型</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 和a.[[Prototype]].x效果一样</span><span style="color: #008000;"><br></span>alert(a.constructor.prototype.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br>alert(a.constructor.prototype.x === a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>但请注意，函数的constructor和prototype属性在对象创建以后都可以重新定义的。在这种情况下，对象失去上面所说的机制。如果通过函数的prototype属性去编辑元素的prototype原型的话（添加新对象或修改现有对象），实例上将看到新添加的属性。</p>
<p>然而，如果我们彻底改变函数的prototype属性（通过分配一个新的对象），那原始构造函数的引用就是丢失，这是因为我们创建的对象不包括constructor属性：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype = {<br>  x: 10<br>};<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(a.constructor === A); <span style="color: #008000;">//</span><span style="color: #008000;"> false!</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>因此，对函数的原型引用需要手工恢复：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype = {<br>  constructor: A,<br>  x: 10<br>};<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(a.constructor === A); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>注意虽然手动恢复了constructor属性，和原来丢失的原型相比，{DontEnum}特性没有了，也就是说A.prototype里的for..in循环语句不支持了，不过第5版规范里，通过[[Enumerable]] 特性提供了控制可枚举状态enumerable的能力。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> foo = {x: 10};<br> <br>Object.defineProperty(foo, "y", {<br>  value: 20,<br>  enumerable: <span style="color: #0000ff;">false</span> <span style="color: #008000;">//</span><span style="color: #008000;"> aka {DontEnum} = true</span><span style="color: #008000;"><br></span>});<br> <br>console.log(foo.x, foo.y); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 20</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> k <span style="color: #0000ff;">in</span> foo) {<br>  console.log(k); <span style="color: #008000;">//</span><span style="color: #008000;"> only "x"</span><span style="color: #008000;"><br></span>}<br> <br><span style="color: #0000ff;">var</span> xDesc = Object.getOwnPropertyDescriptor(foo, "x");<br><span style="color: #0000ff;">var</span> yDesc = Object.getOwnPropertyDescriptor(foo, "y");<br> <br>console.log(<br>  xDesc.enumerable, <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span>  yDesc.enumerable  <span style="color: #008000;">//</span><span style="color: #008000;"> false</span><span style="color: #008000;"><br></span>);</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>显式prototype和隐式[[Prototype]]属性</p>
<p>通常，一个对象的原型通过函数的prototype属性显式引用是不正确的，他引用的是同一个对象，对象的[[Prototype]]属性：</p>
<p><code class="jscript plain">a.[[Prototype]] ----&gt; Prototype &lt;---- A.prototype</code></p>
<p><code class="jscript plain"></code>此外， 实例的[[Prototype]]值确实是在构造函数的prototype属性上获取的。</p>
<p>然而，提交prototype属性不会影响已经创建对象的原型（只有在构造函数的prototype属性改变的时候才会影响到)，就是说新创建的对象才有有新的原型，而已创建对象还是引用到原来的旧原型（这个原型已经不能被再被修改了）。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 在修改A.prototype原型之前的情况</span><span style="color: #008000;"><br></span>a.[[Prototype]] ----&gt; Prototype &lt;---- A.prototype<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 修改之后</span><span style="color: #008000;"><br></span>A.prototype ----&gt; New prototype <span style="color: #008000;">//</span><span style="color: #008000;"> 新对象会拥有这个原型</span><span style="color: #008000;"><br></span>a.[[Prototype]] ----&gt; Prototype <span style="color: #008000;">//</span><span style="color: #008000;"> 引导的原来的原型上</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br>A.prototype = {<br>  constructor: A,<br>  x: 20<br>  y: 30<br>};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 对象a是通过隐式的[[Prototype]]引用从原油的prototype上获取的值</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(a.y) <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> A();<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但新对象是从新原型上获取的值</span><span style="color: #008000;"><br></span>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 20</span><span style="color: #008000;"><br></span>alert(b.y) <span style="color: #008000;">//</span><span style="color: #008000;"> 30</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>因此，有的文章说“动态修改原型将影响所有的对象都会拥有新的原型”是错误的，新原型仅仅在原型修改以后的新创建对象上生效。</p>
<p>这里的主要规则是：对象的原型是对象的创建的时候创建的，并且在此之后不能修改为新的对象，如果依然引用到同一个对象，可以通过构造函数的显式prototype引用，对象创建以后，只能对原型的属性进行添加或修改。</p>
<h2><strong>非标准的__proto__属性</strong></h2>
<p>然而，有些实现（例如SpiderMonkey），提供了不标准的__proto__显式属性来引用对象的原型：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> __newPrototype = {<br>  constructor: A,<br>  x: 20,<br>  y: 30<br>};<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 引用到新对象</span><span style="color: #008000;"><br></span>A.prototype = __newPrototype;<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> A();<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 20</span><span style="color: #008000;"><br></span>alert(b.y); <span style="color: #008000;">//</span><span style="color: #008000;"> 30</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> "a"对象使用的依然是旧的原型</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(a.y); <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 显式修改原型</span><span style="color: #008000;"><br></span>a.__proto__ = __newPrototype;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 现在"а"对象引用的是新对象</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 20</span><span style="color: #008000;"><br></span>alert(a.y); <span style="color: #008000;">//</span><span style="color: #008000;"> 30</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>注意，ES5提供了Object.getPrototypeOf(O)方法，该方法直接返回对象的[[Prototype]]属性——实例的初始原型。 然而，和__proto__相比，它只是getter，它不允许set值。</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">var</span> foo = {};<br>Object.getPrototypeOf(foo) == Object.prototype; <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
</div>
<h2><strong>对象独立于构造函数</strong></h2>
<p>因为实例的原型独立于构造函数和构造函数的prototype属性，构造函数完成了自己的主要工作（创建对象）以后可以删除。原型对象通过引用[[Prototype]]属性继续存在：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 设置A为null - 显示引用构造函数</span><span style="color: #008000;"><br></span>A = <span style="color: #0000ff;">null</span>;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但如果.constructor属性没有改变的话，</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 依然可以通过它创建对象</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> a.constructor();<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 隐式的引用也删除掉</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">delete</span> a.constructor.prototype.constructor;<br><span style="color: #0000ff;">delete</span> b.constructor.prototype.constructor;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 通过A的构造函数再也不能创建对象了</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 但这2个对象依然有自己的原型</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h2><strong>instanceof操作符的特性</strong></h2>
<p>我们是通过构造函数的prototype属性来显示引用原型的，这和instanceof操作符有关。该操作符是和原型链一起工作的，而不是构造函数，考虑到这一点，当检测对象的时候往往会有误解：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">if</span> (foo <span style="color: #0000ff;">instanceof</span> Foo) {<br>  ...<br>}</pre>
</div>
<p>这不是用来检测对象foo是否是用Foo构造函数创建的，所有instanceof运算符只需要一个对象属性——foo.[[Prototype]]，在原型链中从Foo.prototype开始检查其是否存在。instanceof运算符是通过构造函数里的内部方法[[HasInstance]]来激活的。</p>
<p>让我们来看看这个例子：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br>alert(a <span style="color: #0000ff;">instanceof</span> A); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果设置原型为null</span><span style="color: #008000;"><br></span>A.prototype = <span style="color: #0000ff;">null</span>;<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> ..."a"依然可以通过a.[[Prototype]]访问原型</span><span style="color: #008000;"><br></span>alert(a.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 不过，instanceof操作符不能再正常使用了</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 因为它是从构造函数的prototype属性来实现的</span><span style="color: #008000;"><br></span>alert(a <span style="color: #0000ff;">instanceof</span> A); <span style="color: #008000;">//</span><span style="color: #008000;"> 错误，A.prototype不是对象</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>另一方面，可以由构造函数来创建对象，但如果对象的[[Prototype]]属性和构造函数的prototype属性的值设置的是一样的话，instanceof检查的时候会返回true：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> B() {}<br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br> <br>alert(b <span style="color: #0000ff;">instanceof</span> B); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> C() {}<br> <br><span style="color: #0000ff;">var</span> __proto = {<br>  constructor: C<br>};<br> <br>C.prototype = __proto;<br>b.__proto__ = __proto;<br> <br>alert(b <span style="color: #0000ff;">instanceof</span> C); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span>alert(b <span style="color: #0000ff;">instanceof</span> B); <span style="color: #008000;">//</span><span style="color: #008000;"> false</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h2><strong>原型可以存放方法并共享属性</strong></h2>
<p>大部分程序里使用原型是用来存储对象的方法、默认状态和共享对象的属性。</p>
<p>事实上，对象可以拥有自己的状态 ，但方法通常是一样的。 因此，为了内存优化，方法通常是在原型里定义的。 这意味着，这个构造函数创建的所有实例都可以共享找个方法。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A(x) {<br>  <span style="color: #0000ff;">this</span>.x = x || 100;<br>}<br> <br>A.prototype = (<span style="color: #0000ff;">function</span> () {<br> <br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 初始化上下文</span><span style="color: #008000;"><br></span>  <span style="color: #008000;">//</span><span style="color: #008000;"> 使用额外的对象</span><span style="color: #008000;"><br></span> <br>  <span style="color: #0000ff;">var</span> _someSharedVar = 500;<br> <br>  <span style="color: #0000ff;">function</span> _someHelper() {<br>    alert('internal helper: ' + _someSharedVar);<br>  }<br> <br>  <span style="color: #0000ff;">function</span> method1() {<br>    alert('method1: ' + <span style="color: #0000ff;">this</span>.x);<br>  }<br> <br>  <span style="color: #0000ff;">function</span> method2() {<br>    alert('method2: ' + <span style="color: #0000ff;">this</span>.x);<br>    _someHelper();<br>  }<br> <br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 原型自身</span><span style="color: #008000;"><br></span>  <span style="color: #0000ff;">return</span> {<br>    constructor: A,<br>    method1: method1,<br>    method2: method2<br>  };<br> <br>})();<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A(10);<br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> A(20);<br> <br>a.method1(); <span style="color: #008000;">//</span><span style="color: #008000;"> method1: 10</span><span style="color: #008000;"><br></span>a.method2(); <span style="color: #008000;">//</span><span style="color: #008000;"> method2: 10, internal helper: 500</span><span style="color: #008000;"><br></span> <br>b.method1(); <span style="color: #008000;">//</span><span style="color: #008000;"> method1: 20</span><span style="color: #008000;"><br></span>b.method2(); <span style="color: #008000;">//</span><span style="color: #008000;"> method2: 20, internal helper: 500</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 2个对象使用的是原型里相同的方法</span><span style="color: #008000;"><br></span>alert(a.method1 === b.method1); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span><span style="color: #008000;"><br></span>alert(a.method2 === b.method2); <span style="color: #008000;">//</span><span style="color: #008000;"> true</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h1>读写属性</h1>
<p>正如我们提到，读取和写入属性值是通过内部的[[Get]]和[[Put]]方法。这些内部方法是通过属性访问器激活的：点标记法或者索引标记法：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 写入</span><span style="color: #008000;"><br></span>foo.bar = 10; <span style="color: #008000;">//</span><span style="color: #008000;"> 调用了[[Put]]</span><span style="color: #008000;"><br></span> <br>console.log(foo.bar); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 调用了[[Get]]</span><span style="color: #008000;"><br></span>console.log(foo['bar']); <span style="color: #008000;">//</span><span style="color: #008000;"> 效果一样</span></pre>
</div>
<p>让我们用伪代码来看一下这些方法是如何工作的：</p>
<h2><strong>[[Get]]方法</strong></h2>
<p>[[Get]]也会从原型链中查询属性，所以通过对象也可以访问原型中的属性。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>O.[[Get]](P):<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果是自己的属性，就返回</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span> (O.hasOwnProperty(P)) {<br>  <span style="color: #0000ff;">return</span> O.P;<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 否则，继续分析原型</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> __proto = O.[[Prototype]];<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果原型是null，返回undefined</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 这是可能的：最顶层Object.prototype.[[Prototype]]是null</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span> (__proto === <span style="color: #0000ff;">null</span>) {<br>  <span style="color: #0000ff;">return</span> undefined;<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 否则，对原型链递归调用[[Get]]，在各层的原型中查找属性</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 直到原型为null</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">return</span> __proto.[[Get]](P)</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>请注意，因为[[Get]]在如下情况也会返回undefined：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">if</span> (window.someObject) {<br>  ...<br>}</pre>
</div>
<p>这里，在window里没有找到someObject属性，然后会在原型里找，原型的原型里找，以此类推，如果都找不到，按照定义就返回undefined。</p>
<p>注意：in操作符也可以负责查找属性（也会查找原型链）：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">if</span> ('someObject' <span style="color: #0000ff;">in</span> window) {<br>  ...<br>}</pre>
</div>
<p>这有助于避免一些特殊问题：比如即便someObject存在，在someObject等于false的时候，第一轮检测就通不过。</p>
<h2><strong>[[Put]]方法</strong></h2>
<p>[[Put]]方法可以创建、更新对象自身的属性，并且掩盖原型里的同名属性。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>O.[[Put]](P, V):<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果不能给属性写值，就退出</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span> (!O.[[CanPut]](P)) {<br>  <span style="color: #0000ff;">return</span>;<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果对象没有自身的属性，就创建它</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 所有的attributes特性都是false</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">if</span> (!O.hasOwnProperty(P)) {<br>  createNewProperty(O, P, attributes: {<br>    ReadOnly: <span style="color: #0000ff;">false</span>,<br>    DontEnum: <span style="color: #0000ff;">false</span>,<br>    DontDelete: <span style="color: #0000ff;">false</span>,<br>    Internal: <span style="color: #0000ff;">false</span><br>  });<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 如果属性存在就设置值，但不改变attributes特性</span><span style="color: #008000;"><br></span>O.P = V<br> <br><span style="color: #0000ff;">return</span>;</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>Object.prototype.x = 100;<br> <br><span style="color: #0000ff;">var</span> foo = {};<br>console.log(foo.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 100, 继承属性</span><span style="color: #008000;"><br></span> <br>foo.x = 10; <span style="color: #008000;">//</span><span style="color: #008000;"> [[Put]]</span><span style="color: #008000;"><br></span>console.log(foo.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 自身属性</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">delete</span> foo.x;<br>console.log(foo.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 重新是100,继承属性</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>请注意，不能掩盖原型里的只读属性，赋值结果将忽略，这是由内部方法[[CanPut]]控制的。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 例如，属性length是只读的，我们来掩盖一下length试试</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> SuperString() {<br>  <span style="color: #008000;">/*</span><span style="color: #008000;"> nothing </span><span style="color: #008000;">*/</span><br>}<br> <br>SuperString.prototype = <span style="color: #0000ff;">new</span> String("abc");<br> <br><span style="color: #0000ff;">var</span> foo = <span style="color: #0000ff;">new</span> SuperString();<br> <br>console.log(foo.length); <span style="color: #008000;">//</span><span style="color: #008000;"> 3, "abc"的长度</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 尝试掩盖</span><span style="color: #008000;"><br></span>foo.length = 5;<br>console.log(foo.length); <span style="color: #008000;">//</span><span style="color: #008000;"> 依然是3</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>但在ES5的严格模式下，如果掩盖只读属性的话，会保存TypeError错误。</p>
<h2><strong>属性访问器</strong></h2>
<p>内部方法[[Get]]和[[Put]]在ECMAScript里是通过点符号或者索引法来激活的，如果属性标示符是合法的名字的话，可以通过“.”来访问，而索引方运行动态定义名称。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = {testProperty: 10};<br> <br>alert(a.testProperty); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 点</span><span style="color: #008000;"><br></span>alert(a['testProperty']); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 索引</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> propertyName = 'Property';<br>alert(a['test' + propertyName]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 动态属性通过索引的方式</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>这里有一个非常重要的特性——属性访问器总是使用ToObject规范来对待“.”左边的值。这种隐式转化和这句“在JavaScript中一切都是对象”有关系，（然而，当我们已经知道了，JavaScript里不是所有的值都是对象）。</p>
<p>如果对原始值进行属性访问器取值，访问之前会先对原始值进行对象包装（包括原始值），然后通过包装的对象进行访问属性，属性访问以后，包装对象就会被删除。</p>
<p>例如：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> a = 10; <span style="color: #008000;">//</span><span style="color: #008000;"> 原始值</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但是可以访问方法（就像对象一样）</span><span style="color: #008000;"><br></span>alert(a.toString()); <span style="color: #008000;">//</span><span style="color: #008000;"> "10"</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 此外，我们可以在a上创建一个心属性</span><span style="color: #008000;"><br></span>a.test = 100; <span style="color: #008000;">//</span><span style="color: #008000;"> 好像是没问题的</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 但，[[Get]]方法没有返回该属性的值，返回的却是undefined</span><span style="color: #008000;"><br></span>alert(a.test); <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>那么，为什么整个例子里的原始值可以访问toString方法，而不能访问新创建的test属性呢？</p>
<p>答案很简单：</p>
<p>首先，正如我们所说，使用属性访问器以后，它已经不是原始值了，而是一个包装过的中间对象（整个例子是使用new Number(a)），而toString方法这时候是通过原型链查找到的：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 执行a.toString()的原理:</span><span style="color: #008000;"><br></span> <br>1. wrapper = <span style="color: #0000ff;">new</span> Number(a);<br>2. wrapper.toString(); <span style="color: #008000;">//</span><span style="color: #008000;"> "10"</span><span style="color: #008000;"><br></span>3. <span style="color: #0000ff;">delete</span> wrapper;</pre>
</div>
<p>接下来，[[Put]]方法创建新属性时候，也是通过包装装的对象进行的：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 执行a.test = 100的原理：</span><span style="color: #008000;"><br></span> <br>1. wrapper = <span style="color: #0000ff;">new</span> Number(a);<br>2. wrapper.test = 100;<br>3. <span style="color: #0000ff;">delete</span> wrapper;</pre>
</div>
<p>我们看到，在第3步的时候，包装的对象以及删除了，随着新创建的属性页被删除了——删除包装对象本身。</p>
<p>然后使用[[Get]]获取test值的时候，再一次创建了包装对象，但这时候包装的对象已经没有test属性了，所以返回的是undefined：</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 执行a.test的原理:</span><span style="color: #008000;"><br></span> <br>1. wrapper = <span style="color: #0000ff;">new</span> Number(a);<br>2. wrapper.test; <span style="color: #008000;">//</span><span style="color: #008000;"> undefined</span></pre>
</div>
<p>这种方式解释了原始值的读取方式，另外，任何原始值如果经常用在访问属性的话，时间效率考虑，都是直接用一个对象替代它；与此相反，如果不经常访问，或者只是用于计算的话，到可以保留这种形式。</p>
<p>继承</p>
<p>我们知道，ECMAScript是使用基于原型的委托式继承。链和原型在原型链里已经提到过了。其实，所有委托的实现和原型链的查找分析都浓缩到[[Get]]方法了。</p>
<p>如果你完全理解[[Get]]方法，那JavaScript中的继承这个问题将不解自答了。</p>
<p>经常在论坛上谈论JavaScript中的继承时，我都是用一行代码来展示，事实上，我们不需要创建任何对象或函数，因为该语言已经是基于继承的了，代码如下：</p>
<div class="cnblogs_code">
<pre>alert(1..toString()); <span style="color: #008000;">//</span><span style="color: #008000;"> "1"</span></pre>
</div>
<p>我们已经知道了[[Get]]方法和属性访问器的原理了，我们来看看都发生了什么：</p>
<ol>
<li>首先，从原始值1，通过new Number(1)创建包装对象</li>
<li>然后toString方法是从这个包装对象上继承得到的</li>
</ol>
<p>为什么是继承的？ 因为在ECMAScript中的对象可以有自己的属性，包装对象在这种情况下没有toString方法。 因此它是从原理里继承的，即Number.prototype。</p>
<p><span style="color: #ff9900;">注意有个微妙的地方，在上面的例子中的两个点不是一个错误。第一点是代表小数部分，第二个才是一个属性访问器：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>1.toString(); <span style="color: #008000;">//</span><span style="color: #008000;"> 语法错误！</span><span style="color: #008000;"><br></span> <br>(1).toString(); <span style="color: #008000;">//</span><span style="color: #008000;"> OK</span><span style="color: #008000;"><br></span> <br>1..toString(); <span style="color: #008000;">//</span><span style="color: #008000;"> OK</span><span style="color: #008000;"><br></span> <br>1['toString'](); <span style="color: #008000;">//</span><span style="color: #008000;"> OK</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h2><strong>原型链</strong></h2>
<p>让我们展示如何为用户定义对象创建原型链，非常简单：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {<br>  alert('A.[[Call]] activated');<br>  <span style="color: #0000ff;">this</span>.x = 10;<br>}<br>A.prototype.y = 20;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert([a.x, a.y]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10 (自身), 20 (继承)</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> B() {}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 最近的原型链方式就是设置对象的原型为另外一个新对象</span><span style="color: #008000;"><br></span>B.prototype = <span style="color: #0000ff;">new</span> A();<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 修复原型的constructor属性，否则的话是A了 </span><span style="color: #008000;"><br></span>B.prototype.constructor = B;<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br>alert([b.x, b.y]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 20, 2个都是继承的</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> [[Get]] b.x:</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> b.x (no) --&gt;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> b.[[Prototype]].x (yes) - 10</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> [[Get]] b.y</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> b.y (no) --&gt;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> b.[[Prototype]].y (no) --&gt;</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> b.[[Prototype]].[[Prototype]].y (yes) - 20</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> where b.[[Prototype]] === B.prototype,</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> and b.[[Prototype]].[[Prototype]] === A.prototype</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>这种方法有两个特性：</p>
<p>首先，B.prototype将包含x属性。乍一看这可能不对，你可能会想x属性是在A里定义的并且B构造函数也是这样期望的。尽管原型继承正常情况是没问题的，但B构造函数有时候可能不需要x属性，与基于class的继承相比，所有的属性都复制到后代子类里了。</p>
<p>尽管如此，如果有需要（模拟基于类的继承）将x属性赋给B构造函数创建的对象上，有一些方法，我们后来来展示其中一种方式。</p>
<p>其次，这不是一个特征而是缺点——子类原型创建的时候，构造函数的代码也执行了，我们可以看到消息"A.[[Call]] activated"显示了两次——当用A构造函数创建对象赋给B.prototype属性的时候，另外一场是a对象创建自身的时候！</p>
<p>下面的例子比较关键，在父类的构造函数抛出的异常：可能实际对象创建的时候需要检查吧，但很明显，同样的case，也就是就是使用这些父对象作为原型的时候就会出错。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A(param) {<br>  <span style="color: #0000ff;">if</span> (!param) {<br>    <span style="color: #0000ff;">throw</span> 'Param required';<br>  }<br>  <span style="color: #0000ff;">this</span>.param = param;<br>}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A(20);<br>alert([a.x, a.param]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 20</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> B() {}<br>B.prototype = <span style="color: #0000ff;">new</span> A(); <span style="color: #008000;">//</span><span style="color: #008000;"> Error</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>此外，在父类的构造函数有太多代码的话也是一种缺点。</p>
<p>解决这些“功能”和问题，程序员使用原型链的标准模式（下面展示），主要目的就是在中间包装构造函数的创建，这些包装构造函数的链里包含需要的原型。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {<br>  alert('A.[[Call]] activated');<br>  <span style="color: #0000ff;">this</span>.x = 10;<br>}<br>A.prototype.y = 20;<br> <br><span style="color: #0000ff;">var</span> a = <span style="color: #0000ff;">new</span> A();<br>alert([a.x, a.y]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10 (自身), 20 (集成)</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> B() {<br>  <span style="color: #008000;">//</span><span style="color: #008000;"> 或者使用A.apply(this, arguments)</span><span style="color: #008000;"><br></span>  B.superproto.constructor.apply(<span style="color: #0000ff;">this</span>, arguments);<br>}<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 继承：通过空的中间构造函数将原型连在一起</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> F = <span style="color: #0000ff;">function</span> () {};<br>F.prototype = A.prototype; <span style="color: #008000;">//</span><span style="color: #008000;"> 引用</span><span style="color: #008000;"><br></span>B.prototype = <span style="color: #0000ff;">new</span> F();<br>B.superproto = A.prototype; <span style="color: #008000;">//</span><span style="color: #008000;"> 显示引用到另外一个原型上, "sugar"</span><span style="color: #008000;"><br></span> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 修复原型的constructor属性，否则的就是A了</span><span style="color: #008000;"><br></span>B.prototype.constructor = B;<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br>alert([b.x, b.y]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10 (自身), 20 (集成)</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>注意，我们在b实例上创建了自己的x属性，通过B.superproto.constructor调用父构造函数来引用新创建对象的上下文。</p>
<p>我们也修复了父构造函数在创建子原型的时候不需要的调用，此时，消息"A.[[Call]] activated"在需要的时候才会显示。</p>
<p>为了在原型链里重复相同的行为（中间构造函数创建，设置superproto，恢复原始构造函数），下面的模板可以封装成一个非常方面的工具函数，其目的是连接原型的时候不是根据构造函数的实际名称。</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> inherit(child, parent) {<br>  <span style="color: #0000ff;">var</span> F = <span style="color: #0000ff;">function</span> () {};<br>  F.prototype = parent.prototype<br>  child.prototype = <span style="color: #0000ff;">new</span> F();<br>  child.prototype.constructor = child;<br>  child.superproto = parent.prototype;<br>  <span style="color: #0000ff;">return</span> child;<br>}</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>因此，继承：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">function</span> B() {}<br>inherit(B, A); <span style="color: #008000;">//</span><span style="color: #008000;"> 连接原型</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 在A.prototype查找到</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>也有很多语法形式（包装而成），但所有的语法行都是为了减少上述代码里的行为。</p>
<p>例如，如果我们把中间的构造函数放到外面，就可以优化前面的代码（因此，只有一个函数被创建），然后重用它：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">var</span> inherit = (<span style="color: #0000ff;">function</span>(){<br>  <span style="color: #0000ff;">function</span> F() {}<br>  <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">function</span> (child, parent) {<br>    F.prototype = parent.prototype;<br>    child.prototype = <span style="color: #0000ff;">new</span> F;<br>    child.prototype.constructor = child;<br>    child.superproto = parent.prototype;<br>    <span style="color: #0000ff;">return</span> child;<br>  };<br>})();</pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>由于对象的真实原型是[[Prototype]]属性，这意味着F.prototype可以很容易修改和重用，因为通过new F创建的child.prototype可以从child.prototype的当前值里获取[[Prototype]]：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #0000ff;">function</span> A() {}<br>A.prototype.x = 10;<br> <br><span style="color: #0000ff;">function</span> B() {}<br>inherit(B, A);<br> <br>B.prototype.y = 20;<br> <br>B.prototype.foo = <span style="color: #0000ff;">function</span> () {<br>  alert("B#foo");<br>};<br> <br><span style="color: #0000ff;">var</span> b = <span style="color: #0000ff;">new</span> B();<br>alert(b.x); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 在A.prototype里查到</span><span style="color: #008000;"><br></span> <br><span style="color: #0000ff;">function</span> C() {}<br>inherit(C, B);<br> <br><span style="color: #008000;">//</span><span style="color: #008000;"> 使用"superproto"语法糖</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> 调用父原型的同名方法</span><span style="color: #008000;"><br></span> <br>C.ptototype.foo = <span style="color: #0000ff;">function</span> () {<br>  C.superproto.foo.call(<span style="color: #0000ff;">this</span>);<br>  alert("C#foo");<br>};<br> <br><span style="color: #0000ff;">var</span> c = <span style="color: #0000ff;">new</span> C();<br>alert([c.x, c.y]); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 20</span><span style="color: #008000;"><br></span> <br>c.foo(); <span style="color: #008000;">//</span><span style="color: #008000;"> B#foo, C#foo</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>注意，ES5为原型链标准化了这个工具函数，那就是Object.create方法。ES3可以使用以下方式实现：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>Object.create ||<br>Object.create = <span style="color: #0000ff;">function</span> (parent, properties) {<br>  <span style="color: #0000ff;">function</span> F() {}<br>  F.prototype = parent;<br>  <span style="color: #0000ff;">var</span> child = <span style="color: #0000ff;">new</span> F;<br>  <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> k <span style="color: #0000ff;">in</span> properties) {<br>    child[k] = properties[k].value;<br>  }<br>  <span style="color: #0000ff;">return</span> child;<br>}<br><br><span style="color: #008000;">//</span><span style="color: #008000;"> 用法</span><span style="color: #008000;"><br></span><span style="color: #0000ff;">var</span> foo = {x: 10};<br><span style="color: #0000ff;">var</span> bar = Object.create(foo, {y: {value: 20}});<br>console.log(bar.x, bar.y); <span style="color: #008000;">//</span><span style="color: #008000;"> 10, 20</span></pre>
<div class="cnblogs_code_toolbar" style="display: none;"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>此外，所有模仿现在基于类的经典继承方式都是根据这个原则实现的，现在可以看到，它实际上不是基于类的继承，而是连接原型的一个很方便的代码重用。</p>
<h1>结论</h1>
<p>本章内容已经很充分和详细了，希望这些资料对你有用，并且消除你对ECMAScript的疑问，如果你有任何问题，请留言，我们一起讨论。</p>
<h1>其它参考</h1>
<ul>
<li>4.2 — <a href="http://bclary.com/2004/11/07/#a-4.2">Language Overview</a>;</li>
<li>4.3 — <a href="http://bclary.com/2004/11/07/#a-4.3">Definitions</a>;</li>
<li>7.8.5 — <a href="http://bclary.com/2004/11/07/#a-7.8.5">Regular Expression Literals</a>;</li>
<li>8 — <a href="http://bclary.com/2004/11/07/#a-8">Types</a>;</li>
<li>9 — <a href="http://bclary.com/2004/11/07/#a-9">Type Conversion</a>;</li>
<li>11.1.4 — <a href="http://bclary.com/2004/11/07/#a-11.1.4">Array Initialiser</a>;</li>
<li>11.1.5 — <a href="http://bclary.com/2004/11/07/#a-11.1.5">Object Initialiser</a>;</li>
<li>11.2.2 — <a href="http://bclary.com/2004/11/07/#a-11.2.2">The new Operator</a>;</li>
<li>13.2.1 — <a href="http://bclary.com/2004/11/07/#a-13.2.1">[[Call]]</a>;</li>
<li>13.2.2 — <a href="http://bclary.com/2004/11/07/#a-13.2.2">[[Construct]]</a>;</li>
<li>15 — <a href="http://bclary.com/2004/11/07/#a-15">Native ECMAScript Objects</a>.</li>
</ul>
<h1>同步与推荐</h1>
<p>本文已同步至目录索引：<span style="font-size: 14pt;"><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html" target="_blank">深入理解JavaScript系列</a></span></p>
<p>深入理解JavaScript系列文章，包括了原创，翻译，转载等各类型的文章，如果对你有用，请推荐支持一把，给大叔写作的动力。</p></div><div id="MySignature"></div>
        <div class="clear"></div>
        <div id="blog_post_info_block">
        <div id="blog_post_info"><div id="green_channel">
绿色通道：
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(2330609,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://space.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94" target="_blank">与我联系</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/icon_weibo_24.png" alt=""></a>
</div>
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/TomXu/" target="_blank"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/u349491.jpg" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/TomXu/">汤姆大叔</a><br>
<a href="http://home.cnblogs.com/u/TomXu/followees">关注 - 19</a><br>
<a href="http://home.cnblogs.com/u/TomXu/followers">粉丝 - 6342</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor">荣誉：<a href="http://www.cnblogs.com/expert/" target="_blank">推荐博客</a></div>
<div id="author_profile_follow">
    <a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
    <div class="diggit" onclick="votePost(2330609,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">30</span>
    </div>
	<div class="buryit" onclick="votePost(2330609,&#39;Bury&#39;)"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div>
        <div class="clear"></div>
        <div id="post_next_prev"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/03/2330295.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/TomXu/archive/2012/02/03/2330295.html" title="发布于2012-02-03 09:05">深入理解JavaScript系列（17）：面向对象编程之概论</a><br><a href="http://www.cnblogs.com/TomXu/archive/2012/02/08/2341439.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/TomXu/archive/2012/02/08/2341439.html" title="发布于2012-02-08 09:50">深入理解JavaScript系列（19）：求值策略(Evaluation strategy)</a><br></div>
    </div>
</div>
    <ul class="postmetadata">
        <li class="icon_cat" id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/TomXu/category/338104.html">[06]JS/jQuery</a>, <a href="http://www.cnblogs.com/TomXu/category/337109.html">[07]Web开发</a></li>
        <li class="icon_bullet" id="EntryTag">标签: <a href="http://www.cnblogs.com/TomXu/tag/%E7%BB%A7%E6%89%BF/">继承</a>, <a href="http://www.cnblogs.com/TomXu/tag/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a>, <a href="http://www.cnblogs.com/TomXu/tag/OOP/">OOP</a>, <a href="http://www.cnblogs.com/TomXu/tag/%E5%B0%81%E8%A3%85/">封装</a>, <a href="http://www.cnblogs.com/TomXu/tag/%E5%A4%9A%E6%80%81/">多态</a>, <a href="http://www.cnblogs.com/TomXu/tag/AOP/">AOP</a></li>
    </ul>
</div>
<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=101461,cb_entryId=2330609,cb_blogApp=currentBlogApp,cb_blogUserGuid='65b02d3c-5b0b-e111-b7b9-842b2b196315',cb_entryCreatedDate='2012/2/6 9:27:00';loadViewCount(cb_entryId);</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>
<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script>
<a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a class="addcomment" href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#comment_tip">Add your comment</a>
<h3 id="comments"></h3>
<div class="feedbackNoItems"></div>


<ol class="commentlist" id="commentList">	

		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302854" class="layer">#1楼</a><a name="2302854" id="comment_anchor_2302854"></a></cite> <a id="a_comment_author_2302854" href="http://www.cnblogs.com/iamzhanglei/" target="_blank">【当耐特】</a> <a href="http://msg.cnblogs.com/msg/send/%e3%80%90%e5%bd%93%e8%80%90%e7%89%b9%e3%80%91" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 09:34</span></small>
			</h5>
			<div id="comment_body_2302854" class="blog_comment_body">已顶</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302854,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302854,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302854_avatar" style="display:none;">http://pic.cnitblog.com/face/105416/20130621103357.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302906" class="layer">#2楼</a><a name="2302906" id="comment_anchor_2302906"></a></cite> <a id="a_comment_author_2302906" href="http://www.cnblogs.com/artech/" target="_blank">Artech</a> <a href="http://msg.cnblogs.com/msg/send/Artech" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 10:09</span></small>
			</h5>
			<div id="comment_body_2302906" class="blog_comment_body">再顶！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302906,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302906,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302906_avatar" style="display:none;">http://pic.cnitblog.com/face/u19327.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302915" class="layer">#3楼</a><a name="2302915" id="comment_anchor_2302915"></a></cite> <a id="a_comment_author_2302915" href="http://www.cnblogs.com/fzs173/" target="_blank">阿祖</a> <a href="http://msg.cnblogs.com/msg/send/%e9%98%bf%e7%a5%96" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 10:18</span></small>
			</h5>
			<div id="comment_body_2302915" class="blog_comment_body">顶</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302915,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302915,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302919" class="layer">#4楼</a><a name="2302919" id="comment_anchor_2302919"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_2302919" href="http://www.cnblogs.com/TomXu/" target="_blank">汤姆大叔</a> <a href="http://msg.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 10:19</span></small>
			</h5>
			<div id="comment_body_2302919" class="blog_comment_body"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302915" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2302915);">@</a>【当耐特砖家】<br>@Artech<br>@阿祖<br><br>多谢支持哦，加油继续</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302919,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302919,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302919_avatar" style="display:none;">http://pic.cnitblog.com/face/u349491.jpg?id=02230504</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302920" class="layer">#5楼</a><a name="2302920" id="comment_anchor_2302920"></a></cite> <a id="a_comment_author_2302920" href="http://www.cnblogs.com/Darren_code/" target="_blank">聂微东</a> <a href="http://msg.cnblogs.com/msg/send/%e8%81%82%e5%be%ae%e4%b8%9c" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 10:20</span></small>
			</h5>
			<div id="comment_body_2302920" class="blog_comment_body">大叔依旧给力，我接着顶</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302920,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302920,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302920_avatar" style="display:none;">http://pic.cnitblog.com/face/u159097.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302934" class="layer">#6楼</a><a name="2302934" id="comment_anchor_2302934"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_2302934" href="http://www.cnblogs.com/TomXu/" target="_blank">汤姆大叔</a> <a href="http://msg.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 10:34</span></small>
			</h5>
			<div id="comment_body_2302934" class="blog_comment_body"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302920" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2302920);">@</a>聂微东<br>多谢哦，最近很忙，争取这周把下一章也整理出来。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302934,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302934,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302934_avatar" style="display:none;">http://pic.cnitblog.com/face/u349491.jpg?id=02230504</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2302992" class="layer">#7楼</a><a name="2302992" id="comment_anchor_2302992"></a></cite> <a id="a_comment_author_2302992" href="http://www.cnblogs.com/yangcaogui/" target="_blank">TimYang</a> <a href="http://msg.cnblogs.com/msg/send/TimYang" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 11:21</span></small>
			</h5>
			<div id="comment_body_2302992" class="blog_comment_body">NND真牛，顶！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2302992,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2302992,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2302992_avatar" style="display:none;">http://pic.cnitblog.com/face/322864/20131228231744.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2303034" class="layer">#8楼</a><a name="2303034" id="comment_anchor_2303034"></a></cite> <a id="a_comment_author_2303034" href="http://www.cnblogs.com/MySilverlight/" target="_blank">银光小子</a> <a href="http://msg.cnblogs.com/msg/send/%e9%93%b6%e5%85%89%e5%b0%8f%e5%ad%90" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 12:09</span></small>
			</h5>
			<div id="comment_body_2303034" class="blog_comment_body"><b>广告时间 嘻嘻</b><br><a href="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/2012020610531915.gif" target="_blank"><img src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/2012020610531915.gif" alt="" border="0" onload="javascript:if(this.width&gt;500) this.width=500;"></a><br><b>杭州星软集团招人了！！如果你会SIlverlight或者WPF。来吧。薪水高噢亲！！公司好哦亲！！福利好哦亲！！ 来吧 来吧........ 想来加33471036这个QQ ...</b></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2303034,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2303034,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2303054" class="layer">#9楼</a><a name="2303054" id="comment_anchor_2303054"></a></cite> <a id="a_comment_author_2303054" href="http://www.cnblogs.com/gannan/" target="_blank">甘南</a> <a href="http://msg.cnblogs.com/msg/send/%e7%94%98%e5%8d%97" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 12:31</span></small>
			</h5>
			<div id="comment_body_2303054" class="blog_comment_body">楼主太强了，先收藏，以后慢慢看</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2303054,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2303054,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2303054_avatar" style="display:none;">http://pic.cnitblog.com/face/u223417.png?id=06223146</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2303072" class="layer">#10楼</a><a name="2303072" id="comment_anchor_2303072"></a></cite> <a id="a_comment_author_2303072" href="http://www.cnblogs.com/techborther/" target="_blank">技术弟弟</a> <a href="http://msg.cnblogs.com/msg/send/%e6%8a%80%e6%9c%af%e5%bc%9f%e5%bc%9f" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-06 12:50</span></small>
			</h5>
			<div id="comment_body_2303072" class="blog_comment_body">好久没来博客园了，顶大叔：）</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2303072,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2303072,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2303072_avatar" style="display:none;">http://pic.cnitblog.com/face/u352925.jpg?id=22130316</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2307657" class="layer">#11楼</a><a name="2307657" id="comment_anchor_2307657"></a></cite> <a id="a_comment_author_2307657" href="http://home.cnblogs.com/u/373399/" target="_blank">无聊VS无奈</a> <a href="http://msg.cnblogs.com/msg/send/%e6%97%a0%e8%81%8aVS%e6%97%a0%e5%a5%88" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-13 15:52</span></small>
			</h5>
			<div id="comment_body_2307657" class="blog_comment_body">前半篇看的挺好的！后半篇不知道是疲惫了还是怎么的看的云里雾里了！大叔翻译的就得顶</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2307657,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2307657,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2307951" class="layer">#12楼</a><a name="2307951" id="comment_anchor_2307951"></a></cite> <a id="a_comment_author_2307951" href="http://www.cnblogs.com/ciznx/" target="_blank">陈计节</a> <a href="http://msg.cnblogs.com/msg/send/%e9%99%88%e8%ae%a1%e8%8a%82" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-14 00:42</span></small>
			</h5>
			<div id="comment_body_2307951" class="blog_comment_body">很用心，谢谢博主。<br>希望近期能有时间拜读原文并翻译之。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2307951,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2307951,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2307951_avatar" style="display:none;">http://pic.cnitblog.com/face/u150909.png?id=31170940</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2335244" class="layer">#13楼</a><a name="2335244" id="comment_anchor_2335244"></a></cite> <a id="a_comment_author_2335244" href="http://www.cnblogs.com/fuyun2000/" target="_blank">自由小菜园</a> <a href="http://msg.cnblogs.com/msg/send/%e8%87%aa%e7%94%b1%e5%b0%8f%e8%8f%9c%e5%9b%ad" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-03-20 14:10</span></small>
			</h5>
			<div id="comment_body_2335244" class="blog_comment_body">大叔你说对一个字符串字面量执行某个方法时会隐式先转换为对象new String("字符串");然后再调用方法。然后你说如果对一个字符串重复操作最好先显示创建对象。<br>不过我测试了下，发现字符串直接量调用方法比字符串转换为对象后操作效率高</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2335244,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2335244,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2335244_avatar" style="display:none;">http://pic.cnitblog.com/face/u89844.jpg</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2439629" class="layer">#14楼</a><a name="2439629" id="comment_anchor_2439629"></a></cite> <a id="a_comment_author_2439629" href="http://home.cnblogs.com/u/433603/" target="_blank">jinessor</a> <a href="http://msg.cnblogs.com/msg/send/jinessor" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-08-02 09:39</span></small>
			</h5>
			<div id="comment_body_2439629" class="blog_comment_body">hi, i have a question:<br><br>var foo = {};<br>Object.getPrototypeOf(foo) == Object.prototype; // true<br><br>should be:<br><br>var foo = {};<br>Object.getPrototypeOf(foo) == foo.prototype; // true<br><br>right?</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2439629,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2439629,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2644895" class="layer">#15楼</a><a name="2644895" id="comment_anchor_2644895"></a></cite> <a id="a_comment_author_2644895" href="http://www.cnblogs.com/izhanghuaning/" target="_blank">张华宁</a> <a href="http://msg.cnblogs.com/msg/send/%e5%bc%a0%e5%8d%8e%e5%ae%81" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2013-03-28 16:38</span></small>
			</h5>
			<div id="comment_body_2644895" class="blog_comment_body">1:<br>function A() {<br>  alert('A.[[Call]] activated');<br>  this.x = 10;<br>}<br>A.prototype.y = 20;<br> <br>var a = new A();<br>alert([a.x, a.y]); // 10 (自身), 20 (集成)<br> <br>function B() {<br>  // 或者使用A.apply(this, arguments)<br>  B.superproto.constructor.apply(this, arguments);<br>}<br> <br>// 继承：通过空的中间构造函数将原型连在一起<br>var F = function () {};<br>F.prototype = A.prototype; // 引用<br>B.prototype = new F();<br>B.superproto = A.prototype; // 显示引用到另外一个原型上, "sugar"<br> <br>// 修复原型的constructor属性，否则的就是A了<br>B.prototype.constructor = B;<br> <br>var b = new B();<br>alert([b.x, b.y]); // 10 (自身), 20 (集成)<br><br>****************************************<br>这里执行依然是2次alert('A.[[Call]] activated');<br>因为 B.superproto.constructor.apply(this, arguments);依然使用的是A的构造函数。<br>********************************************</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2644895,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2644895,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2644895_avatar" style="display:none;">http://pic.cnitblog.com/face/u473700.jpg?id=28145405</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2670153" class="layer">#16楼</a><a name="2670153" id="comment_anchor_2670153"></a></cite> <a id="a_comment_author_2670153" href="http://www.cnblogs.com/zjfc-math/" target="_blank">.NET技术员</a> <a href="http://msg.cnblogs.com/msg/send/.NET%e6%8a%80%e6%9c%af%e5%91%98" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2013-05-01 11:32</span></small>
			</h5>
			<div id="comment_body_2670153" class="blog_comment_body"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2644895" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2644895);">@</a>张华宁<br>@张华宁<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2644895" title="查看引用原文">引用</a></legend>1:<br>function A() {<br>  alert('A.[[Call]] activated');<br>  this.x = 10;<br>}<br>A.prototype.y = 20;<br> <br>var a = new A();<br>alert([a.x, a.y]); // 10 (自身), 20 (集成)<br> <br>function B() {<br>  // 或者使用A.apply(this, arguments)<br>  B.superproto.constructor.apply(this, arguments);<br>}<br> <br>// 继承：通过空的中间构造函数将原型连在一起<br>var F = function () {};<br>...</fieldset><br><br><br><br>文章重点 不是讨论执行两次 而是 第2次在需要的执行时候被触发。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2670153,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2670153,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2670153_avatar" style="display:none;">http://pic.cnitblog.com/face/u72319.jpg?id=07204217</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2670159" class="layer">#17楼</a><a name="2670159" id="comment_anchor_2670159"></a></cite> <a id="a_comment_author_2670159" href="http://www.cnblogs.com/zjfc-math/" target="_blank">.NET技术员</a> <a href="http://msg.cnblogs.com/msg/send/.NET%e6%8a%80%e6%9c%af%e5%91%98" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2013-05-01 11:39</span></small>
			</h5>
			<div id="comment_body_2670159" class="blog_comment_body">另外 大叔 求职啊。。没工作 求应聘 <br>做过很多.NET 小型项目 设计.NET下面的桌面程序 WEB .WEB SERVICE 编写过插件 控件 。<br><br>项目很多 不过基本都是小型。设计过文件管理中心(上传组件 包括一整块服务端设计，让文件分块分布到服务器，通过程序控制管理)  silverlight(gis)，编写过秒杀器 播放器 手机APP（HTML5）<br><br>了解 JS PHP JSP 基本都是些自定义过小型类库<br><br>以上这些都是菜鸟级别 求工作  进军大神之路</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2670159,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2670159,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2670159_avatar" style="display:none;">http://pic.cnitblog.com/face/u72319.jpg?id=07204217</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#2841796" class="layer">#18楼</a><a name="2841796" id="comment_anchor_2841796"></a></cite> <a id="a_comment_author_2841796" href="http://www.cnblogs.com/sunyingyuan/" target="_blank">低调de草原狼</a> <a href="http://msg.cnblogs.com/msg/send/%e4%bd%8e%e8%b0%83de%e8%8d%89%e5%8e%9f%e7%8b%bc" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2013-12-20 18:14</span></small>
			</h5>
			<div id="comment_body_2841796" class="blog_comment_body">大叔写的这篇文章，实在是让我看的云里雾里的，都是些底层原理，说实话，作为小菜鸟，要想领悟还得需要些时间啊</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2841796,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2841796,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#3054290" class="layer">#19楼</a><a name="3054290" id="comment_anchor_3054290"></a><span id="comment-maxId" style="display:none;">3054290</span><span id="comment-maxDate" style="display:none;">2014/10/30 16:19:34</span></cite> <a id="a_comment_author_3054290" href="http://home.cnblogs.com/u/687403/" target="_blank">tingglelaoo</a> <a href="http://msg.cnblogs.com/msg/send/tingglelaoo" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2014-10-30 16:19</span></small>
			</h5>
			<div id="comment_body_3054290" class="blog_comment_body">var b=new Array();<br>Array.prototype={name:"test"};<br>var c=new Array();<br>console.log(b instanceof Array);//true<br>console.log(c instanceof Array);//true<br><br>是不是说明原生的构造函数的原型指向是不允许修改的呢？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3054290,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3054290,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
</ol>

<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.imooc.com/view/166?from=cnblogs" target="_blank"><b>【免费课程】JAVA遇见HTML——JSP篇</b></a><br><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://www.rongcloud.cn/promotion" target="_blank">融云，免费为你的App加入IM功能——让你的App“聊”起来！！</a><br><a href="http://bce.baidu.com/apply/index.html?hmsr=cnblog&hmmd=&hmpl=&hmkw=&hmci=" target="_blank">【活动】百度开放云限量500台，抓紧时间申请啦！</a></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    var enableGoogleAd = canShowAdsense(); var googletag = googletag || {}; googletag.cmd = googletag.cmd || [];
    fixPostBodyFormat();
</script>
<div id="ad_under_post_holder">
<script type="text/javascript">
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function () {
        if (enableGoogleAd) {
            var gads = document.createElement('script');
            gads.async = true;
            gads.type = 'text/javascript';
            var useSSL = 'https:' == document.location.protocol;
            gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(gads, node);
        }
    })();
</script>
<script type="text/javascript">
    try {
        if (enableGoogleAd) {
            googletag.cmd.push(function () {
                googletag.defineSlot('/1090369/cnblogs_blogpost_C1_sitehome', [300, 250], 'div-gpt-ad-1346480159711-0').addService(googletag.pubads());
                googletag.defineSlot('/1090369/cnblogs_blogpost_C2', [468, 60], 'div-gpt-ad-1410860226396-0').addService(googletag.pubads());
                googletag.pubads().enableSingleRequest();
                googletag.enableServices();
            });
        };
    } catch (e) { }
</script>
<div id="google_ad_c1" class="c_ad_block">
    <div id="div-gpt-ad-1346480159711-0" style="width:300px; height:250px;">
    <script type="text/javascript">
        try {
            if (enableGoogleAd) {
                googletag.cmd.push(function () { googletag.display('div-gpt-ad-1346480159711-0'); });            
            } else {
                $('#div-gpt-ad-1346480159711-0').hide();
            }
    } catch (e) { }
    </script>
    <div id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe frameborder="0" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/container(1).html" id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0" name="1-0-1;109375;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;style&gt;a{color:#0000ff}body,table,div,ul,li{margin:0;padding:0}body{background-color:transparent;font-family:arial,sans-serif;}&lt;/style&gt;&lt;script&gt;(function(){var d=this,f=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var g;e:{var h=d.navigator;if(h){var k=h.userAgent;if(k){g=k;break e}}g=&quot;&quot;};var l=-1!=g.indexOf(&quot;Opera&quot;)||-1!=g.indexOf(&quot;OPR&quot;),n=-1!=g.indexOf(&quot;Trident&quot;)||-1!=g.indexOf(&quot;MSIE&quot;),p=-1!=g.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=g.indexOf(&quot;Trident&quot;)||-1!=g.indexOf(&quot;MSIE&quot;)),q=-1!=g.toLowerCase().indexOf(&quot;webkit&quot;);(function(){var a=&quot;&quot;,b;if(l&amp;&amp;d.opera)return a=d.opera.version,&quot;function&quot;==f(a)?a():a;p?b=/rv\:([^\);]+)(\)|;)/:n?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:q&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(g))?a[1]:&quot;&quot;);return n&amp;&amp;(b=(b=d.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();var r={};window.ss=function(a){void 0!==r[a]?r[a]++:r[a]=1;var b=document.getElementById(a),c=r[a];if(window.css)css(a,&quot;nm&quot;,c,void 0,void 0);else if(b){a=b.href;var e=a.indexOf(&quot;&amp;nm=&quot;);if(0&gt;e)c=a+&quot;&amp;nm=&quot;+c;else var e=e+4,m=a.indexOf(&quot;&amp;&quot;,e),c=0&lt;=m?a.substring(0,e)+c+a.substring(m):a.substring(0,e)+c;b.href=2E3&lt;c.length?a:c}};})();function su(id) {var a = document.getElementById(id);var b = (new Date()).getTime();if (a &amp;&amp; a.myt &amp;&amp; b) {var t = b - a.myt;if (window.css) {css(id,&#39;clkt&#39;,t);return;}var bi = a.href.indexOf(&quot;&amp;clkt=&quot;);if (bi &gt; 0) {var c = a.href.substring(0, bi+6); var d = a.href.substring(bi+6, a.href.length);var ei = d.indexOf(&quot;&amp;&quot;);var r = &#39;&#39;;if (ei &gt;= 0)r = d.substring(ei, d.length);a.href = c + t + r; } else {a.href += &quot;&amp;clkt=&quot; + t;}}}(function(){var c=this,e=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==d)return&quot;object&quot;;if(&quot;[object Array]&quot;==d||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==d||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var f;n:{var g=c.navigator;if(g){var h=g.userAgent;if(h){f=h;break n}}f=&quot;&quot;};var k=-1!=f.indexOf(&quot;Opera&quot;)||-1!=f.indexOf(&quot;OPR&quot;),l=-1!=f.indexOf(&quot;Trident&quot;)||-1!=f.indexOf(&quot;MSIE&quot;),p=-1!=f.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==f.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=f.indexOf(&quot;Trident&quot;)||-1!=f.indexOf(&quot;MSIE&quot;)),q=-1!=f.toLowerCase().indexOf(&quot;webkit&quot;);(function(){var a=&quot;&quot;,b;if(k&amp;&amp;c.opera)return a=c.opera.version,&quot;function&quot;==e(a)?a():a;p?b=/rv\:([^\);]+)(\)|;)/:l?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:q&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(f))?a[1]:&quot;&quot;);return l&amp;&amp;(b=(b=c.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();var r={},t=function(a,b){void 0!==r[a]||(r[a]=[]);var d=r[a][b];d||(r[a][b]=!0);if(!d)if(d=document.getElementById(a),window.css)css(a,&quot;nb&quot;,b,!0,void 0);else if(d){var m=d.href,n=m+(&quot;&amp;nb=&quot;+b);d.href=2E3&lt;n.length?m:n}};window.cla=function(a,b){if(0&gt;b||parseInt(b,10)!==b)b=17;t(a,b)};window.cll=function(a,b){t(a,b||1)};window.clb=function(a){t(a,2)};window.clh=function(a,b){t(a,b||0)};})();(function(){var d=this,g=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var h;e:{var k=d.navigator;if(k){var l=k.userAgent;if(l){h=l;break e}}h=&quot;&quot;};var m=-1!=h.indexOf(&quot;Opera&quot;)||-1!=h.indexOf(&quot;OPR&quot;),n=-1!=h.indexOf(&quot;Trident&quot;)||-1!=h.indexOf(&quot;MSIE&quot;),p=-1!=h.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==h.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=h.indexOf(&quot;Trident&quot;)||-1!=h.indexOf(&quot;MSIE&quot;)),q=-1!=h.toLowerCase().indexOf(&quot;webkit&quot;);(function(){var a=&quot;&quot;,b;if(m&amp;&amp;d.opera)return a=d.opera.version,&quot;function&quot;==g(a)?a():a;p?b=/rv\:([^\);]+)(\)|;)/:n?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:q&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(h))?a[1]:&quot;&quot;);return n&amp;&amp;(b=(b=d.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();var r=function(a,b,c,e){if(window.css)css(b,c,e,void 0,void 0);else if(a){b=a.href;var f=&quot;&amp;&quot;+c+&quot;=&quot;;c=b.indexOf(f);0&gt;c?e=b+f+e:(c+=f.length,f=b.indexOf(&quot;&amp;&quot;,c),e=0&lt;=f?b.substring(0,c)+e+b.substring(f):b.substring(0,c)+e);a.href=2E3&lt;e.length?b:e}};var t=null,u=function(a){t=a};document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,u,!0);window.xy=function(a,b,c){c=c||b;if((a=a||t)&amp;&amp;b&amp;&amp;c){var e=Math.round(a.clientY-c.offsetTop),f=b.id;r(b,f,&quot;nx&quot;,Math.round(a.clientX-c.offsetLeft));r(b,f,&quot;ny&quot;,e)}};})();(function(){var d=this,f=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var g;e:{var h=d.navigator;if(h){var k=h.userAgent;if(k){g=k;break e}}g=&quot;&quot;};var l=-1!=g.indexOf(&quot;Opera&quot;)||-1!=g.indexOf(&quot;OPR&quot;),n=-1!=g.indexOf(&quot;Trident&quot;)||-1!=g.indexOf(&quot;MSIE&quot;),p=-1!=g.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=g.indexOf(&quot;Trident&quot;)||-1!=g.indexOf(&quot;MSIE&quot;)),q=-1!=g.toLowerCase().indexOf(&quot;webkit&quot;);(function(){var a=&quot;&quot;,b;if(l&amp;&amp;d.opera)return a=d.opera.version,&quot;function&quot;==f(a)?a():a;p?b=/rv\:([^\);]+)(\)|;)/:n?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:q&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(g))?a[1]:&quot;&quot;);return n&amp;&amp;(b=(b=d.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();var r=[0,2,1],t=null;document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,function(a){t=a},!0);window.mb=function(a){if(a){var b=window.event||t;if(b){var c;(c=b.which?1&lt;&lt;r[b.which-1]:b.button)&amp;&amp;b.shiftKey&amp;&amp;(c|=8);c&amp;&amp;b.altKey&amp;&amp;(c|=16);c&amp;&amp;b.ctrlKey&amp;&amp;(c|=32);if(c)if(window.css)css(a.id,&quot;mb&quot;,c,void 0,void 0);else if(a){var b=a.href,e=b.indexOf(&quot;&amp;mb=&quot;);if(0&gt;e)c=b+&quot;&amp;mb=&quot;+c;else{var e=e+4,m=b.indexOf(&quot;&amp;&quot;,e);c=0&lt;=m?b.substring(0,e)+c+b.substring(m):b.substring(0,e)+c}a.href=2E3&lt;c.length?b:c}}}};})();(function(){var c=function(a,e,h){var b=document;b.addEventListener?b.addEventListener(a,e,h||!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;on&quot;+a,e)};var d,f=!1,g=!1;c(&quot;mousedown&quot;,function(){f=!0});c(&quot;keydown&quot;,function(){g=!0});document.addEventListener&amp;&amp;c(&quot;click&quot;,function(a){d=a},!0);window.accbk=function(){var a=d?d:window.event;return a?f||g?!1:(a.preventDefault?a.preventDefault():a.returnValue=!1,!0):!1};})();function st(id) {var a = document.getElementById(id);if (a) {a.myt = (new Date()).getTime();xy(window.event, a);mb(a);}}function ha(a,x){  clh(a,x);if (accbk()) return;su(a);}function ia(a,e,x) {if (accbk()) return;cll(a,x);su(a);}function ja(a,x) {if (accbk()) return;cla(a,x);su(a);}function ga(o,e,x) {if (document.getElementById) {var a=o.id.substring(1),p=&quot;&quot;,r=&quot;&quot;,g=e.target,t,f,h;if (g) {t=g.id;f=g.parentNode;if (f) {p=f.id;h=f.parentNode;if (h)r=h.id;}} else {h=e.srcElement;f=h.parentNode;if (f)p=f.id;t=h.id;}if (t==a||p==a||r==a)return true;ia(a,e,x);window.open(document.getElementById(a).href);}}&lt;/script&gt;&lt;script&gt;(function(){var h,k=this,aa=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},m=function(a){return&quot;string&quot;==typeof a},p=function(a){return&quot;function&quot;==aa(a)},ba=function(a,b,c){return a.call.apply(a.bind,arguments)},da=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ba:da;return q.apply(null,arguments)},ea=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},r=function(a,b){var c=a.split(&quot;.&quot;),d=k;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},u=function(a,b){function c(){}c.prototype=b.prototype;a.sb=b.prototype;a.prototype=new c;a.wb=function(a,c,f){for(var g=Array(arguments.length-2),l=2;l&lt;arguments.length;l++)g[l-2]=arguments[l];return b.prototype[c].apply(a,g)}};var fa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},v=function(a,b){return-1!=a.indexOf(b)},ka=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var la=function(a){this.g=a||[]},ma=function(a){this.g=a||[]},na=function(a){this.g=a||[]},oa=function(a){this.g=a||[]},w=function(a){a=a.g[3];return null!=a?a:!1};la.prototype.getEscapedQemQueryId=function(){var a=this.g[6];return null!=a?a:&quot;&quot;};la.prototype.getEscapedGwsQueryId=function(){var a=this.g[7];return null!=a?a:&quot;&quot;};la.prototype.getWebProperty=function(){var a=this.g[9];return null!=a?a:&quot;&quot;};var pa=new ma,x=function(a){return(a=a.g[5])?new ma(a):pa},qa=new oa,ra=function(a){return(a=a.g[8])?new oa(a):qa};na.prototype.getIndex=function(){var a=this.g[1];return null!=a?a:0};var sa=function(a){a=a.g[4];return null!=a?a:&quot;&quot;};var y=Array.prototype,ta=y.indexOf?function(a,b,c){return y.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(m(a))return m(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},ua=y.forEach?function(a,b,c){y.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(&quot;&quot;):a,f=0;f&lt;d;f++)f in e&amp;&amp;b.call(c,e[f],f,a)},va=function(a){return y.concat.apply(y,arguments)},wa=function(a){var b=a.length;if(0&lt;b){for(var c=Array(b),d=0;d&lt;b;d++)c[d]=a[d];return c}return[]};var xa=function(a){xa[&quot; &quot;](a);return a};xa[&quot; &quot;]=function(){};var ya=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},za=&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;.split(&quot; &quot;),Aa=function(a,b){for(var c,d,e=1;e&lt;arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f&lt;za.length;f++)c=za[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}},Ba=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==aa(arguments[0]))return Ba.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var z;i:{var Ca=k.navigator;if(Ca){var Da=Ca.userAgent;if(Da){z=Da;break i}}z=&quot;&quot;};var Ea=v(z,&quot;Opera&quot;)||v(z,&quot;OPR&quot;),A=v(z,&quot;Trident&quot;)||v(z,&quot;MSIE&quot;),B=v(z,&quot;Gecko&quot;)&amp;&amp;!v(z.toLowerCase(),&quot;webkit&quot;)&amp;&amp;!(v(z,&quot;Trident&quot;)||v(z,&quot;MSIE&quot;)),C=v(z.toLowerCase(),&quot;webkit&quot;),Fa=v(z,&quot;Android&quot;),Ga=function(){var a=k.document;return a?a.documentMode:void 0},Ha=function(){var a=&quot;&quot;,b;if(Ea&amp;&amp;k.opera)return a=k.opera.version,p(a)?a():a;B?b=/rv\:([^\);]+)(\)|;)/:A?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:C&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(z))?a[1]:&quot;&quot;);return A&amp;&amp;(b=Ga(),b&gt;parseFloat(a))?String(b):a}(),Ia={},D=function(a){var b;if(!(b=Ia[a])){b=0;for(var c=fa(String(Ha)).split(&quot;.&quot;),d=fa(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,l=d[f]||&quot;&quot;,n=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),t=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var X=n.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],Y=t.exec(l)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==X[0].length&amp;&amp;0==Y[0].length)break;b=ka(0==X[1].length?0:parseInt(X[1],10),0==Y[1].length?0:parseInt(Y[1],10))||ka(0==X[2].length,0==Y[2].length)||ka(X[2],Y[2])}while(0==b)}b=Ia[a]=0&lt;=b}return b},Ja=k.document,Ka=Ja&amp;&amp;A?Ga()||(&quot;CSS1Compat&quot;==Ja.compatMode?parseInt(Ha,10):5):void 0;var La=!A||A&amp;&amp;9&lt;=Ka,Ma=A&amp;&amp;!D(&quot;9&quot;);!C||D(&quot;528&quot;);B&amp;&amp;D(&quot;1.9b&quot;)||A&amp;&amp;D(&quot;8&quot;)||Ea&amp;&amp;D(&quot;9.5&quot;)||C&amp;&amp;D(&quot;528&quot;);B&amp;&amp;!D(&quot;8&quot;)||A&amp;&amp;D(&quot;9&quot;);var Na=function(){this.Fa=this.Fa;this.ob=this.ob};Na.prototype.Fa=!1;var E=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.P=!1;this.Ra=!0};E.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ra=!1};var F=function(a,b){E.call(this,a?a.type:&quot;&quot;);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.F=this.state=null;if(a){this.F=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var e;i:{try{xa(d.nodeName);e=!0;break i}catch(f){}e=!1}e||(d=null)}}else&quot;mouseover&quot;==c?d=a.fromElement:&quot;mouseout&quot;==c&amp;&amp;(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.Ga,set:this.qb},offsetY:{configurable:!0,enumerable:!0,get:this.Ha,set:this.rb}}):(this.offsetX=this.Ga(),this.offsetY=this.Ha());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(&quot;keypress&quot;==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;a.defaultPrevented&amp;&amp;this.preventDefault()}};u(F,E);h=F.prototype;h.preventDefault=function(){F.sb.preventDefault.call(this);var a=this.F;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ma)try{if(a.ctrlKey||112&lt;=a.keyCode&amp;&amp;123&gt;=a.keyCode)a.keyCode=-1}catch(b){}};h.Ga=function(){return C||void 0!==this.F.offsetX?this.F.offsetX:this.F.layerX};h.qb=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};h.Ha=function(){return C||void 0!==this.F.offsetY?this.F.offsetY:this.F.layerY};h.rb=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var G=&quot;closure_listenable_&quot;+(1E6*Math.random()|0),Oa=0;var Pa=function(a,b,c,d,e){this.J=a;this.la=null;this.src=b;this.type=c;this.ba=!!d;this.ka=e;this.key=++Oa;this.Q=this.aa=!1},Qa=function(a){a.Q=!0;a.J=null;a.la=null;a.src=null;a.ka=null};var H=function(a){this.src=a;this.o={};this.ma=0};H.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.ma++);var g=Ra(a,b,d,e);-1&lt;g?(b=a[g],c||(b.aa=!1)):(b=new Pa(b,this.src,f,!!d,e),b.aa=c,a.push(b));return b};H.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Ra(e,b,c,d);return-1&lt;b?(Qa(e[b]),y.splice.call(e,b,1),0==e.length&amp;&amp;(delete this.o[a],this.ma--),!0):!1};var Sa=function(a,b){var c=b.type;if(c in a.o){var d=a.o[c],e=ta(d,b),f;(f=0&lt;=e)&amp;&amp;y.splice.call(d,e,1);f&amp;&amp;(Qa(b),0==a.o[c].length&amp;&amp;(delete a.o[c],a.ma--))}};H.prototype.va=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&amp;&amp;(e=Ra(a,b,c,d));return-1&lt;e?a[e]:null};var Ra=function(a,b,c,d){for(var e=0;e&lt;a.length;++e){var f=a[e];if(!f.Q&amp;&amp;f.J==b&amp;&amp;f.ba==!!c&amp;&amp;f.ka==d)return e}return-1};var Ta=&quot;closure_lm_&quot;+(1E6*Math.random()|0),Ua={},Va=0,Wa=function(a,b,c,d,e){if(&quot;array&quot;==aa(b))for(var f=0;f&lt;b.length;f++)Wa(a,b[f],c,d,e);else if(c=Xa(c),a&amp;&amp;a[G])a.listen(b,c,d,e);else{if(!b)throw Error(&quot;Invalid event type&quot;);var f=!!d,g=Ya(a);g||(a[Ta]=g=new H(a));c=g.add(b,c,!1,d,e);c.la||(d=Za(),c.la=d,d.src=a,d.J=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent($a(b.toString()),d),Va++)}},Za=function(){var a=ab,b=La?function(c){return a.call(b.src,b.J,c)}:function(c){c=a.call(b.src,b.J,c);if(!c)return c};return b},bb=function(a,b,c,d,e){if(&quot;array&quot;==aa(b))for(var f=0;f&lt;b.length;f++)bb(a,b[f],c,d,e);else c=Xa(c),a&amp;&amp;a[G]?a.unlisten(b,c,d,e):a&amp;&amp;(a=Ya(a))&amp;&amp;(b=a.va(b,c,!!d,e))&amp;&amp;cb(b)},cb=function(a){if(&quot;number&quot;!=typeof a&amp;&amp;a&amp;&amp;!a.Q){var b=a.src;if(b&amp;&amp;b[G])Sa(b.M,a);else{var c=a.type,d=a.la;b.removeEventListener?b.removeEventListener(c,d,a.ba):b.detachEvent&amp;&amp;b.detachEvent($a(c),d);Va--;(c=Ya(b))?(Sa(c,a),0==c.ma&amp;&amp;(c.src=null,b[Ta]=null)):Qa(a)}}},$a=function(a){return a in Ua?Ua[a]:Ua[a]=&quot;on&quot;+a},eb=function(a,b,c,d){var e=!0;if(a=Ya(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a&lt;b.length;a++){var f=b[a];f&amp;&amp;f.ba==c&amp;&amp;!f.Q&amp;&amp;(f=db(f,d),e=e&amp;&amp;!1!==f)}return e},db=function(a,b){var c=a.J,d=a.ka||a.src;a.aa&amp;&amp;cb(a);return c.call(d,b)},ab=function(a,b){if(a.Q)return!0;if(!La){var c;if(!(c=b))i:{c=[&quot;window&quot;,&quot;event&quot;];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break i}c=d}e=c;c=new F(e,this);d=!0;if(!(0&gt;e.keyCode||void 0!=e.returnValue)){i:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break i}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,l=e.length-1;!c.P&amp;&amp;0&lt;=l;l--){c.currentTarget=e[l];var n=eb(e[l],f,!0,c),d=d&amp;&amp;n}for(l=0;!c.P&amp;&amp;l&lt;e.length;l++)c.currentTarget=e[l],n=eb(e[l],f,!1,c),d=d&amp;&amp;n}return d}return db(a,new F(b,this))},Ya=function(a){a=a[Ta];return a instanceof H?a:null},fb=&quot;__closure_events_fn_&quot;+(1E9*Math.random()&gt;&gt;&gt;0),Xa=function(a){if(p(a))return a;a[fb]||(a[fb]=function(b){return a.handleEvent(b)});return a[fb]};var I=function(){Na.call(this);this.M=new H(this);this.cb=this;this.Oa=null};u(I,Na);I.prototype[G]=!0;h=I.prototype;h.addEventListener=function(a,b,c,d){Wa(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){bb(this,a,b,c,d)};h.dispatchEvent=function(a){var b,c=this.Oa;if(c)for(b=[];c;c=c.Oa)b.push(c);var c=this.cb,d=a.type||a;if(m(a))a=new E(a,c);else if(a instanceof E)a.target=a.target||c;else{var e=a;a=new E(d,c);Aa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.P&amp;&amp;0&lt;=g;g--)f=a.currentTarget=b[g],e=J(f,d,!0,a)&amp;&amp;e;a.P||(f=a.currentTarget=c,e=J(f,d,!0,a)&amp;&amp;e,a.P||(e=J(f,d,!1,a)&amp;&amp;e));if(b)for(g=0;!a.P&amp;&amp;g&lt;b.length;g++)f=a.currentTarget=b[g],e=J(f,d,!1,a)&amp;&amp;e;return e};h.listen=function(a,b,c,d){return this.M.add(String(a),b,!1,c,d)};h.unlisten=function(a,b,c,d){return this.M.remove(String(a),b,c,d)};var J=function(a,b,c,d){b=a.M.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f&lt;b.length;++f){var g=b[f];if(g&amp;&amp;!g.Q&amp;&amp;g.ba==c){var l=g.J,n=g.ka||g.src;g.aa&amp;&amp;Sa(a.M,g);e=!1!==l.call(n,d)&amp;&amp;e}}return e&amp;&amp;0!=d.Ra};I.prototype.va=function(a,b,c,d){return this.M.va(String(a),b,c,d)};var gb=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},ib=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)};var jb=function(a,b){var c=window;c.google_image_requests||(c.google_image_requests=[]);var d=c.document.createElement(&quot;img&quot;);if(b){var e=function(a){b(a);ib(d,&quot;load&quot;,e);ib(d,&quot;error&quot;,e)};gb(d,&quot;load&quot;,e);gb(d,&quot;error&quot;,e)}d.src=a;c.google_image_requests.push(d)};var kb=document,lb=window;var nb=function(a,b,c,d,e,f){var g;if(document.createEvent)g=document.createEvent(&quot;MouseEvents&quot;),g.initMouseEvent(b,!0,!0,null,0,0,0,0,0,d,!1,e,f,c,null);else if(document.createEventObject)g=document.createEventObject(),g.ta=&quot;on&quot;+b,g.button=c,g.ctrlKey=d,g.shiftKey=e,g.metaKey=f;else return!1;document.createEvent?a.dispatchEvent(g):a.fireEvent(g.ta,g);return!0},ob=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};var pb=function(a){k.setTimeout(function(){throw a;},0)},qb,rb=function(){var a=k.MessageChannel;&quot;undefined&quot;===typeof a&amp;&amp;&quot;undefined&quot;!==typeof window&amp;&amp;window.postMessage&amp;&amp;window.addEventListener&amp;&amp;!v(z,&quot;Presto&quot;)&amp;&amp;(a=function(){var a=document.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.src=&quot;&quot;;document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(&quot;&quot;);a.close();var c=&quot;callImmediate&quot;+Math.random(),d=&quot;file:&quot;==b.location.protocol?&quot;*&quot;:b.location.protocol+&quot;//&quot;+b.location.host,a=q(function(a){if((&quot;*&quot;==d||a.origin==d)&amp;&amp;a.data==c)this.port1.onmessage()},this);b.addEventListener(&quot;message&quot;,a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(&quot;undefined&quot;!==typeof a&amp;&amp;!v(z,&quot;Trident&quot;)&amp;&amp;!v(z,&quot;MSIE&quot;)){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Ea;c.Ea=null;a()}};return function(a){d.next={Ea:a};d=d.next;b.port2.postMessage(0)}}return&quot;undefined&quot;!==typeof document&amp;&amp;&quot;onreadystatechange&quot;in document.createElement(&quot;script&quot;)?function(a){var b=document.createElement(&quot;script&quot;);b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};var xb=function(a,b){sb||tb();ub||(sb(),ub=!0);vb.push(new wb(a,b))},sb,tb=function(){if(k.Promise&amp;&amp;k.Promise.resolve){var a=k.Promise.resolve();sb=function(){a.then(yb)}}else sb=function(){var a=yb;!p(k.setImmediate)||k.Window&amp;&amp;k.Window.prototype.setImmediate==k.setImmediate?(qb||(qb=rb()),qb(a)):k.setImmediate(a)}},ub=!1,vb=[],yb=function(){for(;vb.length;){var a=vb;vb=[];for(var b=0;b&lt;a.length;b++){var c=a[b];try{c.lb.call(c.scope)}catch(d){pb(d)}}}ub=!1},wb=function(a,b){this.lb=a;this.scope=b};var K=function(a,b){this.C=0;this.Qa=void 0;this.w=this.Pa=null;this.fa=this.ua=!1;try{var c=this;a.call(b,function(a){zb(c,2,a)},function(a){zb(c,3,a)})}catch(d){zb(this,3,d)}},Ab=function(a){return new K(function(b,c){a.length||b(void 0);for(var d=0,e;e=a[d];d++)e.then(b,c)})},Bb=function(a){return new K(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&amp;&amp;b(e)},g=function(a){c(a)},l=0,n;n=a[l];l++)n.then(ea(f,l),g);else b(e)})};K.prototype.then=function(a,b,c){return Cb(this,p(a)?a:null,p(b)?b:null,c)};K.prototype.then=K.prototype.then;K.prototype.$goog_Thenable=!0;var Eb=function(a,b){a.w&amp;&amp;a.w.length||2!=a.C&amp;&amp;3!=a.C||Db(a);a.w||(a.w=[]);a.w.push(b)},Cb=function(a,b,c,d){var e={da:null,Ma:null,Na:null};e.da=new K(function(a,g){e.Ma=b?function(c){try{var e=b.call(d,c);a(e)}catch(t){g(t)}}:a;e.Na=c?function(b){try{var e=c.call(d,b);a(e)}catch(t){g(t)}}:g});e.da.Pa=a;Eb(a,e);return e.da};K.prototype.Sa=function(a){this.C=0;zb(this,2,a)};K.prototype.Ta=function(a){this.C=0;zb(this,3,a)};var zb=function(a,b,c){if(0==a.C){if(a==c)b=3,c=new TypeError(&quot;Promise cannot resolve to itself&quot;);else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.C=1;c.then(a.Sa,a.Ta,a);return}d=typeof c;if(&quot;object&quot;==d&amp;&amp;null!=c||&quot;function&quot;==d)try{var f=c.then;if(p(f)){Fb(a,c,f);return}}catch(g){b=3,c=g}}a.Qa=c;a.C=b;Db(a);3!=b||Gb(a,c)}},Fb=function(a,b,c){a.C=1;var d=!1,e=function(b){d||(d=!0,a.Sa(b))},f=function(b){d||(d=!0,a.Ta(b))};try{c.call(b,e,f)}catch(g){f(g)}},Db=function(a){a.ua||(a.ua=!0,xb(a.ib,a))};K.prototype.ib=function(){for(;this.w&amp;&amp;this.w.length;){var a=this.w;this.w=[];for(var b=0;b&lt;a.length;b++){var c=a[b],d=this.Qa;if(2==this.C)c.Ma(d);else{if(c.da)for(var e=void 0,e=this;e&amp;&amp;e.fa;e=e.Pa)e.fa=!1;c.Na(d)}}}this.ua=!1};var Gb=function(a,b){a.fa=!0;xb(function(){a.fa&amp;&amp;Hb.call(null,b)})},Hb=pb;Ba(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));Ba(&quot;action&quot;,&quot;cite&quot;,&quot;data&quot;,&quot;formaction&quot;,&quot;href&quot;,&quot;manifest&quot;,&quot;poster&quot;,&quot;src&quot;);Ba(&quot;embed&quot;,&quot;iframe&quot;,&quot;link&quot;,&quot;object&quot;,&quot;script&quot;,&quot;style&quot;,&quot;template&quot;);!B&amp;&amp;!A||A&amp;&amp;A&amp;&amp;9&lt;=Ka||B&amp;&amp;D(&quot;1.9.1&quot;);A&amp;&amp;D(&quot;9&quot;);var Jb=function(a,b){var c=b||document;return c.querySelectorAll&amp;&amp;c.querySelector?c.querySelectorAll(&quot;.&quot;+a):Ib(&quot;*&quot;,a,b)},Ib=function(a,b,c){var d=document;c=c||d;var e=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;if(c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;(e||b))return c.querySelectorAll(e+(b?&quot;.&quot;+b:&quot;&quot;));if(b&amp;&amp;c.getElementsByClassName){a=c.getElementsByClassName(b);if(e){c={};for(var f=d=0,g;g=a[f];f++)e==g.nodeName&amp;&amp;(c[d++]=g);c.length=d;return c}return a}a=c.getElementsByTagName(e||&quot;*&quot;);if(b){c={};for(f=d=0;g=a[f];f++){var e=g.className,l;if(l=&quot;function&quot;==typeof e.split)l=0&lt;=ta(e.split(/\s+/),b);l&amp;&amp;(c[d++]=g)}c.length=d;return c}return a};var Kb=function(a,b,c){var d=&quot;mouseenter_custom&quot;==b,e=L(b);return function(f){f||(f=window.event);if(f.type==e){if(&quot;mouseenter_custom&quot;==b||&quot;mouseleave_custom&quot;==b){var g;if(g=d?f.relatedTarget||f.fromElement:f.relatedTarget||f.toElement)for(var l=0;l&lt;a.length;l++){var n;n=a[l];var t=g;if(n.contains&amp;&amp;1==t.nodeType)n=n==t||n.contains(t);else if(&quot;undefined&quot;!=typeof n.compareDocumentPosition)n=n==t||Boolean(n.compareDocumentPosition(t)&amp;16);else{for(;t&amp;&amp;n!=t;)t=t.parentNode;n=t==n}if(n)return}}c(f)}}},L=function(a){return&quot;mouseenter_custom&quot;==a?&quot;mouseover&quot;:&quot;mouseleave_custom&quot;==a?&quot;mouseout&quot;:a};var Lb=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?Lb(a,b,d,void 0,e):a:c};var Mb=&quot;StopIteration&quot;in k?k.StopIteration:Error(&quot;StopIteration&quot;),Nb=function(){};Nb.prototype.next=function(){throw Mb;};Nb.prototype.bb=function(){return this};var M=function(a,b){this.s={};this.l=[];this.na=this.k=0;var c=arguments.length;if(1&lt;c){if(c%2)throw Error(&quot;Uneven number of arguments&quot;);for(var d=0;d&lt;c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof M)e=a.U(),d=a.N();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c&lt;e.length;c++)this.set(e[c],d[c])}};M.prototype.N=function(){Ob(this);for(var a=[],b=0;b&lt;this.l.length;b++)a.push(this.s[this.l[b]]);return a};M.prototype.U=function(){Ob(this);return this.l.concat()};M.prototype.S=function(a){return N(this.s,a)};M.prototype.remove=function(a){return N(this.s,a)?(delete this.s[a],this.k--,this.na++,this.l.length&gt;2*this.k&amp;&amp;Ob(this),!0):!1};var Ob=function(a){if(a.k!=a.l.length){for(var b=0,c=0;b&lt;a.l.length;){var d=a.l[b];N(a.s,d)&amp;&amp;(a.l[c++]=d);b++}a.l.length=c}if(a.k!=a.l.length){for(var e={},c=b=0;b&lt;a.l.length;)d=a.l[b],N(e,d)||(a.l[c++]=d,e[d]=1),b++;a.l.length=c}};h=M.prototype;h.get=function(a,b){return N(this.s,a)?this.s[a]:b};h.set=function(a,b){N(this.s,a)||(this.k++,this.l.push(a),this.na++);this.s[a]=b};h.forEach=function(a,b){for(var c=this.U(),d=0;d&lt;c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new M(this)};h.bb=function(a){Ob(this);var b=0,c=this.l,d=this.s,e=this.na,f=this,g=new Nb;g.next=function(){for(;;){if(e!=f.na)throw Error(&quot;The map has changed since the iterator was created&quot;);if(b&gt;=c.length)throw Mb;var g=c[b++];return a?g:d[g]}};return g};var N=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Pb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Rb=function(a){if(Qb){Qb=!1;var b=k.location;if(b){var c=b.href;if(c&amp;&amp;(c=(c=Rb(c)[3]||null)?decodeURI(c):c)&amp;&amp;c!=b.hostname)throw Qb=!0,Error();}}return a.match(Pb)},Qb=C,Sb=function(a,b){for(var c=a.split(&quot;&amp;&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;),f=null,g=null;0&lt;=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g,&quot; &quot;)):&quot;&quot;)}};var Tb=function(a,b){var c;if(a instanceof Tb)this.n=void 0!==b?b:a.n,Ub(this,a.G),c=a.L,O(this),this.L=c,Vb(this,a.H),Wb(this,a.O),c=a.t,O(this),this.t=c,Xb(this,a.B.clone()),c=a.I,O(this),this.I=c;else if(a&amp;&amp;(c=Rb(String(a)))){this.n=!!b;Ub(this,c[1]||&quot;&quot;,!0);var d=c[2]||&quot;&quot;;O(this);this.L=P(d);Vb(this,c[3]||&quot;&quot;,!0);Wb(this,c[4]);d=c[5]||&quot;&quot;;O(this);this.t=P(d,!0);Xb(this,c[6]||&quot;&quot;,!0);c=c[7]||&quot;&quot;;O(this);this.I=P(c)}else this.n=!!b,this.B=new Q(null,0,this.n)};h=Tb.prototype;h.G=&quot;&quot;;h.L=&quot;&quot;;h.H=&quot;&quot;;h.O=null;h.t=&quot;&quot;;h.I=&quot;&quot;;h.nb=!1;h.n=!1;h.toString=function(){var a=[],b=this.G;b&amp;&amp;a.push(Yb(b,Zb,!0),&quot;:&quot;);if(b=this.H){a.push(&quot;//&quot;);var c=this.L;c&amp;&amp;a.push(Yb(c,Zb,!0),&quot;@&quot;);a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;));b=this.O;null!=b&amp;&amp;a.push(&quot;:&quot;,String(b))}if(b=this.t)this.H&amp;&amp;&quot;/&quot;!=b.charAt(0)&amp;&amp;a.push(&quot;/&quot;),a.push(Yb(b,&quot;/&quot;==b.charAt(0)?$b:ac,!0));(b=this.B.toString())&amp;&amp;a.push(&quot;?&quot;,b);(b=this.I)&amp;&amp;a.push(&quot;#&quot;,Yb(b,bc));return a.join(&quot;&quot;)};h.resolve=function(a){var b=this.clone(),c=!!a.G;c?Ub(b,a.G):c=!!a.L;if(c){var d=a.L;O(b);b.L=d}else c=!!a.H;c?Vb(b,a.H):c=null!=a.O;d=a.t;if(c)Wb(b,a.O);else if(c=!!a.t){if(&quot;/&quot;!=d.charAt(0))if(this.H&amp;&amp;!this.t)d=&quot;/&quot;+d;else{var e=b.t.lastIndexOf(&quot;/&quot;);-1!=e&amp;&amp;(d=b.t.substr(0,e+1)+d)}e=d;if(&quot;..&quot;==e||&quot;.&quot;==e)d=&quot;&quot;;else if(v(e,&quot;./&quot;)||v(e,&quot;/.&quot;)){for(var d=0==e.lastIndexOf(&quot;/&quot;,0),e=e.split(&quot;/&quot;),f=[],g=0;g&lt;e.length;){var l=e[g++];&quot;.&quot;==l?d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;):&quot;..&quot;==l?((1&lt;f.length||1==f.length&amp;&amp;&quot;&quot;!=f[0])&amp;&amp;f.pop(),d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;)):(f.push(l),d=!0)}d=f.join(&quot;/&quot;)}else d=e}c?(O(b),b.t=d):c=&quot;&quot;!==a.B.toString();c?Xb(b,P(a.B.toString())):c=!!a.I;c&amp;&amp;(a=a.I,O(b),b.I=a);return b};h.clone=function(){return new Tb(this)};var Ub=function(a,b,c){O(a);a.G=c?P(b,!0):b;a.G&amp;&amp;(a.G=a.G.replace(/:$/,&quot;&quot;))},Vb=function(a,b,c){O(a);a.H=c?P(b,!0):b},Wb=function(a,b){O(a);if(b){b=Number(b);if(isNaN(b)||0&gt;b)throw Error(&quot;Bad port number &quot;+b);a.O=b}else a.O=null},Xb=function(a,b,c){O(a);b instanceof Q?(a.B=b,a.B.Ba(a.n)):(c||(b=Yb(b,cc)),a.B=new Q(b,0,a.n))},O=function(a){if(a.nb)throw Error(&quot;Tried to modify a read-only Uri&quot;);};Tb.prototype.Ba=function(a){this.n=a;this.B&amp;&amp;this.B.Ba(a);return this};var P=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):&quot;&quot;},Yb=function(a,b,c){return m(a)?(a=encodeURI(a).replace(b,dc),c&amp;&amp;(a=a.replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;)),a):null},dc=function(a){a=a.charCodeAt(0);return&quot;%&quot;+(a&gt;&gt;4&amp;15).toString(16)+(a&amp;15).toString(16)},Zb=/[#\/\?@]/g,ac=/[\#\?:]/g,$b=/[\#\?]/g,cc=/[\#\?@]/g,bc=/#/g,Q=function(a,b,c){this.m=a||null;this.n=!!c},R=function(a){a.j||(a.j=new M,a.k=0,a.m&amp;&amp;Sb(a.m,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,&quot; &quot;)),c)}))};h=Q.prototype;h.j=null;h.k=null;h.add=function(a,b){R(this);this.m=null;a=S(this,a);var c=this.j.get(a);c||this.j.set(a,c=[]);c.push(b);this.k++;return this};h.remove=function(a){R(this);a=S(this,a);return this.j.S(a)?(this.m=null,this.k-=this.j.get(a).length,this.j.remove(a)):!1};h.S=function(a){R(this);a=S(this,a);return this.j.S(a)};h.U=function(){R(this);for(var a=this.j.N(),b=this.j.U(),c=[],d=0;d&lt;b.length;d++)for(var e=a[d],f=0;f&lt;e.length;f++)c.push(b[d]);return c};h.N=function(a){R(this);var b=[];if(m(a))this.S(a)&amp;&amp;(b=va(b,this.j.get(S(this,a))));else{a=this.j.N();for(var c=0;c&lt;a.length;c++)b=va(b,a[c])}return b};h.set=function(a,b){R(this);this.m=null;a=S(this,a);this.S(a)&amp;&amp;(this.k-=this.j.get(a).length);this.j.set(a,[b]);this.k++;return this};h.get=function(a,b){var c=a?this.N(a):[];return 0&lt;c.length?String(c[0]):b};h.toString=function(){if(this.m)return this.m;if(!this.j)return&quot;&quot;;for(var a=[],b=this.j.U(),c=0;c&lt;b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.N(d),f=0;f&lt;d.length;f++){var g=e;&quot;&quot;!==d[f]&amp;&amp;(g+=&quot;=&quot;+encodeURIComponent(String(d[f])));a.push(g)}return this.m=a.join(&quot;&amp;&quot;)};h.clone=function(){var a=new Q;a.m=this.m;this.j&amp;&amp;(a.j=this.j.clone(),a.k=this.k);return a};var S=function(a,b){var c=String(b);a.n&amp;&amp;(c=c.toLowerCase());return c};Q.prototype.Ba=function(a){a&amp;&amp;!this.n&amp;&amp;(R(this),this.m=null,this.j.forEach(function(a,c){var d=c.toLowerCase();c!=d&amp;&amp;(this.remove(c),this.remove(d),0&lt;a.length&amp;&amp;(this.m=null,this.j.set(S(this,d),wa(a)),this.k+=a.length))},this));this.n=a};var ec;ec=!1;var T=z;T&amp;&amp;(-1!=T.indexOf(&quot;Firefox&quot;)||-1!=T.indexOf(&quot;iPad&quot;)||-1!=T.indexOf(&quot;iPhone&quot;)||-1!=T.indexOf(&quot;iPod&quot;)||-1!=T.indexOf(&quot;Chrome&quot;)||-1!=T.indexOf(&quot;Android&quot;)&amp;&amp;(ec=!0));var fc=ec;var U={tb:0,Z:1,URL:2,X:3,W:4,sa:5,ra:7,qa:8,pa:9,Y:6,Xa:10,Za:11,Ya:12,Wa:13,oa:14,Da:15,$a:16,ab:17,Ua:18,Va:19,ub:1E3};var gc=function(a,b,c,d){b=c(d,b);if(!(b instanceof Array))return a;ua(b,function(b){if(2!==b.length&amp;&amp;3!==b.length)return a;a=Lb(a,b[0],b[1],b[2],!0)});return a},hc=function(a,b,c){if(window.ona){ob(a);a=b.href;i:{if(window.ona){if(c.match(/itunes[.]apple[.]com/)){if(window.onc)window.onc(a),window.ona(c);else window.ona(a);c=!0;break i}c=a;if(c.match(/market[.]android[.]com|play[.]google[.]com/)&amp;&amp;c.match(/[\?&amp;]sa=L/)&amp;&amp;!c.match(/googleadservices[.]com/)){var d=window.location.host;if(d){b=1;for(var e=d.split(&quot;:&quot;),d=[];0&lt;b&amp;&amp;e.length;)d.push(e.shift()),b--;e.length&amp;&amp;d.push(e.join(&quot;:&quot;));b=d[0];d=d[1];c=new Tb(c);Vb(c,b);Wb(c,d);c=c.toString()}c=c.replace(&quot;?&quot;,&quot;?&quot;+encodeURIComponent(&quot;rct&quot;)+&quot;=&quot;+encodeURIComponent(&quot;j&quot;)+&quot;&amp;&quot;);b=new XMLHttpRequest;b.open(&quot;GET&quot;,c,!1);window.jstiming&amp;&amp;p(window.jstiming.report)?(d=new window.jstiming.Timer,b.send(),d.tick(&quot;cr_csr&quot;),window.jstiming.report(d)):b.send();b.responseText&amp;&amp;(b=b.responseText.match(/URL=\&#39;([^\&#39;]*)\&#39;/),1&lt;b.length&amp;&amp;(c=b[1].replace(/&amp;amp;/g,&quot;&amp;&quot;)));c=fc||Fa?c.replace(/https?:\/\/(market.android.com|play.google.com\/store\/apps)\//,&quot;market://&quot;):c}else c=null;if(c){window.ona(c);c=!0;break i}}c=!1}if(!c)window.ona(a)}};var V=function(a){this.R=a;this.Ca=[];this.$=[];this.xa={};this.i={};this.La=1;this.V=&quot;data-original-click-url&quot;;this.Aa=&quot;data-landing-url&quot;;this.D={};this.ya=!1;this.ea=[]};V.prototype.registerBeaconUrlBuilder=function(a){this.$.push(a)};var ic=function(a,b,c){var d=b=b.getAttribute(a.V);if(d)for(var e=0;e&lt;a.Ca.length;e++)d=gc(d,b,a.Ca[e],c);return d},jc=function(a,b,c,d){if(0!=a.$.length&amp;&amp;(d.preventDefault?!d.defaultPrevented:!1!==d.returnValue)){ob(d);for(var e=[],f=0;f&lt;a.$.length;f++){var g=a.$[f](c);if(g){var l=new K(function(a){jb(g,a)});e.push(l)}}c=Bb(e);e=new K(function(a){window.setTimeout(a,2E3)});Ab([c,e]).then(q(V.prototype.pb,a,b,d))}};V.prototype.pb=function(a,b){this.ya=!0;var c=!1;b.target&amp;&amp;(c=nb(b.target,&quot;click&quot;,b.button,b.ctrlKey,b.shiftKey,b.metaKey));a.href&amp;&amp;!c&amp;&amp;(lb.top.location=a.href)};V.prototype.kb=function(a,b,c,d){if(this.ya)this.ya=!1;else{d||(d=window.event);ya(this.i[c][b],function(a){a(d)});var e=ic(this,a,d.type);e&amp;&amp;(this.D[b]?a.ping=e:a.href=e);&quot;click&quot;==c&amp;&amp;jc(this,a,b,d);kc(this);&quot;click&quot;!=c||(d.preventDefault?d.defaultPrevented:!1===d.returnValue)||hc(d,a,sa(this.R))}};var lc=function(a,b,c,d){a.i[d]||(a.i[d]={});a.i[d][c]||(a.i[d][c]={});a=q(a.kb,a,b,c,d);gb(b,d,a,void 0)};h=V.prototype;h.K=function(a,b){for(var c=0;c&lt;a.length;c++){var d=a[c];d.setAttribute(this.V,d.href);lc(this,d,b,&quot;mousedown&quot;);lc(this,d,b,&quot;click&quot;)}this.xa[b]=!0};h.usePingClickTracking=function(a,b){this.D[b]=!0;for(var c=0;c&lt;a.length;c++){var d=a[c];d.ping&amp;&amp;(d.setAttribute(this.V,d.ping),d.setAttribute(this.Aa,d.href))}};h.disablePingClickTracking=function(a,b){if(!(b in this.D)){this.D[b]=!1;for(var c=0;c&lt;a.length;c++){var d=a[c];d.ping&amp;&amp;(d.setAttribute(this.V,d.ping),d.href=d.ping,d.removeAttribute(&quot;ping&quot;))}}};h.suspendPingClickTracking=function(a,b){if(this.D[b]){this.D[b]=!1;for(var c=0;c&lt;a.length;c++){var d=a[c];d.getAttribute(this.Aa)&amp;&amp;(d.href=d.ping,d.removeAttribute(&quot;ping&quot;))}}};h.restorePingClickTracking=function(a,b){if(b in this.D&amp;&amp;!this.D[b]){this.D[b]=!0;for(var c=0;c&lt;a.length;c++){var d=a[c],e=d.getAttribute(this.Aa);e&amp;&amp;(d.ping=d.getAttribute(this.V),d.href=e)}}};h.queueOnObjectAfterClickModifiers=function(a,b,c,d){this.ea.push({eb:a,ta:b,gb:c,fb:d})};var kc=function(a){for(var b=0;b&lt;a.ea.length;b++){var c=a.ea[b],d=c.eb,e=c.ta,f=c.gb;c.fb&amp;&amp;(f.preventDefault?f.defaultPrevented:!1===f.returnValue)||d.fireOnObject(e,f)}a.ea=[]};var mc=&quot;undefined&quot;!=typeof DOMTokenList,nc=function(a,b){if(mc){var c=a.classList;0==c.contains(b)&amp;&amp;c.toggle(b)}else if(c=a.className){for(var c=c.split(/\s+/),d=!1,e=0;e&lt;c.length&amp;&amp;!d;++e)d=c[e]==b;d||(c.push(b),a.className=c.join(&quot; &quot;))}else a.className=b},oc=function(a,b){if(mc){var c=a.classList;1==c.contains(b)&amp;&amp;c.toggle(b)}else if((c=a.className)&amp;&amp;!(0&gt;c.indexOf(b))){for(var c=c.split(/\s+/),d=0;d&lt;c.length;++d)c[d]==b&amp;&amp;c.splice(d--,1);a.className=c.join(&quot; &quot;)}};var W=function(a,b,c){this.wa=new I;this.h=a;this.h[0]=[b];this.Ka=[];this.T=b.style.display;this.q=new V(c);this.R=c};h=W.prototype;h.navigationAdPieces=function(){return this.Ka};h.Ja=function(){return!0};h.hide=function(){for(var a=this.h[0],b=0;b&lt;a.length;b++)a[b].style.display=&quot;none&quot;};h.reset=function(){for(var a=this.h[0],b=0;b&lt;a.length;b++)a[b].style.display=this.T};h.has=function(a){return(a=this.h[a])&amp;&amp;0&lt;a.length};h.listen=function(a,b,c){var d=this.h[a];if(d){var e=this.q,f=L(b),g=(&quot;click&quot;==b||&quot;mousedown&quot;==b)&amp;&amp;e.xa[a],l=Kb(d,b,ea(c,a,this));e.i[f]||(e.i[f]={});e.i[f][a]||(e.i[f][a]={});var n=e.La;e.i[f][a][n]=l;e.La=n+1;if(!g)for(e=0;e&lt;d.length;e++)gb(d[e],f,l,void 0);c.v||(c.v={});c.v[b]||(c.v[b]={});c.v[b][a]=n}};h.unlisten=function(a,b,c){var d;if(c.v&amp;&amp;c.v[b]&amp;&amp;c.v[b][a]){var e=c.v[b][a];delete c.v[b][a];d=e}else d=-1;if(c=this.h[a]){var f=this.q,e=L(b);b=(&quot;click&quot;==b||&quot;mousedown&quot;==b)&amp;&amp;f.xa[a];if(f.i[e]&amp;&amp;f.i[e][a]){var g=f.i[e][a][d];delete f.i[e][a][d];a=g}else a=null;if(a&amp;&amp;!b)for(b=0;b&lt;c.length;b++)ib(c[b],e,a,void 0)}};h.dispatchMouseEvent=function(a,b,c,d,e,f){if(a=this.h[a])for(var g=0;g&lt;a.length;g++){var l=b,l=L(l);nb(a[g],l,c,d,e,f)}};h.registerClickUrlModifier=function(a){this.q.Ca.push(a)};h.registerBeaconUrlBuilder=function(a){this.q.registerBeaconUrlBuilder(a)};h.modifyCssClass=function(a,b,c){if(b&amp;&amp;(a=this.h[a]))for(var d=0;d&lt;a.length;d++)(c?oc:nc)(a[d],b)};h.getAttribute=function(a,b){var c=this.h[a];if(c&amp;&amp;b)for(var d=0;d&lt;c.length;d++){var e=c[d].getAttribute(b);if(e)return e}return null};h.setAttribute=function(a,b,c){(a=this.h[a])&amp;&amp;0&lt;a.length&amp;&amp;b&amp;&amp;a[0].setAttribute(b,c)};h.removeAttribute=function(a,b){var c=this.h[a];c&amp;&amp;0&lt;c.length&amp;&amp;b&amp;&amp;c[0].removeAttribute(b)};h.addScroller=function(a,b){var c=this.h[a];if(window.CreateScrollerForElement)for(var d=0;d&lt;c.length;d++){var e=c[d];if(e)for(e=Jb(b,e),d=0;d&lt;e.length;d++)window.CreateScrollerForElement(e[d],!1,!0,!0)}};h.getBoundingClientRect=function(a){return(a=this.h[a])?a[0].getBoundingClientRect():null};h.forEachAdPiece=function(a){var b=this.h;ya(U,function(c){b[c]&amp;&amp;0&lt;b[c].length&amp;&amp;a(c)})};h.K=function(a){this.h[a]&amp;&amp;this.Ja(a)&amp;&amp;(this.Ka.push(a),this.q.K(this.h[a],a))};h.usePingClickTracking=function(a){this.h[a]&amp;&amp;this.q.usePingClickTracking(this.h[a],a)};h.disablePingClickTracking=function(a){this.h[a]&amp;&amp;this.q.disablePingClickTracking(this.h[a],a)};h.suspendPingClickTracking=function(a){this.h[a]&amp;&amp;this.q.suspendPingClickTracking(this.h[a],a)};h.restorePingClickTracking=function(a){this.h[a]&amp;&amp;this.q.restorePingClickTracking(this.h[a],a)};h.hasHref=function(a){a=this.h[a];if(!a)return!1;for(var b=0;b&lt;a.length;b++)if(!a[b].href)return!1;return!0};h.creativeConversionUrl=function(){var a=this.R.g[5];return null!=a?a:&quot;&quot;};h.adGroupCreativeId=function(){var a=this.R.g[6];return null!=a?a:&quot;&quot;};h.getIndex=function(){return this.R.getIndex()};h.listenOnObject=function(a,b){Wa(this.wa,a,b)};h.unlistenOnObject=function(a,b){bb(this.wa,a,b)};h.fireOnObject=function(a,b){var c=this.wa;c&amp;&amp;c[G]?J(c,a,!1,b):eb(c,a,!1,b)};h.queueOnObjectAfterClickModifiers=function(a,b,c){this.q.queueOnObjectAfterClickModifiers(this,a,b,c)};W.prototype.modifyCssClass=W.prototype.modifyCssClass;W.prototype.has=W.prototype.has;W.prototype.listen=W.prototype.listen;W.prototype.unlisten=W.prototype.unlisten;W.prototype.dispatchMouseEvent=W.prototype.dispatchMouseEvent;W.prototype.registerClickUrlModifier=W.prototype.registerClickUrlModifier;W.prototype.usePingClickTracking=W.prototype.usePingClickTracking;W.prototype.disablePingClickTracking=W.prototype.disablePingClickTracking;W.prototype.suspendPingClickTracking=W.prototype.suspendPingClickTracking;W.prototype.restorePingClickTracking=W.prototype.restorePingClickTracking;W.prototype.registerBeaconUrlBuilder=W.prototype.registerBeaconUrlBuilder;W.prototype.hide=W.prototype.hide;W.prototype.reset=W.prototype.reset;W.prototype.forEachAdPiece=W.prototype.forEachAdPiece;W.prototype.getAttribute=W.prototype.getAttribute;W.prototype.setAttribute=W.prototype.setAttribute;W.prototype.removeAttribute=W.prototype.removeAttribute;W.prototype.getBoundingClientRect=W.prototype.getBoundingClientRect;W.prototype.addScroller=W.prototype.addScroller;W.prototype.hasHref=W.prototype.hasHref;W.prototype.creativeConversionUrl=W.prototype.creativeConversionUrl;W.prototype.adGroupCreativeId=W.prototype.adGroupCreativeId;W.prototype.getIndex=W.prototype.getIndex;W.prototype.listenOnObject=W.prototype.listenOnObject;W.prototype.unlistenOnObject=W.prototype.unlistenOnObject;W.prototype.fireOnObject=W.prototype.fireOnObject;W.prototype.navigationAdPieces=W.prototype.navigationAdPieces;W.prototype.queueOnObjectAfterClickModifiers=W.prototype.queueOnObjectAfterClickModifiers;var qc=function(a,b,c){W.call(this,a,b,c);for(a=0;a&lt;pc.length;a++)this.K(pc[a]);this.listen(4,&quot;mouseover&quot;,q(this.modifyCssClass,this,0,&quot;onhoverbg&quot;,!1));this.listen(4,&quot;mouseout&quot;,q(this.modifyCssClass,this,0,&quot;onhoverbg&quot;,!0))};u(qc,W);var pc=[U.Z,U.URL,U.W,U.sa,U.ra,U.qa,U.X,U.pa,U.Y,U.oa,U.Da],rc={Z:&quot;rhtitle&quot;,X:&quot;rhbody&quot;,URL:&quot;rhurl&quot;,W:&quot;rhbutton&quot;,qa:&quot;rhfavicon&quot;,oa:&quot;rhaddress&quot;,Y:&quot;rhimage&quot;,$a:&quot;rhimagegallery&quot;,Xa:&quot;rhimage-container&quot;,Za:&quot;rhexpand-button&quot;,Ya:&quot;rhimage-collapsed&quot;,pa:&quot;rhbackground&quot;,Wa:&quot;rh-icore-empty&quot;,sa:&quot;rhsitelink&quot;,ra:&quot;rhradlink&quot;,ab:&quot;rh-multiframe&quot;,Ua:&quot;rh-box-breadcrumbs&quot;};qc.prototype.Ja=function(a){return this.hasHref(a)||4==a};r(&quot;buildRhTextAd&quot;,function(a){a=new na(a);var b;var c=a.getIndex(),d={};if(c=document.getElementById(&quot;taw&quot;+c)){d[0]=[c];for(b in rc){var e=U[b],f=d,g=Ib(null,rc[b],c);f[e]=[];for(var l=0;l&lt;g.length;l++)f[e].push(g[l])}b=new qc(d,c,a)}else b=null;return b});var Z=function(a,b,c){I.call(this);this.A=a;this.T=&quot;none&quot;;this.A&amp;&amp;(this.T=this.A.style.display);this.p=b;this.g=c;this.i={};this.za=[];this.Ia=!1;this.u=[]};u(Z,I);h=Z.prototype;h.forEachAd=function(a){ua(this.p,a)};h.addAd=function(a){this.p.push(a)};h.jb=function(a){if(a=document.getElementById(a))this.A=a,this.T=this.A.style.display;if(0==this.p.length)window.css=null;else{window.SlideConstructor&amp;&amp;0&lt;this.p.length&amp;&amp;new window.SlideConstructor(this.p[0],this,w(this.g));window.GridConstructor&amp;&amp;0&lt;this.p.length&amp;&amp;new window.GridConstructor(this,w(this.g));window.ImageExpandConstructor&amp;&amp;1==this.p.length&amp;&amp;new window.ImageExpandConstructor(this,w(this.g));window.OneClickConstructor&amp;&amp;0&lt;this.p.length&amp;&amp;new window.OneClickConstructor(this,0);if(window.OnePointFiveClickConstructor&amp;&amp;0&lt;this.p.length){a=x(this.g).g[0];var b=x(this.g).g[1],c=x(this.g).g[2],d=x(this.g).g[4],e=x(this.g).g[3];new window.OnePointFiveClickConstructor(this,null!=a?a:!1,null!=b?b:!1,null!=c?c:!1,null!=e?e:0,null!=d?d:!1)}window.IntentfulClickConstructor&amp;&amp;0&lt;this.p.length&amp;&amp;(a=ra(this.g).g[0],b=ra(this.g).g[1],c=ra(this.g).g[2],new window.IntentfulClickConstructor(this,null!=a?a:&quot;&quot;,null!=b?b:!1,null!=c?c:!1));window.MultiframeConstructor&amp;&amp;new window.MultiframeConstructor(this,w(this.g));if(a=window.ona)a=this.g.g[4],a=!(null!=a&amp;&amp;a);a&amp;&amp;(window.ona=null);for(a=0;a&lt;this.za.length;++a)this.za[a]();this.Ia=!0}};h.listenOnContainer=function(a,b){var c=Kb([this.A],a,ea(b,this));gb(this.A,L(a),c,void 0);this.i[a]||(this.i[a]={});this.i[a][b]=c};h.unlistenOnContainer=function(a,b){var c;this.i[a]&amp;&amp;this.i[a][b]?(c=this.i[a][b],delete this.i[a][b]):c=null;c&amp;&amp;ib(this.A,L(a),c,void 0)};h.listenOnObject=function(a,b){Wa(this,a,b)};h.unlistenOnObject=function(a,b){bb(this,a,b)};h.fireOnObject=function(a,b){b.vb=this;this&amp;&amp;this[G]?J(this,a,!1,b):eb(this,a,!1,b)};h.registerFinalizeCallback=function(a){this.Ia?a():this.za.push(a)};h.registerWidget=function(a,b){0&lt;=ta(this.u,a)||(this.u[b]=a,a.reset(this))};var sc=function(a){a.A.style.display=&quot;none&quot;;for(var b=0;b&lt;a.u.length;b++)a.u[b]&amp;&amp;a.u[b].hide(a)};Z.prototype.resetAll=function(){this.A.style.display=this.T;for(var a=0;a&lt;this.u.length;a++)this.u[a]&amp;&amp;this.u[a].reset(this)};Z.prototype.showOnly=function(a){var b=this;sc(this);tc(this,a,function(a){a.show(b)})};var tc=function(a,b,c){a.u[b]&amp;&amp;c(a.u[b])};Z.prototype.isMobile=function(){return w(this.g)};Z.prototype.getEscapedQemQueryId=function(){return this.g.getEscapedQemQueryId()};Z.prototype.getEscapedGwsQueryId=function(){return this.g.getEscapedGwsQueryId()};Z.prototype.getWebProperty=function(){return this.g.getWebProperty()};Z.prototype.forEachAd=Z.prototype.forEachAd;Z.prototype.addAd=Z.prototype.addAd;Z.prototype.finalize=Z.prototype.jb;Z.prototype.registerFinalizeCallback=Z.prototype.registerFinalizeCallback;Z.prototype.listenOnContainer=Z.prototype.listenOnContainer;Z.prototype.unlistenOnContainer=Z.prototype.unlistenOnContainer;Z.prototype.registerWidget=Z.prototype.registerWidget;Z.prototype.resetAll=Z.prototype.resetAll;Z.prototype.showOnly=Z.prototype.showOnly;Z.prototype.isMobile=Z.prototype.isMobile;Z.prototype.getEscapedQemQueryId=Z.prototype.getEscapedQemQueryId;Z.prototype.getEscapedGwsQueryId=Z.prototype.getEscapedGwsQueryId;Z.prototype.getWebProperty=Z.prototype.getWebProperty;Z.prototype.listenOnObject=Z.prototype.listenOnObject;Z.prototype.unlistenOnObject=Z.prototype.unlistenOnObject;Z.prototype.fireOnObject=Z.prototype.fireOnObject;r(&quot;buildAdSlot&quot;,function(a){a=new Z(null,[],new la(a));r(&quot;adSlot&quot;,a);return a});var uc=function(a,b,c,d,e){var f=[];f[0]=[c];f[15]=[b];d&amp;&amp;(f[4]=d);e&amp;&amp;(f[9]=[e]);(b=document.getElementById(&quot;button_15click_anchor&quot;))&amp;&amp;f[15].push(b);W.call(this,f,c,a);this.K(15);this.K(4);this.K(9)};u(uc,W);r(&quot;buildImageAd&quot;,function(a){a=new na(a);var b=kb.getElementById(&quot;google_image_div&quot;),c=kb.getElementById(&quot;aw0&quot;);if(b&amp;&amp;c){for(var d=Jb(&quot;google_image_inside_det_button&quot;),e=[],f=0;f&lt;d.length;f++)e.push(d[f]);d=kb.getElementById(&quot;google_image_outside_det_button&quot;);a=e.length&amp;&amp;d?new uc(a,c,b,e,d):new uc(a,c,b)}else a=null;return a});var wc=function(a,b,c){W.call(this,a,b,c);for(a=0;a&lt;vc.length;a++)this.K(vc[a])};u(wc,W);var vc=[U.Z,U.URL,U.W,U.sa,U.ra,U.qa,U.X,U.pa,U.Y,U.oa,U.Da],xc={Z:&quot;headline&quot;,X:&quot;description&quot;,W:&quot;button&quot;,Va:&quot;logo&quot;,Y:&quot;product&quot;};r(&quot;buildTemplateAd&quot;,function(a){var b;a=new na(a);var c={},d=document.getElementById(&quot;adContent&quot;);if(d){c[0]=[d];for(b in xc){var e=U[b],f=c,g=Ib(null,xc[b],d);f[e]=[];for(var l=0;l&lt;g.length;l++)f[e].push(g[l])}b=new wc(c,d,a)}else b=null;return b});})();&lt;/script&gt;&lt;script&gt;buildAdSlot([null,300,250,0,0,null,&quot;CKC1oMDI3sMCFQsEhQodjR0Aog&quot;,&quot;&quot;,null,&quot;ca-pub-4210569241504288&quot;]);&lt;/script&gt;&lt;script&gt;&lt;/script&gt;&lt;script&gt;(function(){var e=this,g=function(a,b){var d=a.split(&quot;.&quot;),c=e;d[0]in c||!c.execScript||c.execScript(&quot;var &quot;+d[0]);for(var f;d.length&amp;&amp;(f=d.shift());)d.length||void 0===b?c=c[f]?c[f]:c[f]={}:c[f]=b},h=function(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var b=d.slice();b.push.apply(b,arguments);return a.apply(this,b)}};var k=function(){this.g=[];this.i={}};k.prototype.report=function(){for(var a=[],b=0;b&lt;this.g.length;++b)a.push(l(this.g[b]));return a};var l=function(a){var b=[a.key,a.value];void 0!==a.h&amp;&amp;b.push(a.h);return b},m={};var n={1:0,2:1,4:8,5:6,8:11,9:2,6:9},p=function(a,b,d){var c=n[b];&quot;true&quot;===d.getAttribute(b,&quot;data-is-action-button-expanded&quot;)&amp;&amp;(c=12);ja(a,c)},q=function(a){return function(){a()}},r=function(a){return a.report()};g(&quot;registerAd&quot;,function(a,b){void 0!==m[b]||(m[b]=new k);a.registerClickUrlModifier(h(r,m[b]));for(var d=[1,2,4,8,6,9,5],c=0;c&lt;d.length;c++)a.listen(d[c],&quot;mousedown&quot;,q(h(st,b))),a.listen(d[c],&quot;click&quot;,h(p,b));a.has(9)||(a.listen(15,&quot;click&quot;,h(p,b)),a.listen(15,&quot;mousedown&quot;,q(h(st,b))));a.listen(0,&quot;mouseover&quot;,q(h(ss,b)));a.listen(0,&quot;focus&quot;,q(h(ss,b)));a.listen(1,&quot;focus&quot;,q(h(ss,b)));a.listen(1,&quot;mouseover&quot;,q(h(ss,b)));return a});g(&quot;css&quot;,function(a,b,d,c,f){a=m[a];void 0!==a&amp;&amp;(void 0===a.i[b]||c?(c=a.g.length,a.i[b]=c,a.g[c]={key:b,value:d,h:f}):(b=a.g[a.i[b]],b.value=d,b.h=f))});})();(function(){var g=function(a,e,b){a.addEventListener?a.addEventListener(e,b,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+e,b)};var k=function(a,e){var b=h;b.google_image_requests||(b.google_image_requests=[]);var c=b.document.createElement(&quot;img&quot;);if(e){var d=function(a){e(a);a=d;c.removeEventListener?c.removeEventListener(&quot;load&quot;,a,!1):c.detachEvent&amp;&amp;c.detachEvent(&quot;onload&quot;,a);a=d;c.removeEventListener?c.removeEventListener(&quot;error&quot;,a,!1):c.detachEvent&amp;&amp;c.detachEvent(&quot;onerror&quot;,a)};g(c,&quot;load&quot;,d);g(c,&quot;error&quot;,d)}c.src=a;b.google_image_requests.push(c)};var h=window;var l=Array.prototype,m=l.forEach?function(a,e,b){l.forEach.call(a,e,b)}:function(a,e,b){for(var c=a.length,d=&quot;string&quot;==typeof a?a.split(&quot;&quot;):a,f=0;f&lt;c;f++)f in d&amp;&amp;e.call(b,d[f],f,a)};var p=function(a){this.j=a;this.i=[6,14];this.h=[];this.g=[];this.k=&quot;data-redirect-ping&quot;;n(this)},n=function(a){a.j.forEachAd(function(e,b){a.h[b]=!1;a.g[b]=!1;m(a.i,function(c){e.listen(c,&quot;click&quot;,q(a,b))})})},r=function(a,e,b,c,d){return function(){a.g[c]||(a.g[c]=!0,b.dispatchMouseEvent(e,&quot;click&quot;,d.button,d.ctrlKey,d.shiftKey,d.metaKey))}},q=function(a,e){return function(b,c,d){if(d.preventDefault?d.defaultPrevented:!1===d.returnValue)return!1;if(a.h[e]&amp;&amp;a.g[e])return!0;if(!a.h[e]){var f=c.getAttribute(b,a.k);if(f)b=r(a,b,c,e,d),a.h[e]=!0,k(f,b),h.setTimeout(b,5E3);else return!0}d.preventDefault?d.preventDefault():d.returnValue=!1;return!1}};var t=function(a){return a?new p(a):null},u=[&quot;registerAdLocationExtensionRedirectPing&quot;],v=this;u[0]in v||!v.execScript||v.execScript(&quot;var &quot;+u[0]);for(var w;u.length&amp;&amp;(w=u.shift());){var x;if(x=!u.length)x=void 0!==t;x?v[w]=t:v=v[w]?v[w]:v[w]={}};})();(function(){var f=this,g=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==d)return&quot;object&quot;;if(&quot;[object Array]&quot;==d||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==d||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},h=function(a,b,d){return a.call.apply(a.bind,arguments)},k=function(a,b,d){if(!a)throw Error();if(2&lt;arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,c);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}},l=function(a,b,d){l=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?h:k;return l.apply(null,arguments)};var m;t:{var n=f.navigator;if(n){var p=n.userAgent;if(p){m=p;break t}}m=&quot;&quot;};var q=-1!=m.indexOf(&quot;Opera&quot;)||-1!=m.indexOf(&quot;OPR&quot;),r=-1!=m.indexOf(&quot;Trident&quot;)||-1!=m.indexOf(&quot;MSIE&quot;),t=-1!=m.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==m.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=m.indexOf(&quot;Trident&quot;)||-1!=m.indexOf(&quot;MSIE&quot;)),u=-1!=m.toLowerCase().indexOf(&quot;webkit&quot;);(function(){var a=&quot;&quot;,b;if(q&amp;&amp;f.opera)return a=f.opera.version,&quot;function&quot;==g(a)?a():a;t?b=/rv\:([^\);]+)(\)|;)/:r?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:u&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(m))?a[1]:&quot;&quot;);return r&amp;&amp;(b=(b=f.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();var v=function(a,b){this.s=a;this.w=b;this.n=this.m=this.q=this.p=0;this.g=null;this.k=this.l=!1;this.s.forEachAd(l(this.t,this))},w=function(a,b){this.i=a;this.index=0;this.o=b;this.h=&quot;fade&quot;==b||&quot;slide&quot;==b};v.prototype.v=function(a,b,d,c){if(&quot;touchstart&quot;==c.type)c.touches&amp;&amp;0&lt;c.touches.length&amp;&amp;(this.p=c.touches[0].pageX,this.q=c.touches[0].pageY,this.l=!0);else if(&quot;touchmove&quot;==c.type)c.touches&amp;&amp;0&lt;c.touches.length&amp;&amp;(this.m=c.touches[0].pageX,this.n=c.touches[0].pageY,this.k=!0);else if(&quot;touchend&quot;==c.type||&quot;touchcancel&quot;==c.type){if(this.l&amp;&amp;(this.k||a.h)){b=(a.h?c.changedTouches[0].pageX:this.m)-this.p;c=(a.h?c.changedTouches[0].pageY:this.n)-this.q;var e=0;100&lt;b*b+c*c&amp;&amp;(e=Math.abs(b)&gt;Math.abs(c)?0&gt;b?1:-1:0&gt;c?1:-1);0!=e&amp;&amp;(e=a.index+e,-1==e?e=a.i-1:e==a.i&amp;&amp;(e=0),&quot;slide&quot;==a.o?Math.abs(b)&gt;Math.abs(c)&amp;&amp;x(this,a,d,e,0&lt;b):x(this,a,d,e,0&lt;b))}this.k=this.l=!1}};v.prototype.u=function(a,b,d,c){if(b=c.target||c.srcElement)b=parseInt(b.getAttribute(&quot;data-bc-index&quot;),10),a.index!=b&amp;&amp;x(this,a,d,b,b&lt;a.index)};var y=function(a,b){a.modifyCssClass(17,&quot;frame&quot;+b);a.modifyCssClass(18,&quot;bcactive&quot;+b)},z=function(a,b){a.modifyCssClass(17,&quot;frame&quot;+b,!0);a.modifyCssClass(18,&quot;bcactive&quot;+b,!0)},x=function(a,b,d,c,e){0&lt;=c&amp;&amp;c&lt;b.i&amp;&amp;(&quot;slide&quot;==b.o?(e=e?&quot;prev&quot;:&quot;next&quot;,z(d,b.index),y(d,c),a.g&amp;&amp;d.modifyCssClass(17,a.g,!0),a.g=&quot;frame&quot;+c+e,d.modifyCssClass(17,a.g)):(z(d,b.index),y(d,c)),b.index=c)};v.prototype.t=function(a){if(a.has(17)){var b=new w(parseInt(a.getAttribute(17,&quot;data-num-frames&quot;),10),a.getAttribute(17,&quot;data-multiframe-type&quot;));y(a,0);this.w&amp;&amp;(b.j=l(this.v,this,b),a.listen(0,&quot;touchstart&quot;,b.j),a.listen(0,b.h?&quot;touchcancel&quot;:&quot;touchmove&quot;,b.j),a.listen(0,&quot;touchend&quot;,b.j));a.has(18)&amp;&amp;a.listen(18,&quot;click&quot;,l(this.u,this,b))}};var A=[&quot;MultiframeConstructor&quot;],B=f;A[0]in B||!B.execScript||B.execScript(&quot;var &quot;+A[0]);for(var C;A.length&amp;&amp;(C=A.shift());){var D;if(D=!A.length)D=void 0!==v;D?B[C]=v:B=B[C]?B[C]:B[C]={}};})();&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;style&gt;#adunit {background-color: #ffffff;border: 1px solid #336699;height: 248px;width: 298px;}#ads {height: 248px;left: 1px;position: absolute;top: 1px;width: 298px;}#ads ul{list-style: none;}#ads ul li {clear: both;float: left;line-height: 0;overflow: hidden;position: relative;  }#ads table {border-collapse: collapse;border-spacing: 0;}.separator {border-bottom: 1px solid #d1d1d1;}.rhtitle {color: #0000ff;text-decoration: none;word-wrap: break-word;}.rhtitle-adbadge {background-color: #EDB802;border-radius: 2px;color: #FFFFFF;font-family: &quot;Arial Regular&quot;, &quot;Arial&quot;, sans;font-size: 13px;font-weight: normal;height: 15px;margin: 0 3px;padding: 0 3px;}a.rhtitle:hover {text-decoration: underline;}.icoret-bullet {vertical-align: top;color: #666;}.icoret-title {border-spacing: 2px;margin-left: -8px;table-layout: fixed;word-break: break-word;}.rh-title-overlay {margin: -100%;padding: 100%;}.rhtitle-fade {background: -moz-linear-gradient(left, rgba(255,255,255,0) 75%, #ffffff 95%);background: -webkit-gradient(linear, left top, right top, color-stop(75%,rgba(255,255,255,0)), color-stop(95%, #ffffff));background: -webkit-linear-gradient(left, rgba(255,255,255,0) 75%, #ffffff 95%);background: -o-linear-gradient(left, rgba(255,255,255,0) 75%, #ffffff 95%);background: -ms-linear-gradient(left, rgba(255,255,255,0) 75%, #ffffff 95%);background: linear-gradient(to right, rgba(255,255,255,0) 75%, #ffffff 95%);display: inline;pointer-events: none;}.rhbody {color: #000000;text-decoration: none;word-wrap: break-word;}a.rhbody:hover {text-decoration: underline;}.rhurlctr {cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.rhurlctr_nc {overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.rhfavicon {padding-right: 5px;vertical-align: middle;line-height: 1;}.rhfavicon img {border: 0;}.rhurl {text-decoration: none;}.rhurl:hover {text-decoration: underline;color: #008000;}.rhurl span {color: #008000;}.rhbutton-container {left: -74px;position: relative;text-align: center;visibility: hidden;width: 273px;}.rhbutton {background: #3f9f3f;-webkit-border-radius: 14px;border-radius: 14px;border-width: 0px;cursor: pointer;display: inline-block;height: 46px;min-width: 125px;max-width: 273px;margin: 0;text-align: center;visibility: visible;white-space: nowrap;}.rhbutton:hover {background: #5aa05a;}.onhoverbg {background: #f8f8f8;}.rhbutton .icon-container {display: inline-block;height: 46px;line-height: 46px;vertical-align: middle;width: 21px;}.rhbutton .icon {border-width: 0;height: 21px;margin-left: 2px;margin-top: 12px;}.rhbutton.nobackground,.rhbutton.nobackground:hover {background: none;}.rh-box-breadcrumbs {line-height: 35px;visibility: visible;}.rh-box-breadcrumbs &gt; .target {cursor: pointer;display: inline-block;height: 30px;vertical-align: middle;}.rh-box-breadcrumbs &gt; .target &gt; .unit {border: 1px solid #aaa;border-radius: 50%;display: inline-block;height: 8px;margin: 10px 8px;width: 8px;}.rh-box-breadcrumbs &gt; .target:hover &gt; .unit {background: #aaa;}.rh-box-breadcrumbs &gt; .target.bcfirst &gt; .unit {margin-left: 12px;}.rh-box-breadcrumbs &gt; .target.bclast &gt; .unit {margin-right: 12px;}.rh-box-breadcrumbs.bcactive0 &gt;.target0 {cursor: default;}.rh-box-breadcrumbs.bcactive0 &gt;.target0 &gt; .unit {background: #aaa;}.rh-box-breadcrumbs.bcactive1 &gt;.target1 {cursor: default;}.rh-box-breadcrumbs.bcactive1 &gt;.target1 &gt; .unit {background: #aaa;}#ads ul li{height:248px;width:298px} .rh{display:inline-block;font-size:0;line-height:0;overflow:hidden;padding:0;width:298px} .rh &gt; table{width:100%} .rh0{display:inline-block;font-size:31px;line-height:37px;overflow:hidden;padding:5px 15px 2px 15px} .rh0c{padding:0;text-align:center;vertical-align:middle} .rh2{display:inline-block;font-size:0;height:77px;line-height:0;overflow:hidden;padding:0 8px 0 8px;position:relative;width:282px} .rh2.frame0&gt;.rh20{display:inline-block;visibility:visible} .rh2.frame1&gt;.rh21{display:inline-block;visibility:visible} .rh20{display:inline-block;font-size:0;height:77px;line-height:0;overflow:hidden;padding:0;position:absolute;width:282px} .rh20 &gt; table{width:100%} .rh200{display:inline-block;font-size:0;height:77px;line-height:0;overflow:hidden;padding:0} .rh200 &gt; table{height:100%} .rh2001{display:inline-block;font-size:0;height:77px;line-height:0;overflow:hidden;padding:0} .rh2001 &gt; table{height:100%} .rh20010{display:inline-block;font-size:20px;line-height:24px;overflow:hidden;padding:5px 0 0 0} .rh20010c{padding:0;text-align:center;vertical-align:middle} .rh2001c{height:77px;padding:0;text-align:center} .rh200c{height:77px;padding:0} .rh21{display:inline-block;font-size:0;line-height:0;overflow:hidden;padding:0;position:absolute;visibility:hidden;width:282px} .rh21 &gt; table{width:100%} .rh210{display:inline-block;font-size:0;height:77px;line-height:0;overflow:hidden;padding:0} .rh210 &gt; table{height:100%} .rh2100{display:inline-block;font-size:20px;line-height:24px;max-width:282px;overflow:hidden;padding:5px 0 0 0;white-space:nowrap} .rh2100c{padding:0} .rh210c{height:77px;padding:0;text-align:center;vertical-align:middle} .rh2&gt;.rh20{display:none;visibility:hidden} .rh2&gt;.rh21{display:none;visibility:hidden} .rh2c{height:77px;padding:0;vertical-align:middle;width:298px} .rh3{display:inline-block;height:35px;overflow:hidden;padding:0;width:298px} .rh3c{height:35px;padding:0;text-align:center;width:298px} .rh4{display:inline-block;height:46px;padding:0 12px 8px 12px;width:125px} .rh4c{padding:0;text-align:center;width:298px} .rh5{display:inline-block;overflow:hidden;padding:0;width:298px} .rh5c{padding:0;width:298px}&lt;/style&gt;&lt;div id=adunit&gt;&lt;div id=ads &gt;&lt;ul&gt;&lt;li id=taw0 lang=&quot;zh-cn&quot;&gt;&lt;div class=&quot;rh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh0c&quot;&gt;&lt;div class=&quot;rh-box-title rh-title rh0 collapsed-box&quot;&gt;&lt;a class=&quot;rhtitle&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;num=1&amp;cid=5GjNGfArTBJyXU9KhY9V8-Z-&amp;sig=AOD64_3vlQxVDUpma288tlKdcVwcIzlNGw&amp;client=ca-pub-4210569241504288&amp;adurl=http://www.86daigou.com/daigouregister&quot; target=_blank title=&quot;www.86daigou.com/【代购中国】&quot;&gt;&lt;span&gt;美国淘寶 [免]国际运费啦&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;rh2c&quot;&gt;&lt;div class=&quot;rh-box-multiframe rh2 rh-multiframe frame0&quot; data-num-frames=&quot;2&quot; data-multiframe-type=&quot;normal&quot;&gt;&lt;div class=&quot;anim-frame0 rh20&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh200c&quot;&gt;&lt;div class=&quot;rh200&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh2001c&quot;&gt;&lt;div class=&quot;rh2001&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh20010c&quot;&gt;&lt;div class=&quot;rh-body rh-box-body rh20010&quot;&gt;&lt;a class=&quot;rhbody&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;num=1&amp;cid=5GjNGfArTBJyXU9KhY9V8-Z-&amp;sig=AOD64_3vlQxVDUpma288tlKdcVwcIzlNGw&amp;client=ca-pub-4210569241504288&amp;adurl=http://www.86daigou.com/daigouregister&quot; ping=&quot;&quot; target=_blank title=&quot;&quot;&gt;&lt;span class=&quot;rhbody&quot;&gt;全球原价代购淘寶, 天猫, 当当, 京东. 免费验货, 集中打包, 3-5天送货上门!&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;div class=&quot;anim-frame1 rh21&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh210c&quot;&gt;&lt;div class=&quot;rh210&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;rh2100c&quot;&gt;&lt;div class=&quot;rh-box-url rh-url rh2100&quot;&gt;&lt;div class=&quot;rhurlctr&quot; dir=&quot;ltr&quot;&gt;&lt;a class=&quot;rhfavicon&quot; title=&quot;86daigou.com/【代购中国】&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;num=1&amp;cid=5GjNGfArTBJyXU9KhY9V8-Z-&amp;sig=AOD64_3vlQxVDUpma288tlKdcVwcIzlNGw&amp;client=ca-pub-4210569241504288&amp;adurl=http://www.86daigou.com/daigouregister&quot; target=&quot;_blank&quot;&gt;&lt;img height=20 alt=&quot;&quot; src=&quot;http://t0.gstatic.com/favicon?q=tbn:ANd9GcQXCpsW0dWPMP-BypRrHwQL22jvXI7AVUPq4cmTbX8ox0uR_vgEUEkxO-HniSfAdTGBU6y5gbP50XtsPSUz63g34g&quot;/&gt;&lt;/a&gt;&lt;a class=&quot;rhurl&quot; title=&quot;86daigou.com/【代购中国】&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;num=1&amp;cid=5GjNGfArTBJyXU9KhY9V8-Z-&amp;sig=AOD64_3vlQxVDUpma288tlKdcVwcIzlNGw&amp;client=ca-pub-4210569241504288&amp;adurl=http://www.86daigou.com/daigouregister&quot; target=&quot;_blank&quot;&gt;&lt;span&gt;86daigou.com/【代购中国】&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;rh3c&quot;&gt;&lt;div class=&quot;rh-box-breadcrumbs rh3&quot;&gt;&lt;div class=&quot;target target0 bcfirst&quot; data-bc-index=&quot;0&quot;&gt;&lt;div class=&quot;unit&quot; data-bc-index=&quot;0&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;target target1 bclast&quot; data-bc-index=&quot;1&quot;&gt;&lt;div class=&quot;unit&quot; data-bc-index=&quot;1&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;rh4c&quot;&gt;&lt;div class=&quot;rh-box-button rh-nessie-button-flat rh4&quot;&gt;&lt;div class=&quot;rhbutton-container&quot;&gt;&lt;a class=&quot;rhbutton&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;num=1&amp;cid=5GjNGfArTBJyXU9KhY9V8-Z-&amp;sig=AOD64_3vlQxVDUpma288tlKdcVwcIzlNGw&amp;client=ca-pub-4210569241504288&amp;adurl=http://www.86daigou.com/daigouregister&quot; target=&quot;_blank&quot; title=&quot;www.86daigou.com/【代购中国】&quot;&gt;&lt;div class=&quot;icon-container&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;icon&quot; src=&quot;http://pagead2.googlesyndication.com/pagead/images/nessie_icon_tiamat_white.png&quot;/&gt;&lt;/div&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;rh5c&quot;&gt;&lt;div class=&quot;rh-box-empty rh5&quot;&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/li&gt;&lt;script&gt;var ad = buildRhTextAd([0,0,298,248,&quot;http://www.86daigou.com/daigouregister&quot;,null,&quot;63044111364&quot;]);registerAd(ad,&#39;taw0&#39;);adSlot.addAd(ad);&lt;/script&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;div,ul,li{margin:0;padding:0;}#abgc{height:15px;position:absolute;right:16px;text-rendering:geometricPrecision;top:0;width:15px;z-index:9010;}#abgb{height:100%;}#abgc img{display:block;}#abgc svg{display:block;}#abgs{display:none;height:100%;}#abgl{text-decoration:none;}&lt;/style&gt;&lt;div id=abgc&gt;&lt;div id=abgb&gt;&lt;/div&gt;&lt;div id=abgs&gt;&lt;a id=abgl href=&quot;https://www.google.com/url?ct=abg&amp;amp;q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dhttp://www.cnblogs.com/TomXu/archive/2012/02/06/2330609.html%26gl%3DUS%26hl%3Dzh%26client%3Dca-pub-4210569241504288%26ai0%3DCewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ&amp;amp;usg=AFQjCNEcSe3S1YVgRpQKBcGM9IUKHQ8MeA&quot; target=_blank&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;var abgp={el:document.getElementById(&#39;abgc&#39;),ael:document.getElementById(&#39;abgs&#39;),iel:document.getElementById(&#39;abgb&#39;),hw:15,sw:111,hh:15,sh:15,himg:&#39;http://pagead2.googlesyndication.com&#39;+&#39;/pagead/images/abg/icon.png&#39;,simg:&#39;http://pagead2.googlesyndication.com/pagead/images/abg/zh_cn.png&#39;,alt:&#39;Google 提供的广告&#39;,t:&#39;Google&#39;,tw:38,t2:&#39;提供的广告&#39;,t2w:49,tbo:0,att:&#39;adsbygoogle&#39;,ff:&#39;&#39;,halign:&#39;right&#39;,fe:false,fnb:false,iba:false,uic:false,icd:undefined};&lt;/script&gt;&lt;script src=&quot;http://pagead2.googlesyndication.com/pagead/js/r20150210/r20110914/abg.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var h=this,m=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},p=function(a){return&quot;string&quot;==typeof a},aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},q=Date.now||function(){return+new Date},r=function(a,b){var c=a.split(&quot;.&quot;),d=h;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var u=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?u(a,b,d,void 0,e):a:c};var ba=function(){var a=/[&amp;\?]exk=([^&amp; ]+)/.exec(v.location.href);return a&amp;&amp;2==a.length?a[1]:null};var ca=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},x=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var y=document,v=window;var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},ea=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var z=null,fa=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};function A(a){return&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}var ga=function(){if(!y.body)return!1;if(!z){var a=y.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;z=a;y.body.appendChild(a)}return!0},ha={};var ia=!0,ja={},ma=function(a,b,c,d){var e=ka,f,g=ia;try{f=b()}catch(k){try{var t=ca(k);b=&quot;&quot;;k.fileName&amp;&amp;(b=k.fileName);var w=-1;k.lineNumber&amp;&amp;(w=k.lineNumber);g=e(a,t,b,w,c)}catch(n){try{var l=ca(n);a=&quot;&quot;;n.fileName&amp;&amp;(a=n.fileName);c=-1;n.lineNumber&amp;&amp;(c=n.lineNumber);ka(&quot;pAR&quot;,l,a,c,void 0,void 0)}catch(wa){la({context:&quot;mRE&quot;,msg:wa.toString()+&quot;\n&quot;+(wa.stack||&quot;&quot;)},void 0)}}if(!g)throw k;}finally{if(d)try{d()}catch(jb){}}return f},ka=function(a,b,c,d,e,f){var g={};if(e)try{e(g)}catch(k){}g.context=a;g.msg=b.substring(0,512);c&amp;&amp;(g.file=c);0&lt;d&amp;&amp;(g.line=d.toString());g.url=y.URL.substring(0,512);g.ref=y.referrer.substring(0,512);na(g);la(g,f);return ia},la=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+oa(a),d=&quot;http&quot;+(&quot;http:&quot;==v.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);x(v,d)}}catch(e){}},na=function(a){var b=a||{};fa(ja,function(a,d){b[d]=v[a]})},B=function(a,b,c,d,e){return function(){var f=arguments;return ma(a,function(){return b.apply(c,f)},d,e)}},pa=function(a,b){return B(a,b,void 0,void 0,void 0)},oa=function(a){var b=&quot;&quot;;fa(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+A(a)});return b};var C=Array.prototype,qa=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(p(a))return p(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},ra=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var sa={c:947190538,d:947190541,e:947190542};if(y&amp;&amp;y.URL)var ta=y.URL,ia=!(ta&amp;&amp;(0&lt;ta.indexOf(&quot;?google_debug&quot;)||0&lt;ta.indexOf(&quot;&amp;google_debug&quot;)));var D=function(a,b,c,d){c=B(d||&quot;osd_or_lidar::&quot;+b,c,void 0,void 0,void 0);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},ua=function(a){var b=0,c=function(){a();b++;10&gt;b&amp;&amp;v.setTimeout(pa(&quot;osd_listener::ldcl_int&quot;,c),100)};c()};var va=function(){try{v.localStorage.setItem(&quot;__sak&quot;,&quot;1&quot;);var a=v.localStorage.__sak;v.localStorage.removeItem(&quot;__sak&quot;);return&quot;1&quot;==a}catch(b){return!1}},xa=function(a,b,c){a.google_image_requests||(a.google_image_requests=[]);var d=a.document.createElement(&quot;img&quot;);D(d,&quot;load&quot;,c,&quot;osd::ls_img::load&quot;);d.src=b;a.google_image_requests.push(d)};var ya=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},E=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==m(arguments[0]))return E.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var F;r:{var za=h.navigator;if(za){var Aa=za.userAgent;if(Aa){F=Aa;break r}}F=&quot;&quot;};var Ba=-1!=F.indexOf(&quot;Opera&quot;)||-1!=F.indexOf(&quot;OPR&quot;),G=-1!=F.indexOf(&quot;Trident&quot;)||-1!=F.indexOf(&quot;MSIE&quot;),Ca=-1!=F.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==F.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=F.indexOf(&quot;Trident&quot;)||-1!=F.indexOf(&quot;MSIE&quot;)),Da=-1!=F.toLowerCase().indexOf(&quot;webkit&quot;),Ea=function(){var a=h.document;return a?a.documentMode:void 0},Fa=function(){var a=&quot;&quot;,b;if(Ba&amp;&amp;h.opera)return a=h.opera.version,&quot;function&quot;==m(a)?a():a;Ca?b=/rv\:([^\);]+)(\)|;)/:G?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Da&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(F))?a[1]:&quot;&quot;);return G&amp;&amp;(b=Ea(),b&gt;parseFloat(a))?String(b):a}(),Ga={},Ha=function(a){if(!Ga[a]){for(var b=0,c=da(String(Fa)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,t=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),w=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var n=t.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],l=w.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==n[0].length&amp;&amp;0==l[0].length)break;b=ea(0==n[1].length?0:parseInt(n[1],10),0==l[1].length?0:parseInt(l[1],10))||ea(0==n[2].length,0==l[2].length)||ea(n[2],l[2])}while(0==b)}Ga[a]=0&lt;=b}},Ia=h.document,Ja=Ia&amp;&amp;G?Ea()||(&quot;CSS1Compat&quot;==Ia.compatMode?parseInt(Fa,10):5):void 0;var H=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},Ka=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};H.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};H.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var La=function(){var a=I,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},Ma=function(a){var b=[];ya(a,function(a,d){var e=A(d),f=a;p(f)&amp;&amp;(f=A(f));b.push(e+&quot;=&quot;+f)});return b.join(&quot;\n&quot;)},J=0,Na=0,Oa=function(a){var b=0,c=v;if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c;try{for(;c&amp;&amp;5&gt;b;){if(c.google_osd_static_frame)return c;if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0;b++;c=c!=c.parent?c.parent:null}}catch(d){}return null},Pa=function(a,b,c,d){if(10&lt;Na)v.clearInterval(J);else if(++Na,v.postMessage&amp;&amp;(b.b||b.a)){var e=Oa(!0);if(e){var f={};Ka(b,f);f[0]=&quot;goog_request_monitoring&quot;;f[6]=a;f[16]=c;d&amp;&amp;d.length&amp;&amp;(f[17]=d.join(&quot;,&quot;));try{var g=Ma(f);e.postMessage(g,&quot;*&quot;)}catch(k){}}}};E(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));E(&quot;action&quot;,&quot;cite&quot;,&quot;data&quot;,&quot;formaction&quot;,&quot;href&quot;,&quot;manifest&quot;,&quot;poster&quot;,&quot;src&quot;);E(&quot;embed&quot;,&quot;iframe&quot;,&quot;link&quot;,&quot;object&quot;,&quot;script&quot;,&quot;style&quot;,&quot;template&quot;);var Qa;if(!(Qa=!Ca&amp;&amp;!G)){var Ra;if(Ra=G)Ra=G&amp;&amp;9&lt;=Ja;Qa=Ra}Qa||Ca&amp;&amp;Ha(&quot;1.9.1&quot;);G&amp;&amp;Ha(&quot;9&quot;);var Sa,K=0,L=&quot;&quot;,M=!1,N=!1,O=!1,Ta=!0,Ua=!1,Va=[],I=null,P=&quot;&quot;,Wa=[],Xa=[],Ya=!1,Q=&quot;&quot;,R=&quot;&quot;,Za=(new Date).getTime(),$a=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],S=0,T=!1,U=&quot;&quot;,V=null,W=0,X=0,ab=0,bb=function(a,b,c){M&amp;&amp;(Ta||3!=(c||3))&amp;&amp;Y(a,b,!0);(O||N&amp;&amp;Ua)&amp;&amp;Y(a,b)},Y=function(a,b,c){if((b=b||P)&amp;&amp;!Ya&amp;&amp;(2==X||c)){b=cb(b,c);if(!c&amp;&amp;T){T=!1;V&amp;&amp;(a.clearInterval(V),V=null);var d=U;try{a.localStorage[d]=b+&quot;&amp;timestamp=&quot;+q()+&quot;&amp;send&quot;}catch(e){}5!=S&amp;&amp;xa(a,b,function(){a.localStorage.removeItem(d)})}else x(a,b);c?M=!1:Ya=!0}},cb=function(a,b){var c;c=b?&quot;osdim&quot;:O?&quot;osd2&quot;:&quot;osdtos&quot;;var d=[&quot;//pagead2.googlesyndication.com/activeview&quot;,&quot;?id=&quot;,c];&quot;osd2&quot;==c&amp;&amp;N&amp;&amp;Ua&amp;&amp;d.push(&quot;&amp;ts=1&quot;);L&amp;&amp;d.push(&quot;&amp;avi=&quot;,L);Sa&amp;&amp;d.push(&quot;&amp;cid=&quot;,Sa);0!=S&amp;&amp;d.push(&quot;&amp;lsid=&quot;,S);T&amp;&amp;d.push(&quot;&amp;cwls=1&quot;);d.push(&quot;&amp;ti=1&quot;);d.push(&quot;&amp;&quot;,a);d.push(&quot;&amp;uc=&quot;+ab);c=d.join(&quot;&quot;);for(d=0;d&lt;Wa.length;d++){try{var e=Wa[d]()}catch(f){}var g=&quot;max_length&quot;;2&lt;=e.length&amp;&amp;(3==e.length&amp;&amp;(g=e[2]),c=u(c,A(e[0]),A(e[1]),g))}2E3&lt;c.length&amp;&amp;(c=c.substring(0,2E3));return c},Z=function(a,b){if(Q){try{var c=u(Q,&quot;vi&quot;,a);ga()&amp;&amp;x(z.contentWindow,c)}catch(d){}0&lt;=qa($a,a)&amp;&amp;(Q=&quot;&quot;);var c=b||P,e;e=u(&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=sldb&quot;,&quot;avi&quot;,L);e=u(e,&quot;vi&quot;,a);c&amp;&amp;(e+=&quot;&amp;&quot;+c);try{x(v,e)}catch(f){}}},db=function(){Z(&quot;-1&quot;)},fb=function(a){if(a&amp;&amp;a.data&amp;&amp;p(a.data)){var b;var c=a.data;if(p(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:e=Number(e);break;case 3:if(&quot;function&quot;==m(decodeURIComponent))try{e=decodeURIComponent(e)}catch(g){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=ra(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new H(b[4],b[12]),I&amp;&amp;I.match(c))){for(c=0;c&lt;Xa.length;c++)Xa[c](b);c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)v.clearInterval(J),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};I&amp;&amp;Ka(I,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=X;try{var k=Ma(d);a.source.postMessage(k,a.origin)}catch(t){}v.clearInterval(J);W=2}else if(&quot;goog_update_data&quot;==c){if(a=v,P=b[3],++ab,T){k=U;d=cb(P);try{a.localStorage[k]=eb(d)}catch(w){}}}else&quot;goog_image_request&quot;==c&amp;&amp;(bb(v,b[3]),b[5]||b[11]||Z(&quot;0&quot;,b[3]));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==X||2==X||M)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Ua=!0,Z(&quot;1&quot;),R&amp;&amp;(k=R,ga()&amp;&amp;x(z.contentWindow,k),R=&quot;&quot;),M&amp;&amp;!a&amp;&amp;Y(v,void 0,!0),1==X?Ya=!0:(2==S||4==S||5==S&amp;&amp;!T)&amp;&amp;Y(v)),(1==X||2==X||M)&amp;&amp;b[11]&amp;&amp;(N=!1,Z(&quot;3&quot;),M&amp;&amp;Y(v,void 0,!0),(2==S||4==S||5==S&amp;&amp;!T)&amp;&amp;Y(v))}}},gb=function(){bb(v);Z(&quot;0&quot;);if(2&gt;W&amp;&amp;2==X){var a=v,b=&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=osd2&amp;&quot;,c=[];c.push(&quot;ovr_value=&quot;+K);c.push(&quot;avi=&quot;+L);I&amp;&amp;(c=c.concat(La()));c.push(&quot;tt=&quot;+((new Date).getTime()-Za));a.document&amp;&amp;a.document.referrer&amp;&amp;c.push(&quot;ref=&quot;+A(a.document.referrer));c.push(&quot;hs=&quot;+W);b+=c.join(&quot;&amp;&quot;);try{x(a,b)}catch(d){}}},eb=function(a){var b=a.match(/^(.*&amp;timestamp=)\d+$/);return b?b[1]+q():a+&quot;&amp;timestamp=&quot;+q()},hb=function(){var a={};Ka(I,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=Ma(a);ua(function(){var a=Oa(!1),d=!a;!a&amp;&amp;v&amp;&amp;(a=v.parent);if(a&amp;&amp;a.postMessage)try{a.postMessage(b,&quot;*&quot;),d&amp;&amp;v.postMessage(b,&quot;*&quot;)}catch(e){}})},ib=function(a){if(p(a)){a=a.split(&quot;&amp;&quot;);for(var b=0;b&lt;a.length;b++)&quot;ud=1&quot;==a[b]&amp;&amp;(Ta=!1)}};r(&quot;osdlfm&quot;,B(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,k,t,w,n){K=a;Q=b;R=d;M=f;S=w||0;Sa=n;k&amp;&amp;ib(k);N=g&amp;&amp;f;1!=t&amp;&amp;2!=t&amp;&amp;3!=t||Va.push(sa[&quot;MRC_TEST_&quot;+t]);I=new H(e,ba());D(v,&quot;load&quot;,db,&quot;osd_listener::load&quot;);D(v,&quot;message&quot;,fb,&quot;osd_listener::message&quot;);L=c||&quot;&quot;;D(v,&quot;unload&quot;,gb,&quot;osd_listener::unload&quot;);var l=v.document;!l.readyState||&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState?(&quot;msie&quot;in ha?ha.msie:ha.msie=-1!=navigator.userAgent.toLowerCase().indexOf(&quot;msie&quot;))&amp;&amp;!window.opera?D(l,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState||hb()},&quot;osd_listener::rsc&quot;):D(l,&quot;DOMContentLoaded&quot;,hb,&quot;osd_listener::dcl&quot;):hb();-1==K?X=f?3:1:-2==K?X=3:0&lt;K&amp;&amp;(X=2,O=!0);N&amp;&amp;!O&amp;&amp;(X=2);2==X&amp;&amp;v.location.hostname.match(/doubleclick\.net/)&amp;&amp;(3==S||4==S||5==S)&amp;&amp;va()&amp;&amp;1E3&gt;v.localStorage.length&amp;&amp;(U=&quot;LSPNGS-&quot;+I.toString()+&quot;-&quot;+(&quot;&quot;+Math.random()).split(&quot;.&quot;)[1]+q(),T=!0,V=v.setInterval(pa(&quot;osd_listener::ls_int&quot;,function(){var a=v,b=U,c=a.localStorage[b];if(c)try{a.localStorage[b]=eb(c)}catch(d){}}),1E3));I&amp;&amp;(I.b||I.a)&amp;&amp;(W=1,J=v.setInterval(pa(&quot;osd_proto::reqm_int&quot;,aa(Pa,X,I,N,Va)),500))}));r(&quot;osdlac&quot;,B(&quot;osd_listener::lac_ex&quot;,function(a){Wa.push(a)}));r(&quot;osdlamrc&quot;,B(&quot;osd_listener::lamrc_ex&quot;,function(a){Xa.push(a)}));r(&quot;osdsir&quot;,B(&quot;osd_listener::sir_ex&quot;,bb));})();osdlfm(-1,&#39;&#39;,&#39;Bteo_PL7dVKCnJIuIlASNu4CQCgCEmOPt6gEAABABOAHIAQHgAgDIA5sE4AQBwhMDEIAB&#39;,&#39;&#39;,1707953772,true,false,&#39;&#39;,0,0,&#39;&#39;);&lt;/script&gt;&lt;style&gt;.feedback_container {width: 100%;height: 100%;position: absolute;top:0;left:0;display: none;z-index: 9020;background-color: white;}.feedback_page {font-family: &quot;Arial&quot;;font-size: 13px;margin: 16px 16px 16px 16px;}.feedback_title {font-weight: bold;color: #000000;}.feedback_page a {font-weight: normal;color: #3366cc;}.feedback_description {color: #666666;line-height: 16px;margin: 12px 0 12px 0;}.feedback_closing {color: #0367ff;line-height: 16px;margin: 12px 0 12px 0;}.feedback_logo {position: absolute;right: 0;bottom: 0;margin: 0 12px 9px 0;}.feedback_logo img {height: 15px;}.survey_description {color: #666666;line-height: 17px;margin: 12px 0 10px 0;}.survey {color: #666666;line-height: 20px;}.survey_option input {margin: 0;vertical-align: middle;}.survey_option_text {margin: 0 0 0 5px;line-height: 17px;vertical-align: bottom;}.survey_option:hover {background-color: lightblue;cursor: default;}&lt;/style&gt;&lt;div id=&quot;cbtf&quot; class=&quot;feedback_container&quot;&gt;&lt;div class=&quot;feedback_page&quot;&gt;&lt;div id=&quot;mtadmas&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;感谢您的反馈！ &lt;a id=&quot;mtadmaundo&quot; href=&quot;javascript:void(0)&quot;&gt;撤消&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;survey_description&quot;&gt;此广告有什么问题？&lt;/div&gt;&lt;div class=&quot;survey&quot;&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;8&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;内容不当&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;2&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;重复显示&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;7&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;不相关&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmac&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;感谢您的反馈！ &lt;a id=&quot;mtadmback&quot; href=&quot;javascript:void(0)&quot;&gt;返回&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;我们将对此广告进行审核，以便改善用户在今后的体验。&lt;/div&gt;&lt;div id=&quot;ad-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmpc&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;感谢您的反馈！ &lt;a id=&quot;mtadmpundo&quot; href=&quot;javascript:void(0)&quot;&gt;撤消&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;我们会根据您的反馈审核此网站上的广告。&lt;/div&gt;&lt;div id=&quot;pub-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;span id=&quot;feedback-closing-template&quot; style=&quot;display:none&quot;&gt;即将关闭广告：%1$d 秒&lt;/span&gt;&lt;div class=&quot;feedback_logo&quot;&gt;&lt;img src=&quot;http://pagead2.googlesyndication.com/pagead/images/google-logo.png&quot;/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;adSlot.finalize(&#39;ads&#39;);registerAdLocationExtensionRedirectPing(adSlot);&lt;/script&gt;&lt;style&gt;#cbc{background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_blue2.png&#39;);background-position: right top;background-repeat: no-repeat;cursor:pointer;height:15px;right:0;top:0;margin:0;overflow:hidden;padding:0;position:absolute;width:16px;z-index:9010;}#cbc.cbc-hover {background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_dark.png&#39;);}#cbc &gt; #cb-x{height: 15px;position:absolute;width: 16px;right:0;top:0;}#cb-x &gt; .cb-x-svg{background-color: lightgray;position:absolute;}#cbc.cbc-hover &gt; #cb-x &gt; .cb-x-svg{background-color: #58585a;}#cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : #00aecd;}#cbc.cbc-hover &gt; #cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : white;}#cb-x &gt; .cb-x-svg &gt; .cb-x-svg-s-path{fill : white;}&lt;/style&gt;&lt;div id=&quot;cbc&quot;&gt;&lt;div id=&quot;cb-x&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;style&gt;.ddmc{background:#ccc;color:#000;padding:0;position:absolute;z-index:9020;max-width:100%;box-shadow:2px 2px 3px #aaaaaa;}.ddmc.left{margin-right:0;}.ddmc.right{margin-left:0;}.ddmc .tip{border-left:4px solid transparent;border-right:4px solid transparent;height:0;position:absolute;width:0;font-size:0;line-height:0;}.ddmc.bottom .tip{border-bottom:4px solid #ccc;top:-4px;}.ddmc.top .tip{border-top:4px solid #ccc;bottom:-4px;}.ddmc.right .tip{right:3px;}.ddmc.left .tip{left:3px;}.ddmc .dropdown-content{display:block;}.dropdown-content{display:none;border-collapse:collapse;}.dropdown-item{font:12px Arial,sans-serif;cursor:pointer;padding:3px 7px;vertical-align:middle;}.dropdown-item-hover{background:#58585a;color:#fff;}#ddc &gt; table{border-collapse:collapse;border-spacing:0;}#ddc &gt; table &gt; tbody &gt; tr &gt; td{padding:0;}&lt;/style&gt;&lt;div id=&quot;ddc&quot; class=&quot;dropdown-content&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;pubmute&quot; style=&quot;border-bottom:1px solid #999;&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;广告覆盖了页面&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;admute&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;举报此广告&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;script&gt;(function(){var h,n=this,aa=function(a,b){var c=a.split(&quot;.&quot;),d=n;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},p=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},q=function(a){return&quot;string&quot;==typeof a},ba=function(a,b,c){return a.call.apply(a.bind,arguments)},da=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ba:da;return r.apply(null,arguments)},t=Date.now||function(){return+new Date},ea=function(a,b){function c(){}c.prototype=b.prototype;a.Na=b.prototype;a.prototype=new c;a.ab=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k&lt;arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};var fa=&quot;undefined&quot;!=typeof DOMTokenList,u=function(a,b){if(fa){var c=a.classList;0==c.contains(b)&amp;&amp;c.toggle(b)}else if(c=a.className){for(var c=c.split(/\s+/),d=!1,e=0;e&lt;c.length&amp;&amp;!d;++e)d=c[e]==b;d||(c.push(b),a.className=c.join(&quot; &quot;))}else a.className=b},v=function(a,b){if(fa){var c=a.classList;1==c.contains(b)&amp;&amp;c.toggle(b)}else if((c=a.className)&amp;&amp;!(0&gt;c.indexOf(b))){for(var c=c.split(/\s+/),d=0;d&lt;c.length;++d)c[d]==b&amp;&amp;c.splice(d--,1);a.className=c.join(&quot; &quot;)}};var ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},la=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var ma=function(a){ma[&quot; &quot;](a);return a};ma[&quot; &quot;]=function(){};var na=function(a,b){try{return ma(a[b]),!0}catch(c){}return!1};var y=function(a){try{return!!a&amp;&amp;null!=a.location.href&amp;&amp;na(a,&quot;foo&quot;)}catch(b){return!1}};var oa=function(a){var b=window;b.google_image_requests||(b.google_image_requests=[]);var c=b.document.createElement(&quot;img&quot;);c.src=a;b.google_image_requests.push(c)};var pa=document;var qa=function(a){var b=window;b.addEventListener?b.addEventListener(&quot;load&quot;,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;onload&quot;,a)},z=function(a,b,c,d){c=r(d,c);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var A=Array.prototype,ra=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(q(a))return q(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1};var sa=&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;.split(&quot; &quot;),ta=function(a,b){for(var c,d,e=1;e&lt;arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f&lt;sa.length;f++)c=sa[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}},B=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==p(arguments[0]))return B.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};B(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));B(&quot;action&quot;,&quot;cite&quot;,&quot;data&quot;,&quot;formaction&quot;,&quot;href&quot;,&quot;manifest&quot;,&quot;poster&quot;,&quot;src&quot;);B(&quot;embed&quot;,&quot;iframe&quot;,&quot;link&quot;,&quot;object&quot;,&quot;script&quot;,&quot;style&quot;,&quot;template&quot;);var C;t:{var ua=n.navigator;if(ua){var va=ua.userAgent;if(va){C=va;break t}}C=&quot;&quot;};var wa=-1!=C.indexOf(&quot;Opera&quot;)||-1!=C.indexOf(&quot;OPR&quot;),D=-1!=C.indexOf(&quot;Trident&quot;)||-1!=C.indexOf(&quot;MSIE&quot;),E=-1!=C.indexOf(&quot;Gecko&quot;)&amp;&amp;-1==C.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!(-1!=C.indexOf(&quot;Trident&quot;)||-1!=C.indexOf(&quot;MSIE&quot;)),F=-1!=C.toLowerCase().indexOf(&quot;webkit&quot;),xa=function(){var a=n.document;return a?a.documentMode:void 0},ya=function(){var a=&quot;&quot;,b;if(wa&amp;&amp;n.opera)return a=n.opera.version,&quot;function&quot;==p(a)?a():a;E?b=/rv\:([^\);]+)(\)|;)/:D?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:F&amp;&amp;(b=/WebKit\/(\S+)/);b&amp;&amp;(a=(a=b.exec(C))?a[1]:&quot;&quot;);return D&amp;&amp;(b=xa(),b&gt;parseFloat(a))?String(b):a}(),za={},G=function(a){var b;if(!(b=za[a])){b=0;for(var c=ka(String(ya)).split(&quot;.&quot;),d=ka(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,m=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),l=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var w=m.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],x=l.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==w[0].length&amp;&amp;0==x[0].length)break;b=la(0==w[1].length?0:parseInt(w[1],10),0==x[1].length?0:parseInt(x[1],10))||la(0==w[2].length,0==x[2].length)||la(w[2],x[2])}while(0==b)}b=za[a]=0&lt;=b}return b},Aa=n.document,Ca=Aa&amp;&amp;D?xa()||(&quot;CSS1Compat&quot;==Aa.compatMode?parseInt(ya,10):5):void 0;!E&amp;&amp;!D||D&amp;&amp;D&amp;&amp;9&lt;=Ca||E&amp;&amp;G(&quot;1.9.1&quot;);var Da=D&amp;&amp;!G(&quot;9&quot;);var Ea=function(a){var b=document;return q(a)?b.getElementById(a):a},Fa={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ga={IMG:&quot; &quot;,BR:&quot;\n&quot;},Ia=function(){var a=document.getElementById(&quot;feedback-closing-template&quot;);if(Da&amp;&amp;&quot;innerText&quot;in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,&quot;\n&quot;);else{var b=[];Ha(a,b,!0);a=b.join(&quot;&quot;)}a=a.replace(/ \xAD /g,&quot; &quot;).replace(/\xAD/g,&quot;&quot;);a=a.replace(/\u200B/g,&quot;&quot;);Da||(a=a.replace(/ +/g,&quot; &quot;));&quot; &quot;!=a&amp;&amp;(a=a.replace(/^\s*/,&quot;&quot;));return a},Ha=function(a,b,c){if(!(a.nodeName in Fa))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,&quot;&quot;)):b.push(a.nodeValue);else if(a.nodeName in Ga)b.push(Ga[a.nodeName]);else for(a=a.firstChild;a;)Ha(a,b,c),a=a.nextSibling};var Ka=function(a,b,c){var d=&quot;mouseenter_custom&quot;==b,e=Ja(b);return function(f){f||(f=window.event);if(f.type==e){if(&quot;mouseenter_custom&quot;==b||&quot;mouseleave_custom&quot;==b){var g;if(g=d?f.relatedTarget||f.fromElement:f.relatedTarget||f.toElement)for(var k=0;k&lt;a.length;k++){var m;m=a[k];var l=g;if(m.contains&amp;&amp;1==l.nodeType)m=m==l||m.contains(l);else if(&quot;undefined&quot;!=typeof m.compareDocumentPosition)m=m==l||Boolean(m.compareDocumentPosition(l)&amp;16);else{for(;l&amp;&amp;m!=l;)l=l.parentNode;m=l==m}if(m)return}}c(f)}}},Ja=function(a){return&quot;mouseenter_custom&quot;==a?&quot;mouseover&quot;:&quot;mouseleave_custom&quot;==a?&quot;mouseout&quot;:a};var La=function(a){var b={};if(a&amp;&amp;a.key_value){a=a.key_value;for(var c=0;c&lt;a.length;c++){var d=a[c];if(&quot;key&quot;in d&amp;&amp;&quot;value&quot;in d){var e=d.value;b[d.key]=null==e?null:String(e)}}}return b};var Ma=function(a,b){var c=parseInt(a,10);return isNaN(c)?b:c};var Na=!!window.google_async_iframe_id,H=Na&amp;&amp;window.parent||window;var Oa=function(){var a=document.body,b;if(Na&amp;&amp;!y(H)){for(var c=&quot;.&quot;+pa.domain;2&lt;c.split(&quot;.&quot;).length&amp;&amp;!y(H);)pa.domain=c=c.substr(c.indexOf(&quot;.&quot;)+1),H=window.parent;y(H)||(H=window)}b=H;var d;d=y(b.top)?b.top:null;this.ya=!!d&amp;&amp;!!a;this.za=(c=a?a.getBoundingClientRect():null)?c.top:0;d=d||b;this.Ua=(&quot;CSS1Compat&quot;==d.document.compatMode?d.document.documentElement:d.document.body).clientHeight;b=b.document;b={visible:1,hidden:2,prerender:3,preview:4}[b.webkitVisibilityState||b.mozVisibilityState||b.visibilityState||&quot;&quot;]||0;this.Va=!!a&amp;&amp;!(2==b||3==b)&amp;&amp;!(0==c.top&amp;&amp;0==c.bottom)},Pa=function(){var a=new Oa;return a.ya&amp;&amp;(!a.Va||a.za&gt;=a.Ua)};var Qa=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\[&quot;\\\/bfnrtu]/g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,&quot;]&quot;).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,&quot;&quot;)))try{return eval(&quot;(&quot;+a+&quot;)&quot;)}catch(b){}throw Error(&quot;Invalid JSON string: &quot;+a);},Ra=function(){this.K=void 0},Ta=function(a,b,c){switch(typeof b){case &quot;string&quot;:Sa(b,c);break;case &quot;number&quot;:c.push(isFinite(b)&amp;&amp;!isNaN(b)?b:&quot;null&quot;);break;case &quot;boolean&quot;:c.push(b);break;case &quot;undefined&quot;:c.push(&quot;null&quot;);break;case &quot;object&quot;:if(null==b){c.push(&quot;null&quot;);break}if(&quot;array&quot;==p(b)){var d=b.length;c.push(&quot;[&quot;);for(var e=&quot;&quot;,f=0;f&lt;d;f++)c.push(e),e=b[f],Ta(a,a.K?a.K.call(b,String(f),e):e,c),e=&quot;,&quot;;c.push(&quot;]&quot;);break}c.push(&quot;{&quot;);d=&quot;&quot;;for(f in b)Object.prototype.hasOwnProperty.call(b,f)&amp;&amp;(e=b[f],&quot;function&quot;!=typeof e&amp;&amp;(c.push(d),Sa(f,c),c.push(&quot;:&quot;),Ta(a,a.K?a.K.call(b,f,e):e,c),d=&quot;,&quot;));c.push(&quot;}&quot;);break;case &quot;function&quot;:break;default:throw Error(&quot;Unknown type: &quot;+typeof b);}},Ua={&#39;&quot;&#39;:&#39;\\&quot;&#39;,&quot;\\&quot;:&quot;\\\\&quot;,&quot;/&quot;:&quot;\\/&quot;,&quot;\b&quot;:&quot;\\b&quot;,&quot;\f&quot;:&quot;\\f&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\r&quot;:&quot;\\r&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\x0B&quot;:&quot;\\u000b&quot;},Va=/\uffff/.test(&quot;\uffff&quot;)?/[\\\&quot;\x00-\x1f\x7f-\uffff]/g:/[\\\&quot;\x00-\x1f\x7f-\xff]/g,Sa=function(a,b){b.push(&#39;&quot;&#39;,a.replace(Va,function(a){if(a in Ua)return Ua[a];var b=a.charCodeAt(0),e=&quot;\\u&quot;;16&gt;b?e+=&quot;000&quot;:256&gt;b?e+=&quot;00&quot;:4096&gt;b&amp;&amp;(e+=&quot;0&quot;);return Ua[a]=e+b.toString(16)}),&#39;&quot;&#39;)};var Wa=function(){this.Y=this.Y;this.Ea=this.Ea};Wa.prototype.Y=!1;var J=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.t=!1;this.la=!0};J.prototype.preventDefault=function(){this.defaultPrevented=!0;this.la=!1};var Xa=!D||D&amp;&amp;9&lt;=Ca,Ya=D&amp;&amp;!G(&quot;9&quot;);!F||G(&quot;528&quot;);E&amp;&amp;G(&quot;1.9b&quot;)||D&amp;&amp;G(&quot;8&quot;)||wa&amp;&amp;G(&quot;9.5&quot;)||F&amp;&amp;G(&quot;528&quot;);E&amp;&amp;!G(&quot;8&quot;)||D&amp;&amp;G(&quot;9&quot;);var K=function(a,b){J.call(this,a?a.type:&quot;&quot;);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.k=this.state=null;if(a){this.k=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?E&amp;&amp;(na(d,&quot;nodeName&quot;)||(d=null)):&quot;mouseover&quot;==c?d=a.fromElement:&quot;mouseout&quot;==c&amp;&amp;(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.Z,set:this.Ia},offsetY:{configurable:!0,enumerable:!0,get:this.$,set:this.Ja}}):(this.offsetX=this.Z(),this.offsetY=this.$());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(&quot;keypress&quot;==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;a.defaultPrevented&amp;&amp;this.preventDefault()}};ea(K,J);h=K.prototype;h.preventDefault=function(){K.Na.preventDefault.call(this);var a=this.k;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ya)try{if(a.ctrlKey||112&lt;=a.keyCode&amp;&amp;123&gt;=a.keyCode)a.keyCode=-1}catch(b){}};h.Z=function(){return F||void 0!==this.k.offsetX?this.k.offsetX:this.k.layerX};h.Ia=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};h.$=function(){return F||void 0!==this.k.offsetY?this.k.offsetY:this.k.layerY};h.Ja=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var L=&quot;closure_listenable_&quot;+(1E6*Math.random()|0),Za=0;var $a=function(a,b,c,d,e){this.p=a;this.J=null;this.src=b;this.type=c;this.F=!!d;this.G=e;this.key=++Za;this.u=this.D=!1},ab=function(a){a.u=!0;a.p=null;a.J=null;a.src=null;a.G=null};var M=function(a){this.src=a;this.g={};this.L=0};M.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.L++);var g=bb(a,b,d,e);-1&lt;g?(b=a[g],c||(b.D=!1)):(b=new $a(b,this.src,f,!!d,e),b.D=c,a.push(b));return b};M.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=bb(e,b,c,d);return-1&lt;b?(ab(e[b]),A.splice.call(e,b,1),0==e.length&amp;&amp;(delete this.g[a],this.L--),!0):!1};var cb=function(a,b){var c=b.type;if(c in a.g){var d=a.g[c],e=ra(d,b),f;(f=0&lt;=e)&amp;&amp;A.splice.call(d,e,1);f&amp;&amp;(ab(b),0==a.g[c].length&amp;&amp;(delete a.g[c],a.L--))}};M.prototype.P=function(a,b,c,d){a=this.g[a.toString()];var e=-1;a&amp;&amp;(e=bb(a,b,c,d));return-1&lt;e?a[e]:null};var bb=function(a,b,c,d){for(var e=0;e&lt;a.length;++e){var f=a[e];if(!f.u&amp;&amp;f.p==b&amp;&amp;f.F==!!c&amp;&amp;f.G==d)return e}return-1};var db=&quot;closure_lm_&quot;+(1E6*Math.random()|0),eb={},fb=0,gb=function(a,b,c,d,e){if(&quot;array&quot;==p(b))for(var f=0;f&lt;b.length;f++)gb(a,b[f],c,d,e);else if(c=ib(c),a&amp;&amp;a[L])a.listen(b,c,d,e);else{if(!b)throw Error(&quot;Invalid event type&quot;);var f=!!d,g=N(a);g||(a[db]=g=new M(a));c=g.add(b,c,!1,d,e);c.J||(d=kb(),c.J=d,d.src=a,d.p=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(lb(b.toString()),d),fb++)}},kb=function(){var a=nb,b=Xa?function(c){return a.call(b.src,b.p,c)}:function(c){c=a.call(b.src,b.p,c);if(!c)return c};return b},ob=function(a,b,c,d,e){if(&quot;array&quot;==p(b))for(var f=0;f&lt;b.length;f++)ob(a,b[f],c,d,e);else c=ib(c),a&amp;&amp;a[L]?a.unlisten(b,c,d,e):a&amp;&amp;(a=N(a))&amp;&amp;(b=a.P(b,c,!!d,e))&amp;&amp;pb(b)},pb=function(a){if(&quot;number&quot;!=typeof a&amp;&amp;a&amp;&amp;!a.u){var b=a.src;if(b&amp;&amp;b[L])cb(b.s,a);else{var c=a.type,d=a.J;b.removeEventListener?b.removeEventListener(c,d,a.F):b.detachEvent&amp;&amp;b.detachEvent(lb(c),d);fb--;(c=N(b))?(cb(c,a),0==c.L&amp;&amp;(c.src=null,b[db]=null)):ab(a)}}},lb=function(a){return a in eb?eb[a]:eb[a]=&quot;on&quot;+a},rb=function(a,b,c,d){var e=!0;if(a=N(a))if(b=a.g[b.toString()])for(b=b.concat(),a=0;a&lt;b.length;a++){var f=b[a];f&amp;&amp;f.F==c&amp;&amp;!f.u&amp;&amp;(f=qb(f,d),e=e&amp;&amp;!1!==f)}return e},qb=function(a,b){var c=a.p,d=a.G||a.src;a.D&amp;&amp;pb(a);return c.call(d,b)},nb=function(a,b){if(a.u)return!0;if(!Xa){var c;if(!(c=b))t:{c=[&quot;window&quot;,&quot;event&quot;];for(var d=n,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new K(e,this);d=!0;if(!(0&gt;e.keyCode||void 0!=e.returnValue)){t:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.t&amp;&amp;0&lt;=k;k--){c.currentTarget=e[k];var m=rb(e[k],f,!0,c),d=d&amp;&amp;m}for(k=0;!c.t&amp;&amp;k&lt;e.length;k++)c.currentTarget=e[k],m=rb(e[k],f,!1,c),d=d&amp;&amp;m}return d}return qb(a,new K(b,this))},N=function(a){a=a[db];return a instanceof M?a:null},sb=&quot;__closure_events_fn_&quot;+(1E9*Math.random()&gt;&gt;&gt;0),ib=function(a){if(&quot;function&quot;==p(a))return a;a[sb]||(a[sb]=function(b){return a.handleEvent(b)});return a[sb]};var O=function(){Wa.call(this);this.s=new M(this);this.sa=this;this.fa=null};ea(O,Wa);O.prototype[L]=!0;h=O.prototype;h.addEventListener=function(a,b,c,d){gb(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){ob(this,a,b,c,d)};h.dispatchEvent=function(a){var b,c=this.fa;if(c)for(b=[];c;c=c.fa)b.push(c);var c=this.sa,d=a.type||a;if(q(a))a=new J(a,c);else if(a instanceof J)a.target=a.target||c;else{var e=a;a=new J(d,c);ta(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.t&amp;&amp;0&lt;=g;g--)f=a.currentTarget=b[g],e=P(f,d,!0,a)&amp;&amp;e;a.t||(f=a.currentTarget=c,e=P(f,d,!0,a)&amp;&amp;e,a.t||(e=P(f,d,!1,a)&amp;&amp;e));if(b)for(g=0;!a.t&amp;&amp;g&lt;b.length;g++)f=a.currentTarget=b[g],e=P(f,d,!1,a)&amp;&amp;e;return e};h.listen=function(a,b,c,d){return this.s.add(String(a),b,!1,c,d)};h.unlisten=function(a,b,c,d){return this.s.remove(String(a),b,c,d)};var P=function(a,b,c,d){b=a.s.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f&lt;b.length;++f){var g=b[f];if(g&amp;&amp;!g.u&amp;&amp;g.F==c){var k=g.p,m=g.G||g.src;g.D&amp;&amp;cb(a.s,g);e=!1!==k.call(m,d)&amp;&amp;e}}return e&amp;&amp;0!=d.la};O.prototype.P=function(a,b,c,d){return this.s.P(String(a),b,c,d)};var tb=function(a,b){O.call(this);this.H=a||1;this.B=b||n;this.N=r(this.Pa,this);this.Q=t()};ea(tb,O);h=tb.prototype;h.enabled=!1;h.h=null;h.Pa=function(){if(this.enabled){var a=t()-this.Q;0&lt;a&amp;&amp;a&lt;.8*this.H?this.h=this.B.setTimeout(this.N,this.H-a):(this.h&amp;&amp;(this.B.clearTimeout(this.h),this.h=null),this.dispatchEvent(&quot;tick&quot;),this.enabled&amp;&amp;(this.h=this.B.setTimeout(this.N,this.H),this.Q=t()))}};h.start=function(){this.enabled=!0;this.h||(this.h=this.B.setTimeout(this.N,this.H),this.Q=t())};h.stop=function(){this.enabled=!1;this.h&amp;&amp;(this.B.clearTimeout(this.h),this.h=null)};var Q=function(a,b,c,d){this.C=document.getElementById(&quot;mtadmas&quot;);this.Sa=document.getElementById(&quot;mtadmaundo&quot;);this.U=document.getElementById(&quot;mtadmac&quot;);this.ua=document.getElementById(&quot;mtadmback&quot;);this.ka=document.getElementById(&quot;mtadmpc&quot;);this.Ta=document.getElementById(&quot;mtadmpundo&quot;);this.w=a;this.xa=b;this.X=c;this.Ra=d;this.j=null;this.I=!1},ub=function(a){a.j&amp;&amp;(a.j.stop(),a.j=null,a.I=!1);Ea(&quot;pub-feedback-closing&quot;).style.display=&quot;none&quot;;Ea(&quot;ad-feedback-closing&quot;).style.display=&quot;none&quot;};Q.prototype.ra=function(a){this.I||(ub(this),vb(this,&quot;user_feedback_undo&quot;,a),this.Ra())};Q.prototype.back=function(){this.I||(ub(this),this.C.style.display=&quot;block&quot;,wb(this),xb(this))};Q.prototype.Ha=function(a){this.U.style.display=&quot;block&quot;;this.C.style.display=&quot;none&quot;;xb(this);yb(this,document.getElementById(&quot;ad-feedback-closing&quot;),this.X);vb(this,&quot;mute_survey_option&quot;,a)};var vb=function(a,b,c){oa(a.xa+&quot;&amp;label=&quot;+b+&quot;&amp;cbt=&quot;+a.w+&quot;&amp;label_instance=&quot;+c)},wb=function(a){a.U.style.display=&quot;none&quot;},xb=function(a){a.ka.style.display=&quot;none&quot;},yb=function(a,b,c){if(c&amp;&amp;window.top&amp;&amp;window.top.postMessage){var d=Qa(c),e=La(d),f=&quot;resize-me&quot;==d.msg_type&amp;&amp;&quot;animate&quot;==e.r_str;if(&quot;ablate-me&quot;==d.msg_type&amp;&amp;e[&quot;collapse-after-close&quot;]||f&amp;&amp;!Pa()){var d=Ma(e[&quot;secs-to-countdown&quot;],1),g=Ma(e.countdown,0),k=Ma(e[&quot;message-tick&quot;],1),m=Ia(),l=d+g;0&gt;k||k&gt;l||(a.j||(a.j=new tb(1E3),gb(a.j,&quot;tick&quot;,r(function(){var a=&quot;&quot;;l&lt;=g&amp;&amp;0&lt;l&amp;&amp;(a=m.replace(&quot;%1$d&quot;,String(l)));b.style.display=a?&quot;inline&quot;:&quot;none&quot;;if(&quot;textContent&quot;in b)b.textContent=a;else if(3==b.nodeType)b.data=a;else if(b.firstChild&amp;&amp;3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=a}else{for(var d;d=b.firstChild;)b.removeChild(d);b.appendChild((9==b.nodeType?b:b.ownerDocument||b.document).createTextNode(String(a)))}if(l==k)try{this.I=!0,window.top.postMessage(c,&quot;*&quot;)}catch(e){}0&gt;=l&amp;&amp;ub(this);l--},a))),a.j.dispatchEvent(&quot;tick&quot;),0&lt;=l&amp;&amp;a.j.start())}}};var T=function(a,b,c,d,e,f,g,k,m,l,w,x,I,Ba){var X=zb([&quot;ddmc&quot;,I&amp;1?&quot;left&quot;:&quot;right&quot;,I&amp;2?&quot;top&quot;:&quot;bottom&quot;].join(&quot; &quot;)),Y=X.style;Y[I&amp;1?&quot;left&quot;:&quot;right&quot;]=b+&quot;px&quot;;Y[I&amp;2?&quot;bottom&quot;:&quot;top&quot;]=c+&quot;px&quot;;this.q=X;this.Qa=zb(&quot;tip&quot;);this.Oa=e;this.qa=f;this.da=g;this.La=k;this.O=m;this.w=l;this.$a=w;this.Ya=x;this.A=null;this.aa=!1;b=new Q(this.w,this.O,Ba,this.La);c=document.getElementsByName(&quot;surveyOptions&quot;);for(e=0;e&lt;c.length;e++)z(c[e],&quot;click&quot;,b,r(b.Ha,b,c[e].value));z(b.Sa,&quot;click&quot;,b,r(b.ra,b,&quot;1&quot;));z(b.Ta,&quot;click&quot;,b,r(b.ra,b,&quot;3&quot;));z(b.ua,&quot;click&quot;,b,b.back);this.pa=b;this.m=document.getElementById(&quot;pubmute&quot;);this.l=document.getElementById(&quot;admute&quot;);this.n=document.getElementById(&quot;wta&quot;);R(this,!1);z(a,&quot;click&quot;,this,this.Ba);z(a,&quot;mouseover&quot;,this,this.Da);z(a,&quot;mouseout&quot;,this,this.Ca);S(this.q,&quot;mouseenter_custom&quot;,this,this.R);S(this.q,&quot;mouseleave_custom&quot;,this,this.ma);S(this.m,&quot;mouseenter_custom&quot;,this,this.Ga);S(this.m,&quot;mouseleave_custom&quot;,this,this.S);z(this.m,&quot;click&quot;,this,this.Ma);S(this.l,&quot;mouseenter_custom&quot;,this,this.ta);S(this.l,&quot;mouseleave_custom&quot;,this,this.M);z(this.l,&quot;click&quot;,this,this.Ka);this.n&amp;&amp;(S(this.n,&quot;mouseenter_custom&quot;,this,this.Wa),S(this.n,&quot;mouseleave_custom&quot;,this,this.T),z(this.n,&quot;click&quot;,this,this.Fa));a=this.q;a.appendChild(this.Qa);a.appendChild(d);document.body.appendChild(a)};T.prototype.Ma=function(){Ab(this);var a=this.pa;a.ka.style.display=&quot;block&quot;;a.C.style.display=&quot;none&quot;;wb(a);yb(a,document.getElementById(&quot;pub-feedback-closing&quot;),a.X);a=this.da;null!=a&amp;&amp;a();Bb(this,&quot;user_feedback_menu_option&quot;,&quot;3&quot;,!0)};T.prototype.Ka=function(){Ab(this);var a=this.pa;a.C.style.display=&quot;block&quot;;wb(a);xb(a);a=this.da;null!=a&amp;&amp;a();Bb(this,&quot;user_feedback_menu_option&quot;,&quot;1&quot;,!0)};T.prototype.Fa=function(){Ab(this);var a=window.open(this.$a,&quot;_blank&quot;);if(a){var b={};b.whyThisAdToken=this.Ya;b.closeButtonToken=this.w;b.creativeConversionUrl=this.O;var c=[];Ta(new Ra,b,c);a.name=c.join(&quot;&quot;)}Bb(this,&quot;closebutton_whythisad_click&quot;,a?&quot;1&quot;:&quot;2&quot;,!1)};var R=function(a,b){a.q.style.display=b?&quot;&quot;:&quot;none&quot;};h=T.prototype;h.ma=function(){this.A=n.setTimeout(r(function(){Ab(this);this.A=null},this),500)};h.R=function(){null!=this.A&amp;&amp;(n.clearTimeout(this.A),this.A=null)};h.Ba=function(){this.R();if(Cb(this))Cb(this)&amp;&amp;R(this,!1);else if(R(this,!0),!this.aa){this.aa=!0;Bb(this,&quot;user_feedback_menu_interaction&quot;);var a=this.m;a.getElementsByTagName(&quot;span&quot;)[0].offsetWidth&gt;this.q.offsetWidth-14&amp;&amp;(a.title=a.innerText);a=this.l;a.getElementsByTagName(&quot;span&quot;)[0].offsetWidth&gt;this.q.offsetWidth-14&amp;&amp;(a.title=a.innerText)}};h.Da=function(){this.R();var a=this.Oa;null!=a&amp;&amp;a()};h.Ca=function(){if(Cb(this))this.ma();else{var a=this.qa;null!=a&amp;&amp;a()}};var Ab=function(a){var b=a.qa;null!=b&amp;&amp;b();Cb(a)&amp;&amp;R(a,!1)};h=T.prototype;h.Ga=function(){this.m&amp;&amp;u(this.m,&quot;dropdown-item-hover&quot;);this.M();this.T()};h.S=function(){this.m&amp;&amp;v(this.m,&quot;dropdown-item-hover&quot;)};h.ta=function(){this.l&amp;&amp;u(this.l,&quot;dropdown-item-hover&quot;);this.S();this.T()};h.M=function(){this.l&amp;&amp;v(this.l,&quot;dropdown-item-hover&quot;)};h.Wa=function(){this.n&amp;&amp;u(this.n,&quot;dropdown-item-hover&quot;);this.M();this.S()};h.T=function(){this.n&amp;&amp;v(this.n,&quot;dropdown-item-hover&quot;)};var Cb=function(a){return&quot;none&quot;!==a.q.style.display},Bb=function(a,b,c,d){oa(a.O+&quot;&amp;label=&quot;+b+(c?&quot;&amp;label_instance=&quot;+c:&quot;&quot;)+(d?&quot;&amp;cbt=&quot;+a.w:&quot;&quot;))},S=function(a,b,c,d){d=Ka([a],b,r(d,c));z(a,Ja(b),c,d)},zb=function(a){var b=document.createElement(&quot;div&quot;);b.className=a;return b};var V=function(a,b,c,d,e,f,g,k,m,l,w,x,I,Ba){this.creativeConversionUrl=e;this.wa=f;this.Za=g;this.Xa=k;this.va=document.getElementById(&quot;cb-x&quot;);e=r(this.Aa,this);f=r(this.ea,this);g=r(this.ba,this);k=r(this.na,this);var X=this.creativeConversionUrl,Y=this.wa,Eb=this.Za,Fb=this.Xa,jb=document.getElementById(&quot;ddc&quot;);a&amp;&amp;jb&amp;&amp;(l=l?1:0,w&amp;&amp;(l|=2),new T(a,0,20,jb,e,f,g,k,X,Y,Eb,Fb,l,I));this.oa=document.getElementById(&quot;pbc&quot;);this.i=a;this.v=b;this.V=c;this.W=d;if(this.o=Ba)this.o.registerWidget(this,0),this.o.registerWidget(new U(this.v),1);&quot;undefined&quot;!=typeof SVGElement&amp;&amp;&quot;undefined&quot;!=typeof document.createElementNS&amp;&amp;x&amp;&amp;(this.i.style.backgroundImage=&quot;none&quot;,this.va.appendChild(Db(m)))},Gb,Db=function(a){var b=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;svg&quot;),c=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),d=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),e=1.15/Math.sqrt(2),f=.2*a,e=&quot;M&quot;+(f+e+1)+&quot;,&quot;+f+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2-e)+&quot;L&quot;+(a-f-e+1)+&quot;,&quot;+f+&quot;L&quot;+(a-f+1)+&quot;,&quot;+(f+e)+&quot;L&quot;+(a/2+e+1)+&quot;,&quot;+a/2+&quot;L&quot;+(a-f+1)+&quot;,&quot;+(a-f-e)+&quot;L&quot;+(a-f-e+1)+&quot;,&quot;+(a-f)+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2+e)+&quot;L&quot;+(f+e+1)+&quot;,&quot;+(a-f)+&quot;L&quot;+(f+1)+&quot;,&quot;+(a-f-e)+&quot;L&quot;+(a/2-e+1)+&quot;,&quot;+a/2+&quot;L&quot;+(f+1)+&quot;,&quot;+(f+e)+&quot;Z&quot;,f=&quot;M0,0L1,0L1,&quot;+a+&quot;L0,&quot;+a+&quot;Z&quot;;b.setAttribute(&quot;class&quot;,&quot;cb-x-svg&quot;);b.setAttribute(&quot;width&quot;,a+1);b.setAttribute(&quot;height&quot;,a);b.appendChild(c);b.appendChild(d);c.setAttribute(&quot;d&quot;,e);c.setAttribute(&quot;class&quot;,&quot;cb-x-svg-path&quot;);d.setAttribute(&quot;d&quot;,f);d.setAttribute(&quot;class&quot;,&quot;cb-x-svg-s-path&quot;);return b},W=function(a){a&amp;&amp;(a.style.display=&quot;block&quot;)},Z=function(a){a&amp;&amp;(a.style.display=&quot;none&quot;)};h=V.prototype;h.Aa=function(){null!==this.i&amp;&amp;u(this.i,&quot;cbc-hover&quot;)};h.ea=function(){null!==this.i&amp;&amp;v(this.i,&quot;cbc-hover&quot;)};h.ba=function(){this.ea();this.o?this.o.showOnly(1):(Z(this.i),Z(this.V),Z(this.W),Z(this.oa),W(this.v))};h.na=function(){this.o?this.o.resetAll():(W(this.i),W(this.V),W(this.W),W(this.oa),Z(this.v))};h.show=function(){W(this.i)};h.hide=function(){Z(this.i)};h.reset=function(){this.show()};var U=function(a){this.v=a};U.prototype.show=function(){W(this.v)};U.prototype.hide=function(){Z(this.v)};U.prototype.reset=function(){this.hide()};V.prototype.show=V.prototype.show;V.prototype.hide=V.prototype.hide;V.prototype.reset=V.prototype.reset;U.prototype.show=U.prototype.show;U.prototype.hide=U.prototype.hide;U.prototype.reset=U.prototype.reset;aa(&quot;cbb&quot;,function(a,b,c,d){qa(function(){Gb=new V(document.getElementById(&quot;cbc&quot;),document.getElementById(&quot;cbtf&quot;),a,document.getElementById(&quot;abgc&quot;),&quot;http://googleads.g.doubleclick.net/pagead/conversion/?ai\x3dCewtIPL7dVKCnJIuIlASNu4CQCqzg5ZAGhJjj7eoBwI23ARABILe2lgJgyQagAZvpieQDyAEBqQL_GosOhICFPuACAKgDAcgDmwSqBNMBT9DZkugl6XN2lSSlPfKu8voPFr2DGvfvzyk5cOcuNouuXg95hJ7b7Wf2rtuR1alTCHv2-Xfzwewm4Ne4qptc5uSlYZogCmvgBBiX8XayzC7qdkrNvIUW-OTHVgTE_MuAo93Bn11YZnNo4qiX9ziAWtNs4t1m0z8_X8GWbyK-eR70BCzKPCiQIwgZ_oSwWlIKR0j78f3v7Q4TkM5TVowc7vw2CAo-7TAh7JO1OymzvhmRSpuv0WyQonGQJFpluh4k98u67peIm5eEb3L-GaQoYkzFbuAEAYgGAYAH9IjnLtgHAQ\x26sigh\x3dwOnmAL7H6Z8&quot;,&quot;Cq2434MuinAIhJjj7eoBEJyqwHoY7NXOLyIjd3d3Ljg2ZGFpZ291LmNvbS_jgJDku6PotK3kuK3lm73jgJEyCAgFExi1yAQUQhdjYS1wdWItNDIxMDU2OTI0MTUwNDI4OEgAWAE&quot;,&quot;https://www.google.com/ads/preferences/whythisad&quot;,&quot;&quot;,15,b,c,d,&quot;{\x22key_value\x22:[]}&quot;,window.adSlot)})});aa(&quot;cbbha&quot;,function(){Gb.ba()});aa(&quot;cbbsa&quot;,function(){Gb.na()});})();cbb(document.getElementById(&#39;ad_unit&#39;),false,false,false);&lt;/script&gt; &lt;script&gt;(function(){var d=function(a,b,c){return a.call.apply(a.bind,arguments)},e=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,g);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},f=function(a,b,c){f=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?d:e;return f.apply(null,arguments)},h=Date.now||function(){return+new Date};var k=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var l=document,m=window;var q=function(a,b,c,g,w){this.h=!1;this.g=-1;this.k=a;this.n=b;this.o=c;this.i=w;g&amp;&amp;n()&amp;&amp;p(this,2);a=f(this.m,this);k(l,&quot;visibilitychange&quot;,a);k(l,&quot;mozvisibilitychange&quot;,a);k(l,&quot;msvisibilitychange&quot;,a);k(l,&quot;webkitvisibilitychange&quot;,a);a=f(this.l,this);k(m,&quot;click&quot;,a)};q.prototype.m=function(){if(n())this.h&amp;&amp;(this.g=h(),p(this,0));else{if(-1!=this.g){var a=h()-this.g;this.g=-1;p(this,1,a)}this.i&amp;&amp;p(this,3)}};q.prototype.l=function(){this.h=!0;var a=f(this.j,this);m.setTimeout(a,5E3)};q.prototype.j=function(){this.h=!1};var p=function(a,b,c){a=[&quot;//&quot;,a.o?&quot;googleads.g.doubleclick.net&quot;:&quot;pagead2.googlesyndication.com&quot;,&quot;/pagead/gen_204?id=wfocus&quot;,&quot;&amp;gqid=&quot;+a.k,&quot;&amp;qqid=&quot;+a.n].join(&quot;&quot;);0==b&amp;&amp;(a+=&quot;&amp;return=0&quot;);1==b&amp;&amp;(a+=&quot;&amp;return=1&amp;timeDelta=&quot;+c);2==b&amp;&amp;(a+=&quot;&amp;bgload=1&quot;);3==b&amp;&amp;(a+=&quot;&amp;fg=1&quot;);m.google_image_requests||(m.google_image_requests=[]);b=m.document.createElement(&quot;img&quot;);b.src=a;m.google_image_requests.push(b)},n=function(){return&quot;undefined&quot;!==typeof l.hidden?l.hidden:&quot;undefined&quot;!==typeof l.mozHidden?l.mozHidden:&quot;undefined&quot;!==typeof l.msHidden?l.msHidden:&quot;undefined&quot;!==typeof l.webkitHidden?l.webkitHidden:!1};var r=function(a,b,c,g){return a?new q(a.getEscapedGwsQueryId(),a.getEscapedQemQueryId(),b,c,g):null},t=[&quot;wfocusinit&quot;],u=this;t[0]in u||!u.execScript||u.execScript(&quot;var &quot;+t[0]);for(var v;t.length&amp;&amp;(v=t.shift());){var x;if(x=!t.length)x=void 0!==r;x?u[v]=r:u=u[v]?u[v]:u[v]={}};})();wfocusinit(adSlot,false,false,false);&lt;/script&gt;  &lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:1,&quot;hostPeerName&quot;:&quot;http://www.cnblogs.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:23,\&quot;windowCoords_r\&quot;:907,\&quot;windowCoords_b\&quot;:686,\&quot;windowCoords_l\&quot;:143,\&quot;frameCoords_t\&quot;:36147.25,\&quot;frameCoords_r\&quot;:320,\&quot;frameCoords_b\&quot;:36397.25,\&quot;frameCoords_l\&quot;:20,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:0,\&quot;allowedExpansion_r\&quot;:0,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:0,\&quot;xInView\&quot;:0,\&quot;yInView\&quot;:0}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:true,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-1\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;15.0.0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false}" scrolling="no" marginwidth="0" marginheight="0" width="300" height="250" data-is-safeframe="true" style="border: 0px; vertical-align: bottom;"></iframe></div><iframe id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" name="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none;"></iframe></div>
</div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/515284/" target="_blank">你该学点HTML/CSS知识的9大理由</a><br> ·  <a href="http://news.cnblogs.com/n/515283/" target="_blank">你以为新开个公司就是创业公司？</a><br> ·  <a href="http://news.cnblogs.com/n/515282/" target="_blank">滴滴若与快的合并，最受伤的是百度！</a><br> ·  <a href="http://news.cnblogs.com/n/515281/" target="_blank">天猫国际迎大型卖场入驻潮：欧美日韩都有</a><br> ·  <a href="http://news.cnblogs.com/n/515280/" target="_blank">周鸿祎不做“大神”做“自己”</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="google_ad_c2" class="c_ad_block">
<div id="div-gpt-ad-1410860226396-0" style="width:468px; height:60px;">
<script type="text/javascript">
try {
    if (enableGoogleAd) {
        googletag.cmd.push(function () { googletag.display('div-gpt-ad-1410860226396-0'); });
    } else {
        $('#div-gpt-ad-1346480159711-0').hide();
    }
} catch (e) { }
</script>
<div id="google_ads_iframe_/1090369/cnblogs_blogpost_C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/cnblogs_blogpost_C2_0" name="google_ads_iframe_/1090369/cnblogs_blogpost_C2_0" width="468" height="60" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/515258/" target="_blank">Bitmap的秘密</a><br> ·  <a href="http://kb.cnblogs.com/page/515151/" target="_blank">我该如何向非技术人解释SQL注入？</a><br> ·  <a href="http://kb.cnblogs.com/page/514938/" target="_blank">使用2-3法则设计分布式数据访问层</a><br> ·  <a href="http://kb.cnblogs.com/page/514866/" target="_blank">数据清洗经验</a><br> ·  <a href="http://kb.cnblogs.com/page/514725/" target="_blank">设计中的变与不变</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    setTimeout(function () { incrementViewCount(cb_entryId); }, 200);
});
</script>
</div>

        </div>

        <script type="text/javascript">
            var m = window.__blog.contentRendered;
            if (m) { m(__$("content")); }
        </script>

        <div id="sidebar">
            
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news"><p><img style="float:left;margin-right:10px" alt="" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/tom.jpg" height="150" width="150"><strong>目前工作</strong>：项目管理（PMP）<br>
<strong>曾获认证</strong>：MCP、MCSE、MCDBA、MCTS、MCITP、MCPD、PMP、MVP<br>
<strong>略有小成</strong>：软件架构、设计模式、OOD、OOP、DI、IOC、AOP、SOA<br>
<strong>兴趣爱好</strong>：技术、管理、英文、吃喝玩乐乱侃空
</p>
<p style="clear:both"></p>
<br>
熟悉Waterfall、Agile(Scrum&amp;XP)，染指C#、ASP.NET、MVC、EF、NHibernate、SQL Server、Oracle、JavaScript、HTML5、CSS3、JQuery、Knockout、Silverlight、WPF、WCF、ADFS等技术<br>
<br>
<span style="color: red;">注：</span>本人翻译的技术文章皆不是逐句翻译，而是按照自己的理解翻译的（当然也去除了一些不影响理解但本人实在不知道如何组织的句子）。<br>
<br>
<p style="clear:both"></p>
<fieldset> <legend>作品上市</legend>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/zcover.jpg" alt="" width="150">
[1] <a href="http://item.jd.com/11644151.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://product.china-pub.com/4559565" target="_blank">China-Pub</a>
<br>
[3] <a href="http://www.amazon.cn/gp/product/B00SNCI018//ref=fs_rd_1" target="_blank">卓越亚马逊</a>
<br>
[4] <a href="http://product.dangdang.com/23648815.html" target="_blank">当当网</a>
<br>
[5] <a href="http://book.douban.com/subject/25980651/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=%E7%BC%96%E5%86%99%E5%8F%AF%E6%B5%8B%E8%AF%95%E7%9A%84JavaScript%E4%BB%A3%E7%A0%81" target="_blank">淘宝网</a>
<br>
<br>
</p>
<p style="clear:both"></p><br>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/zcover(1).jpg" alt="" width="150">
[1] <a href="http://item.jd.com/11542504.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://product.china-pub.com/3770506" target="_blank">China-Pub</a>
<br>
[3] <a href="http://www.amazon.cn/gp/product/B00NIEA9DS/ref=fs_rd_1" target="_blank">卓越亚马逊</a>
<br>
[4] <a href="http://product.dangdang.com/23563374.html" target="_blank">当当网</a>
<br>
[5] <a href="http://book.douban.com/subject/25980651/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=Backbone.js%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91" target="_blank">淘宝网</a>
<br>
<br>
</p>
<p style="clear:both"></p><br>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/zcover(2).jpg" alt="" width="150">
[1] <a href="http://item.jd.com/11462962.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://product.china-pub.com/3770057" target="_blank">China-Pub</a>
<br>
[3] <a href="http://www.amazon.cn/Web%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF%E4%B8%9B%E4%B9%A6-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Bootstrap-%E5%BE%90%E6%B6%9B/dp/B00KCCM4HI/" target="_blank">卓越亚马逊</a>
<br>
[4] <a href="http://product.dangdang.com/23475042.html" target="_blank">当当网</a>
<br>
[5] <a href="http://book.douban.com/subject/25886197/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Bootstrap" target="_blank">淘宝网</a>
<br>
<br>
</p>
<p style="clear:both"></p><br>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/shupi.jpg" alt="" width="150">
[1] <a href="http://item.jd.com/11416981.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://product.china-pub.com/3769483" target="_blank">China-Pub</a>
<br>
[3] <a href="http://www.amazon.cn/JavaScript%E5%90%AF%E7%A4%BA%E5%BD%95-%E7%BE%8E-Cody-Lindley/dp/B00IR39PNU/" target="_blank">卓越亚马逊</a>
<br>
[4] <a href="http://product.dangdang.com/23433090.html" target="_blank">当当网</a>
<br>
[5] <a href="http://book.douban.com/subject/25837367/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=JavaScript%E5%90%AF%E7%A4%BA%E5%BD%95" target="_blank">淘宝网</a>
<br>
<br>
</p>
<p style="clear:both"></p><br>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/o_jsdp.jpg" alt="" width="150">
[1] <a href="http://book.jd.com/11253887.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://www.amazon.cn/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BE%8E-Addy-Osmani/dp/B00D6MT3LG/" target="_blank">卓越亚马逊</a>
<br>
[3] <a href="http://product.dangdang.com/product.aspx?product_id=23266635" target="_blank">当当网</a>
<br>
[4] <a href="http://product.china-pub.com/3768064" target="_blank">China-Pub</a>
<br>
[5] <a href="http://book.douban.com/subject/24744217/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20Addy%20Osmani" target="_blank">淘宝网</a>
<br>
<br>
</p>
<div style="clear:both"></div>
<p><img style="float:left;margin-right:10px" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/o_EloquentJavaScript.jpg" alt="" width="150">
[1] <a href="http://book.360buy.com/11091494.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://www.amazon.cn/JavaScript%E7%BC%96%E7%A8%8B%E7%B2%BE%E8%A7%A3-%E5%93%88%E5%BC%97%E8%B4%9D%E5%85%8B/dp/B009A7D25E/ref=sr_1_11" target="_blank">卓越亚马逊</a>
<br>
[3] <a href="http://union.dangdang.com/transfer/transfer.aspx?from=P-263982&backurl=http://product.dangdang.com/product.aspx?product_id=22873894" target="_blank">当当网</a>
<br>
[4] <a href="http://product.china-pub.com/3684096" target="_blank">China-Pub</a>
<br>
[5] <a href="http://book.douban.com/subject/19933548/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=JavaScript%E7%BC%96%E7%A8%8B%E7%B2%BE%E8%A7%A3" target="_blank">淘宝网</a>
<br>
<br>
<a href="http://www.cnblogs.com/TomXu/archive/2012/10/21/JSError.html" target="_blank">本书勘误</a>
</p>

</fieldset><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/TomXu/">汤姆大叔</a><br>园龄：<a href="http://home.cnblogs.com/u/TomXu/" title="入园时间：2011-11-10">3年3个月</a><br>荣誉：<a href="http://www.cnblogs.com/expert/">推荐博客</a><br>粉丝：<a href="http://home.cnblogs.com/u/TomXu/followers/">6342</a><br>关注：<a href="http://home.cnblogs.com/u/TomXu/followees/">19</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger(&#39;65b02d3c-5b0b-e111-b7b9-842b2b196315&#39;)">+加关注</a></div></div></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

            <script type="text/javascript">
                var m = window.__blog.aboutRendered;
                if (m) { m(__$("about")); }
            </script>
            
<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/btnsearch.gif" id="btnZzk" class="submit" onclick="zzk_go();return false;">
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword"></label>
    </div>
</div>

            <script type="text/javascript">
                var m = window.__blog.searchFormRendered;
                if (m) { m(__$("searchform")); }
            </script>
            <div id="sideMain">
            <div id="side-recent-posts">
        <h2>最新随笔</h2>
        <ul class="bullet">
                <li><a href="http://www.cnblogs.com/TomXu/p/4266774.html">新书《编写可测试的JavaScript代码 》出版，感谢支持</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756865.html">MVC之前的那点事儿系列（10）：MVC为什么不再需要注册通配符（*.*）了？</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756863.html">MVC之前的那点事儿系列（9）：MVC如何在Pipeline中接管请求的？</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756858.html">MVC之前的那点事儿系列（8）：UrlRouting的理解</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756854.html">MVC之前的那点事儿系列（7）：WebActivator的实现原理详解</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756846.html">MVC之前的那点事儿系列（6）：动态注册HttpModule</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756843.html">MVC之前的那点事儿系列（5）：Http Pipeline详细分析（下）</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756832.html">MVC之前的那点事儿系列（4）：Http Pipeline详细分析（上）</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756824.html">MVC之前的那点事儿系列（3）：HttpRuntime详解分析（下）</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/p/3756813.html">MVC之前的那点事儿系列（2）：HttpRuntime详解分析（上）</a></li>
        </ul>
    </div><div id="side-recent-comments">
        <h2>最新评论</h2>
        <ul class="voice">
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3129282">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3129282">
                        正在看您翻译的《Javascript编程精解》，大叔太厉害了！
                        -- 天琊蓝
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html#3128077">Re:深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html#3128077">
                        学习了~
                        -- 云一样飘过
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html#3125642">Re:深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html#3125642">
                        十分感谢，正在学习~
                        -- 灰丶一样
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/archive/2012/10/22/2733027.html#3125544">Re:《JavaScript编程精解》回馈网友，汤姆大叔送书30本</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/10/22/2733027.html#3125544">
                        抢书喽，抢抢
                        -- YaChenYa
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/archive/2012/02/24/2353434.html#3125384">Re:深入理解JavaScript系列（29）：设计模式之装饰者模式</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/02/24/2353434.html#3125384">
                        这个模式挺好，今天用上了
                        -- Jeff.Zhong
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3123195">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3123195">
                        支持啊。。。。
                        -- 无眠
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3122872">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3122872">
                        大叔 又出书了 厉害
                        -- lordma
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3122510">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3122510">
                        mark
                        -- 舒元华
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3122253">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3122253">
                        大叔又出书了， 恭喜。<br>那本《Javascript启示录》很棒
                        -- Frank.Fan
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/TomXu/p/4266774.html#3122245">Re:新书《编写可测试的JavaScript代码 》出版，感谢支持</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/TomXu/p/4266774.html#3122245">
                        有没有试读章节哇？
                        -- 幻天芒
                    </a>
                </li>
        </ul>
    </div></div>
            <div id="sideRight">
            <div id="side-archives">
        <h2>随笔档案</h2>
        <ul class="date">
                <li><a href="http://www.cnblogs.com/TomXu/archive/2015/02.html">2015年2月(1)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2014/06.html">2014年6月(7)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2014/05.html">2014年5月(6)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2014/03.html">2014年3月(1)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2013/06.html">2013年6月(1)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/10.html">2012年10月(2)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/07.html">2012年7月(3)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/04.html">2012年4月(12)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/03.html">2012年3月(5)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/02.html">2012年2月(18)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2012/01.html">2012年1月(14)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2011/12.html">2011年12月(45)</a></li>
                <li><a href="http://www.cnblogs.com/TomXu/archive/2011/11.html">2011年11月(28)</a></li>
        </ul>
    </div>    
    
    
    
    


        
        
        
        
        
<div id="side-link-341714">
            <h2>[01]汤姆大叔系列博文</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/10/2283385.html" target="_blank">[01]大叔手记全集</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/11/21/2257154.html" target="_blank">[02]Knockout应用开发指南</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/11/25/2263050.html" target="_blank">[03]微软ASP.NET站点部署指南</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/06/2277499.html" target="_blank">[04]HTML5学习笔记简明版</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2284773.html" target="_blank">[05]大叔翻译博文索引</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html" target="_blank">[06]深入理解JavaScript系列</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/p/3756794.html" target="_self">[07]MVC之前的那点事儿系列</a>
                        </li>
            </ul>
        </div><div id="side-link-345293">
            <h2>[04]推荐博友精选好文</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.cnblogs.com/peterzb/archive/2009/06/14/1502918.html" target="_blank">[01]C# WinForm开发系列</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/lifepoem/archive/2011/12/16/2288017.html" target="_blank">[02]LINQ之路</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/xiao-f/archive/2011/12/19/lang.html" target="_blank">[03]Javascript面向对象扩展库</a>
                        </li>
            </ul>
        </div><div id="side-link-348581">
            <h2>[05]推荐外部精选好文</h2>
            <ul class="chain">
                        <li>
                            <a href="http://kangax.github.com/es5-compat-table/" target="_blank">[01]ECMAScript 5浏览器兼容表</a>
                        </li>
                        <li>
                            <a href="http://kb.cnblogs.com/page/127995/" target="_blank">[02]Javascript 面向对象编程</a>
                        </li>
            </ul>
        </div></div>
            <div id="sideLeft">
            <div id="side-calendar">
        <h2>日历</h2>
        <div id="blog-calendar"><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="日历">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2012/01/01&#39;);return false;">&lt;</a></td><td align="center">2012年2月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2012/03/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td class="CalOtherMonthDay" align="center">31</td><td align="center">1</td><td align="center">2</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/03.html"><u>3</u></a></td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center">5</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/06.html"><u>6</u></a></td><td align="center">7</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/08.html"><u>8</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/09.html"><u>9</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/10.html"><u>10</u></a></td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/14.html"><u>14</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/15.html"><u>15</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/16.html"><u>16</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/17.html"><u>17</u></a></td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/20.html"><u>20</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/21.html"><u>21</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/22.html"><u>22</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/23.html"><u>23</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/24.html"><u>24</u></a></td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center">26</td><td align="center">27</td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/28.html"><u>28</u></a></td><td align="center"><a href="http://www.cnblogs.com/TomXu/archive/2012/02/29.html"><u>29</u></a></td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td></tr><tr><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td><td class="CalOtherMonthDay" align="center">9</td><td class="CalOtherMonthDay" align="center">10</td></tr>
</tbody></table></div>
    </div><div id="side-categories">
        <h2>随笔分类</h2>
        <ul class="folder">
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/335665.html">[01].Net Framework(4)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/338101.html">[02]C#(3)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/338102.html">[03]ASP.NET(6)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/335666.html">[04]ASP.NET MVC(19)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/336175.html">[05]HTML5/CSS3(18)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/338104.html">[06]JS/jQuery(66)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/337109.html">[07]Web开发(62)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/336771.html">[08]Knockout(15)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/338040.html">[09]配置管理(13)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/337899.html">[10]项目管理(3)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/TomXu/category/340064.html">[11]大叔手记(22)</a>
                </li>
        </ul>
    </div><div id="side-top-posts-custom">
    <h2>推荐排行榜</h2>
    <div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html">1. 深入理解JavaScript系列(327)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html">2. 深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点(278)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html">3. 大叔手记（12）：我的一次面试经历（谈大叔如何应对面试官）(239)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/02/23/2364425.html">4. 大叔手记（21）：汤姆大叔博客园开博100天总结(206)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html">5. 深入理解JavaScript系列（2）：揭秘命名函数表达式(136)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/05/2305453.html">6. 深入理解JavaScript系列（5）：强大的原型和原型链(111)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html">7. 深入理解JavaScript系列（3）：全面解析Module模式(109)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/12/2308594.html">8. 深入理解JavaScript系列（10）：JavaScript核心（晋级高手必读篇）(107)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/19/2291448.html">9. 大叔手记（10）：别再让面试官问你单例（暨6种实现方式让你堵住面试官的嘴）(90)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/11/22/2258849.html">10. 最锋利的Visual Studio Web开发工具扩展：Web Essentials详解(83)</a></li></ul></div>
</div><div id="side-top-posts">
    <h2>阅读排行榜</h2>
    <div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html">1. 深入理解JavaScript系列(205772)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html">2. 深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点(85633)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/11/21/2257154.html">3. Knockout应用开发指南（完整版） 目录索引(57228)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html">4. 深入理解JavaScript系列（2）：揭秘命名函数表达式(45392)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html">5. 深入理解JavaScript系列（3）：全面解析Module模式(34959)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/12/2308594.html">6. 深入理解JavaScript系列（10）：JavaScript核心（晋级高手必读篇）(34044)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/05/2305453.html">7. 深入理解JavaScript系列（5）：强大的原型和原型链(33290)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/31/2289423.html">8. 深入理解JavaScript系列（4）：立即调用的函数表达式(31987)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/10/22/2733027.html">9. 《JavaScript编程精解》回馈网友，汤姆大叔送书30本(31893)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html">10. 大叔手记（12）：我的一次面试经历（谈大叔如何应对面试官）(31057)</a></li></ul></div>
</div><div id="side-link-342866">
            <h2>[02]汤姆大叔推荐单篇</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/14/2286225.html" target="_blank">[01]大型JavaScript应用架构模式</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/19/2291448.html" target="_blank">[02]别再让面试官问你单例</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html" target="_blank">[03]大叔的一次面试经历</a>
                        </li>
            </ul>
        </div><div id="side-link-345292">
            <h2>[03]推荐博友算法相关</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.cnblogs.com/huangxincheng/category/340146.html" target="_blank">[01]算法系列15天速成</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/jinzhao/archive/2011/11/30/2268569.html" target="_blank">[02]算法实现大全</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/tuyile006/category/95974.html" target="_blank">[03]常用算法</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/Jax/category/57279.html" target="_blank">[04]算法大全</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/weidagang2046/archive/2009/07/31/1535902.html" target="_blank">[05]博客积分算法探讨</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/chehaoj/archive/2010/11/23/1885497.html" target="_blank">[06]常见算法推演</a>
                        </li>
                        <li>
                            <a href="http://www.cnblogs.com/wangfupeng1988/archive/2011/12/26/2302216.html" target="_blank">[07]眼睛直观感受几种常用排序算法</a>
                        </li>
            </ul>
        </div></div>
            
                <div id="sideContainer"></div>
                <script type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                loadBlogDefaultCalendar();
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });

                </script>
            
        </div>

        <script type="text/javascript">
            var m = window.__blog.sidebarRendered;
            if (m) { m(__$("sidebar")); }
        </script>

        <div id="footer">
            
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright ©2015 汤姆大叔
</p>
<p>
<a href="http://www.cnblogs.com/">博客园</a>
</p>
</div>
        </div>
    </div>

    <script type="text/javascript">
        var m = window.__blog.wrapperRendered;
        if (m) { m(__$("wrapper")); }
    </script>

</div>
<script type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>
<!--PageEndHtml Block Begin-->
<script type="text/javascript">
    $(document).ready(function () {
        $("body").prepend($("#div_digg").css({
            "position": "fixed", "right": "0px", "bottom": "0px", "z-index": "10", "background-color": "white", "margin": "10px", "padding": "10px", "border": "1px solid #cccccc"
        }));
      $(".cnblogs_code_toolbar").hide();
    });
</script><iframe src="./深入理解JavaScript系列（18）：面向对象编程之ECMAScript实现（推荐） - 汤姆大叔 - 博客园_files/container.html" style="visibility: hidden; display: none;"></iframe>
<!--PageEndHtml Block End-->


<iframe id="google_osd_static_frame_327710767742" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>